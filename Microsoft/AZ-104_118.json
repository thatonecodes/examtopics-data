{"pageProps":{"questions":[{"id":"ggGPVntFlzcIQSU4ByEX","timestamp":"2023-09-06 11:56:00","url":"https://www.examtopics.com/discussions/microsoft/view/120083-exam-az-104-topic-6-question-53-discussion/","answer_description":"","isMC":true,"discussion":[{"upvote_count":"17","comment_id":"1001518","poster":"DeVullers","timestamp":"1694088660.0","content":"Selected Answer: D\nCorrect answer: D\n\nOut-of-Order Events\nNumber of events received out of order that were either dropped or given an adjusted time stamp, based on the event ordering policy. This metric can be affected by the configuration of the Out-of-Order Tolerance Window setting.\n\nOutput Events\nAmount of data that the Stream Analytics job sends to the output target, in number of events.\n\nLate Input Events\nEvents that arrived later than the configured tolerance window for late arrivals. Learn more about Azure Stream Analytics event order considerations.\n\nBacklogged Input Events\nNumber of input events that are backlogged. A nonzero value for this metric implies that your job can't keep up with the number of incoming events. If this value is slowly increasing or is consistently nonzero, you should scale out your job. To learn more, see Understand and adjust streaming units.\n\nReference: \nhttps://learn.microsoft.com/en-us/azure/stream-analytics/stream-analytics-job-metrics"},{"upvote_count":"7","comment_id":"1005745","timestamp":"1694521920.0","content":"To monitor input events for an Azure Stream Analytics job and identify the number of events that were NOT processed, you should use the \"Backlogged Input Events\" metric.\n\nThe correct option is:\n\nD. Backlogged Input Events\n\nThis metric represents the number of input events that are waiting to be processed because of issues such as query errors, throttling, or other processing limitations. Monitoring this metric can help you identify events that have not been processed as expected.","poster":"Teekaykols"},{"poster":"[Removed]","upvote_count":"1","timestamp":"1728735060.0","content":"Selected Answer: D\nD is correct","comment_id":"1296497"},{"poster":"Amir1909","comment_id":"1179669","content":"D is correct","upvote_count":"1","timestamp":"1711056000.0"},{"upvote_count":"2","comment_id":"1016108","timestamp":"1695581400.0","poster":"nmnm22","content":"Selected Answer: D\nel answer es D"},{"upvote_count":"1","content":"Selected Answer: D\nD. Backlogged Input Events","poster":"ServerBrain","comment_id":"1015354","timestamp":"1695507120.0"},{"upvote_count":"2","comment_id":"1000458","timestamp":"1693994160.0","content":"Selected Answer: D\nThe \"Backlogged Input Events\" metric tracks the number of input events that have not been processed yet, indicating events that are waiting in the job's input queue to be processed. This is useful for identifying any backlog or delays in event processing.","poster":"Vokuhila"}],"question_id":586,"choices":{"D":"Backlogged Input Events","C":"Late Input Events","A":"Out-of-Order Events","B":"Output Events"},"exam_id":44,"topic":"6","answer":"D","question_images":[],"unix_timestamp":1693994160,"answer_images":[],"question_text":"You have an Azure subscription that contains an Azure Stream Analytics job named Job1.\n\nYou need to monitor input events for Job1 to identify the number of events that were NOT processed.\n\nWhich metric should you use?","answers_community":["D (100%)"],"answer_ET":"D"},{"id":"nke9Xkc75LzLFIAMTjBF","exam_id":44,"answer":"A","isMC":true,"question_text":"You have an Azure subscription that contains an Azure SQL database named DB1.\n\nYou plan to use Azure Monitor to monitor the performance of DB1. You must be able to run queries to analyze log data.\n\nWhich destination should you configure in the Diagnostic settings of DB1?","topic":"6","timestamp":"2023-10-05 03:29:00","answers_community":["A (100%)"],"discussion":[{"poster":"rokkcy","content":"Selected Answer: A\nThe first one to comment","comment_id":"1025241","timestamp":"1696469340.0","upvote_count":"8"},{"comment_id":"1048939","content":"Selected Answer: A\nTo be able to run queries and analyze log data for Azure SQL database DB1, you should configure the Diagnostic settings to send the logs to a Log Analytics workspace.\n\nA. Send to a Log Analytics workspace: This option allows you to send the diagnostic logs to a Log Analytics workspace, which serves as a central repository for log data. You can then run queries and perform analysis on the log data using Azure Monitor Logs.","poster":"GODUSGREAT","timestamp":"1697817480.0","upvote_count":"6"},{"comment_id":"1296498","upvote_count":"1","poster":"[Removed]","timestamp":"1728735180.0","content":"Selected Answer: A\nA is correct"},{"upvote_count":"2","comment_id":"1179670","content":"A is right","poster":"Amir1909","timestamp":"1711056000.0"},{"content":"Selected Answer: A\nData sent to a Log Analytics workspace can be consumed by SQL Analytics, which provides intelligent monitoring of your databases including performance reports, alerts, and mitigation recommendations. Moreover, data in a Log Analytics workspace can be analyzed alongside other monitoring data collected, and also allows you to leverage other Azure Monitor features such as alerts and visualizations\n\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/metrics-diagnostic-telemetry-logging-streaming-export-configure?view=azuresql&tabs=azure-portal\nhttps://www.sqlservercentral.com/articles/monitoring-azure-sql-databases#:~:text=If%20not%2C%20just%20search%20for%20Log%20Analytics%20workspace,Set%20the%20destination%20to%20your%20Log%20Analytics%20Workspace.#:~:text=If%20not%2C%20just%20search%20for,to%20your%20Log%20Analytics%20Workspace\nhttps://techcommunity.microsoft.com/t5/azure-database-support-blog/azure-sql-db-and-log-analytics-better-together-part-1/ba-p/794833","comment_id":"1045283","poster":"Vestibal","upvote_count":"4","timestamp":"1697492040.0"}],"answer_images":[],"choices":{"C":"Stream to an Azure event hub.","B":"Archive to a storage account.","A":"Send to a Log Analytics workspace."},"answer_description":"","question_id":587,"question_images":[],"answer_ET":"A","unix_timestamp":1696469340,"url":"https://www.examtopics.com/discussions/microsoft/view/122479-exam-az-104-topic-6-question-54-discussion/"},{"id":"cSI2wbcmtuGpOqWOVVGZ","answer_images":[],"choices":{"B":"XPath","A":"SQL","C":"KQL"},"exam_id":44,"answer_ET":"B","unix_timestamp":1695992400,"discussion":[{"comments":[{"upvote_count":"11","poster":"ki01","content":"i like how entire event filtering system is implemented into log analytics with KQL, so a lot of people get sort of comfortable with that, BUT HERE, in this one place, instead of filtering event ingress like a normal person, you have to use some random unheard of toaster syntax","comment_id":"1099802","timestamp":"1702911420.0"}],"poster":"SgtDumitru","comment_id":"1084723","timestamp":"1701373380.0","content":"Microsoft: We will find that 1 sentence in our entire Doc which mentioned a language which wasn't mentioned in any our courses and we'll 100% ask everybody about it, because...of reasons..","upvote_count":"43"},{"content":"The correct answer is B.\n\nWhilst you can use KQL to filter for events with ID 101, this implies that the Data Collection Rule ingests all events into the Log Analytics Workspace, thus driving up costs. \n\nThis question specifically asks for the data source configuration as part of creating Rule1. If you are only interested in Event ID 1001 you should filter it from the start, when configuring the Data Collection Rule. To do that, you must use an XPath query.\n\nhttps://learn.microsoft.com/en-us/azure/azure-monitor/agents/data-collection-rule-azure-monitor-agent?tabs=portal#filter-events-using-xpath-queries","comments":[{"content":"B is correct\n\nhttps://learn.microsoft.com/en-us/azure/azure-monitor/agents/data-collection-windows-events#configure-windows-event-data-source","timestamp":"1735294140.0","comment_id":"1332346","upvote_count":"1","poster":"c75e123"}],"upvote_count":"13","comment_id":"1099118","timestamp":"1702835700.0","poster":"[Removed]"},{"poster":"Josh219","upvote_count":"4","timestamp":"1732273200.0","content":"Selected Answer: B\nXPath: Used for querying Windows event logs.\nKQL: Used for querying data in Azure Data Explorer and Log Analytics workspaces.\n\nTherefore, XPath is the correct choice for your data collection rule (DCR) to collect specific system events from Windows event logs.","comment_id":"1316245"},{"poster":"[Removed]","comment_id":"1296501","upvote_count":"4","timestamp":"1728735660.0","content":"Selected Answer: B\nB is correct\n\nXPath is the query language used to filter and collect specific events from Windows Event Logs, which are stored in an XML format. \nSince you only need to collect system events with an ID of 1001 from the Windows System event logs, you will use an XPath query to specify this condition.\n\n\nExample of an XPath query to collect events with ID 1001:\n\n<QueryList>\n <Query Id=\"0\" Path=\"System\">\n <Select Path=\"System\">*[System[(EventID=1001)]]</Select>\n </Query>\n</QueryList>"},{"poster":"0378d43","timestamp":"1728436440.0","upvote_count":"1","comment_id":"1294909","content":"Selected Answer: C\nKQL is been used to query for the event id."},{"comment_id":"1282922","upvote_count":"5","content":"How does this help me to become Azure Architect?","poster":"Debugs_Bunny","timestamp":"1726191180.0"},{"comment_id":"1232125","upvote_count":"1","content":"B is correct. Note - SQL is used for querying relational databases and is not applicable for querying Windows Event Logs.","poster":"learnazureportal","timestamp":"1718658300.0"},{"poster":"Amir1909","timestamp":"1711055820.0","upvote_count":"1","comment_id":"1179664","content":"C is correct"},{"upvote_count":"2","comment_id":"1090648","content":"Selected Answer: B\nTo consume events, you can consume all events or you can specify an XPath expression that identifies the events that you want to consume. \n\nhttps://learn.microsoft.com/en-us/windows/win32/wes/consuming-events","timestamp":"1701988860.0","poster":"GoldBear"},{"comment_id":"1056538","timestamp":"1698547380.0","poster":"OrangeSG","upvote_count":"4","content":"Selected Answer: B\nXPath is a query language used to select nodes from an XML document. The Azure Monitor Agent uses XPath queries to filter events from Windows System event logs.\n\nTo collect only system events that have an ID of 1001, you would use the following XPath query:\n//*[System/@EventID=1001]\n\nThis query will select all nodes in the XML document where the System element has an EventID attribute equal to 1001.\n\nSQL and KQL are not supported for filtering events from Windows System event logs."},{"comment_id":"1049377","timestamp":"1697879700.0","poster":"Peter6529","content":"Selected Answer: C\nKQL is the correct","upvote_count":"1"},{"comment_id":"1045290","content":"Selected Answer: B\nTo collect specific events from Windows System event logs, such as those with an Event ID of 1001, you should use an XPath query. XPath is a query language that can be used to filter XML data, which is the format used by Windows Event Logs. In Azure Monitor, when configuring data collection rules for collecting Windows event log data, XPath queries are used to specify the criteria for the events you want to collect.\n\nSo, the correct answer is:\n\nB. XPath","upvote_count":"1","timestamp":"1697492520.0","poster":"Vestibal"},{"poster":"Hillah","upvote_count":"2","comment_id":"1044728","content":"B..Correct\nhttps://learn.microsoft.com/en-us/azure/azure-monitor/agents/data-collection-rule-azure-monitor-agent?tabs=portal","timestamp":"1697440080.0"},{"content":"Selected Answer: C\nKQL: For the log query, you'll need to use a custom Kusto Query Language (KQL) query. In this case, you want to collect System events with an ID of 1001.","comment_id":"1027601","upvote_count":"2","poster":"XtraWest","timestamp":"1696709040.0"},{"comment_id":"1025196","timestamp":"1696457340.0","content":"To specify more filters, use custom configuration and specify an XPath that filters out the events you don't need. XPath entries are written in the form LogName!XPathQuery. For example, you might want to return only events from the Application event log with an event ID of 1035. The XPathQuery for these events would be *[System[EventID=1035]]. Because you want to retrieve the events from the Application event log, the XPath is Application!*[System[EventID=1035]]\n\nhttps://learn.microsoft.com/th-th/azure/azure-monitor/agents/data-collection-rule-azure-monitor-agent?tabs=portal#filter-events-using-xpath-queries","poster":"Shaanwar2001","upvote_count":"3"},{"poster":"KMLearn2","timestamp":"1696244100.0","comment_id":"1023025","content":"Selected Answer: B\nCustom data source in Azure Portal says: \"Use XPath queries to filter event logs and limit data collection\"","upvote_count":"6"},{"poster":"Nighty470","upvote_count":"1","comments":[{"timestamp":"1696243860.0","content":"Also in Event Viewer there is an option to see Details in XML format \"XML View\" so I'm pretty sure answer is XPath.","comment_id":"1023021","poster":"Nighty470","upvote_count":"1"}],"content":"When you are at 'Add data source' during DCR creation, under Custom, you are faced with:\n\"Use XPath queries to filter event logs and limit data collection.\"","comment_id":"1023019","timestamp":"1696243740.0"},{"upvote_count":"1","poster":"gcertq","comment_id":"1021540","timestamp":"1696081980.0","content":"XPATH is for xml. Go with KQL"},{"content":"KQL\n\nhttps://learn.microsoft.com/en-us/azure/azure-monitor/essentials/data-collection-rule-structure","timestamp":"1695992400.0","comment_id":"1020791","poster":"FreeSwan","upvote_count":"4"}],"answer":"B","isMC":true,"question_text":"You have an Azure subscription. The subscription contains virtual machines that run Windows Server.\n\nYou have a data collection rule (DCR) named Rule1.\n\nYou plan to use the Azure Monitor Agent to collect events from Windows System event logs.\n\nYou only need to collect system events that have an ID of 1001.\n\nWhich type of query should you use for the data source in Rule1?","question_id":588,"topic":"6","timestamp":"2023-09-29 15:00:00","answer_description":"","question_images":[],"url":"https://www.examtopics.com/discussions/microsoft/view/121826-exam-az-104-topic-6-question-55-discussion/","answers_community":["B (84%)","C (16%)"]},{"id":"NDjR0aoQlPiaaq0yusD8","question_images":[],"question_text":"You have an Azure subscription that contains a virtual machine named VM1.\n\nYou have an on-premises datacenter that contains a domain controller named DC1. ExpressRoute is used to connect the on-premises datacenter to Azure.\n\nYou need to use Connection Monitor to identify network latency between VM1 and DC1.\n\nWhat should you install on DC1?","discussion":[{"content":"Selected Answer: D\nConnection monitor supports the Azure Monitor agent extension, which eliminates any dependency on the legacy Log Analytics agent.\n\nSee here:\nhttps://learn.microsoft.com/en-us/azure/network-watcher/azure-monitor-agent-with-connection-monitor\n\nThe following (older) link talks about setting up the Log Analytics agent: https://learn.microsoft.com/en-us/azure/network-watcher/connection-monitor-overview#agents-for-on-premises-machines","timestamp":"1696131180.0","comment_id":"1021987","poster":"Horus123","upvote_count":"35","comments":[{"timestamp":"1701022080.0","poster":"SgtDumitru","comment_id":"1080937","content":"Agree, after 4 a long discussion with OpenAi, it agreed.","upvote_count":"5"}]},{"comments":[{"poster":"danlo","comment_id":"1328860","upvote_count":"1","content":"Ya but this isn't an Azure VM, it's a on-prem which means Arc is required. Going with A. the Azure Connected Machine agent for Azure Arc-enabled servers","timestamp":"1734585960.0"},{"comments":[{"poster":"c75e123","timestamp":"1735818480.0","content":"The documentation changed a week ago, now the answer is: D\nLog Analytics agent is no longer supported for monitoring on-premises machines with Connection monitor.\nhttps://learn.microsoft.com/en-us/azure/network-watcher/connection-monitor-overview#monitoring-connectivity-from-on-premises-hosts","upvote_count":"3","comment_id":"1335537"}],"timestamp":"1734178320.0","content":"It is C: https://learn.microsoft.com/en-us/azure/network-watcher/connection-monitor-overview#agents-for-on-premises-machines","poster":"c75e123","upvote_count":"2","comment_id":"1326458"},{"content":"This needs more upvotes. Answer is right in the diagram at that link.","poster":"jodtzz","timestamp":"1730997660.0","comment_id":"1308462","upvote_count":"2"}],"comment_id":"1188261","timestamp":"1712084940.0","upvote_count":"17","poster":"MandAsh","content":"Selected Answer: C\nOh boy! that was very tricky! Its C guys. Log analytics agent.\nSo for connection monitor to work on Azure machines you need NEtwork watcher extension but for on prem machines you need Log analytic agent. \nFrom MS learn \" To make Connection monitor recognize your on-premises machines as sources for monitoring, install the Log Analytics agent on the machines. Then, enable the Network Performance Monitor solution. These agents are linked to Log Analytics workspaces, so you need to set up the workspace ID and primary key before the agents can start monitoring.\" \nhttps://learn.microsoft.com/en-us/azure/network-watcher/connection-monitor-overview"},{"upvote_count":"1","content":"Selected Answer: A\nIt is option A: \n\nThe Azure Connected Machine agent enables you to manage your Windows and Linux machines hosted outside of Azure on your corporate network or other cloud providers.\n\nhttps://learn.microsoft.com/en-us/azure/azure-arc/servers/agent-overview","poster":"GohanF2","comment_id":"1413818","timestamp":"1743364680.0"},{"timestamp":"1740991200.0","upvote_count":"1","comment_id":"1364334","content":"Selected Answer: B\nCan't be amy of the other options","poster":"AADAZURE"},{"content":"Selected Answer: B\nAll I can say is three different AI engines say B and give an explaination why not the rest of the options. And on this bombshell and lack of affirmative result from the despute I say B.","timestamp":"1739460840.0","poster":"Mitko_V_Milkov","comment_id":"1356183","upvote_count":"1"},{"content":"Selected Answer: D\nTrick question, it's the Azure Monitor agent that can be installed on an on-premises server, with the Azure Arc agent. The answer is D.","timestamp":"1737653400.0","comment_id":"1345543","poster":"Blankenp","upvote_count":"1"},{"poster":"lubas","content":"Selected Answer: A\nLetra A","upvote_count":"1","timestamp":"1737056580.0","comment_id":"1341827"},{"comment_id":"1334829","content":"Selected Answer: A\nA. the Azure Connected Machine agent for Azure Arc-enabled servers\nTo use Connection Monitor to identify network latency between VM1 (in Azure) and DC1 (on-premises), you need to install the Azure Connected Machine agent for Azure Arc-enabled servers on DC1","timestamp":"1735653060.0","upvote_count":"1","poster":"TodRose"},{"timestamp":"1734376380.0","content":"To make Connection monitor recognize your on-premises machines as sources for monitoring, install the Log Analytics agent on the machines.\n\nhttps://learn.microsoft.com/en-us/azure/network-watcher/connection-monitor-overview#agents-for-on-premises-machines","comment_id":"1327590","upvote_count":"1","poster":"Azure20"},{"timestamp":"1734280380.0","poster":"f559357","content":"Selected Answer: B\nAzure Network Watcher Agent because it is the only agent that enables Connection Monitor to perform latency tests between a resource in Azure and an on-premises server.","comment_id":"1326966","upvote_count":"4"},{"comment_id":"1323640","content":"Selected Answer: A\nMMA (Log Analytics Agent) is deprecated.\nYou have to install AMA (Azure Monitor Agent)\nBUT for DC1 (onprem) you have to install first the Azure Connected Machine for Azure Arc-enabled servers.\nSo the answer is A and then D.","poster":"amsioso","timestamp":"1733676300.0","upvote_count":"2"},{"comment_id":"1316250","poster":"Josh219","timestamp":"1732274220.0","content":"D is correct\nhttps://learn.microsoft.com/en-us/azure/network-watcher/azure-monitor-agent-with-connection-monitor","upvote_count":"1"},{"timestamp":"1730292780.0","poster":"Megabyte10","upvote_count":"3","comment_id":"1304992","content":"Selected Answer: A\nA. First you install the azure connected machine agent, then after that you install the Azure monitor agent."},{"poster":"[Removed]","timestamp":"1728736440.0","comment_id":"1296505","upvote_count":"1","content":"Selected Answer: D\nD is correct"},{"content":"Selected Answer: A\nA is correct. Everyone got it wrong. The question asks what to install on DC1...\nConnection Monitor from Azure Network Watcher requires both endpoints to be monitored for network performance. To monitor an on-premises machine (DC1), you must first enable management of that machine via Azure Arc. This process involves installing the Azure Connected Machine agent, which essentially \"connects\" your on-premises machine to Azure, allowing it to be treated like an Azure resource for monitoring purposes.\n\nAzure Arc is specifically designed to manage and monitor resources that are not natively in Azure (such as on-premises servers like DC1). Once DC1 is connected through Azure Arc, you can use Connection Monitor to assess network latency and connection reliability between VM1 (in Azure) and DC1 (on-premises).","timestamp":"1726191600.0","comment_id":"1282924","upvote_count":"2","poster":"Debugs_Bunny"},{"upvote_count":"2","poster":"[Removed]","comment_id":"1277484","content":"D.\nhttps://azure.microsoft.com/en-us/updates/were-retiring-the-log-analytics-agent-in-azure-monitor-on-31-august-2024/","timestamp":"1725359580.0"},{"poster":"SrWalk49","comment_id":"1269626","content":"LAA is set to be deprecated 8/31. AMA is the only other agent listed here. Answer is D.","timestamp":"1724176320.0","upvote_count":"1"},{"upvote_count":"2","poster":"[Removed]","comment_id":"1264216","timestamp":"1723392840.0","comments":[{"poster":"[Removed]","timestamp":"1723392900.0","upvote_count":"3","comment_id":"1264217","content":"CORRECTION!!!\n\nA is the necessary step before D, as per this documentation:\nhttps://learn.microsoft.com/en-us/azure/network-watcher/azure-monitor-agent-with-connection-monitor#:~:text=Agents%20for%20on%2Dpremises%20machines\n\nSo it could either be A or D.\n\nI think I'll go with D, unless the question ask for the first step, then it would be A"}],"content":"Selected Answer: D\nWell this is tricky...\n\nB is the necessary step before D, as per this documentation:\nhttps://learn.microsoft.com/en-us/azure/network-watcher/azure-monitor-agent-with-connection-monitor#:~:text=Agents%20for%20on%2Dpremises%20machines\n\nSo it could either be B or D.\n\nI think I'll go with D, unless the question ask for the first step, then it would be B"},{"poster":"maki999","comment_id":"1222563","content":"GPT4 says C:\nBased on the latest guidance, C. the Log Analytics agent remains the most appropriate choice for ensuring compatibility and functionality with Connection Monitor to measure network latency between an Azure VM and an on-premises domain controller.","timestamp":"1717234320.0","upvote_count":"1"},{"content":"Selected Answer: A\nBoth C and D are correct. However we will need Azure Connected Machine agent first before even installing either.\nConnection Monitor now supports the Azure Monitor Agent extension. This support eliminates any dependency on the legacy Log Analytics agent.\n\nhttps://learn.microsoft.com/en-us/azure/network-watcher/connection-monitor-create-using-portal#:~:text=Connection%20Monitor%20now%20supports%20the%20Azure%20Monitor%20Agent%20extension.%20This%20support%20eliminates%20any%20dependency%20on%20the%20legacy%20Log%20Analytics%20agent.","comment_id":"1218729","poster":"WeepingMaplte","upvote_count":"2","timestamp":"1716698280.0"},{"timestamp":"1716028800.0","content":"Selected Answer: C\nC is correct\nTo make Connection monitor recognize your on-premises machines as sources for monitoring, install the Log Analytics agent on the machines. Then, enable the Network Performance Monitor solution. These agents are linked to Log Analytics workspaces, so you need to set up the workspace ID and primary key before the agents can start monitoring.","upvote_count":"2","comment_id":"1213261","poster":"L3w1s"},{"timestamp":"1713821880.0","poster":"moadabdou","comment_id":"1200383","upvote_count":"2","content":"Selected Answer: D\nThe correct answer is: D. An Azure Monitor agent virtual machine extension\nExplanation:\n\nYou need to identify the network latency between an Azure virtual machine (VM1) and an on-premises domain controller (DC1) connected to Azure via ExpressRoute. Connection Monitor, a feature of Azure Network Watcher, helps you achieve this by monitoring network connectivity between Azure endpoints and endpoints outside Azure, including on-premises data centers.\nTo leverage Connection Monitor for this scenario, you need an agent installed on DC1 that can communicate with Azure Monitor and report network connectivity data."},{"content":"Selected Answer: C\nLog analytics agent need to install on DC1","comment_id":"1188983","poster":"bobothewiseman","upvote_count":"1","timestamp":"1712188620.0"},{"comment_id":"1179671","content":"C is correct","timestamp":"1711056060.0","poster":"Amir1909","upvote_count":"1"},{"comment_id":"1152968","timestamp":"1708218540.0","poster":"runaway_admin","upvote_count":"1","content":"Selected Answer: C\nTo make Connection Monitor recognize your on-premises machines as sources for monitoring, install the Log Analytics agent on the machines. Then, enable the Network Performance Monitor solution. These agents are linked to Log Analytics workspaces, so you need to set up the workspace ID and primary key before the agents can start monitoring.\nhttps://learn.microsoft.com/en-us/azure/network-watcher/connection-monitor-overview"},{"comment_id":"1151843","poster":"MatAlves","timestamp":"1708074480.0","upvote_count":"1","content":"\"To make connection monitor recognize your on-premises machines as sources for monitoring, follow these steps:\n\nEnable your hybrid endpoints to Azure Arc-enabled servers.\n\nConnect hybrid machines by installing the Azure Connected Machine agent on each machine.\n\nThis agent doesn't deliver any other functionality, and it doesn't replace Azure Monitor agent. The Azure Connected Machine agent simply enables you to manage the Windows and Linux machines that are hosted outside of Azure on your corporate network or other cloud providers.\n\nInstall Azure Monitor agent to enable the Network Watcher extension.\n\nThe agent collects monitoring logs and data from the hybrid sources and delivers them to Azure Monitor.\"\n\nhttps://learn.microsoft.com/en-us/azure/network-watcher/azure-monitor-agent-with-connection-monitor#agents-for-on-premises-machines"},{"poster":"Arthur_zw","upvote_count":"1","timestamp":"1706100480.0","content":"According to Bard, the Azure Connected agent only help when you want to manage the on-prem servers from the portal. Otherwise it is not a prerequisite for installing the Azure Monitor agent","comment_id":"1130610"},{"content":"Selected Answer: D\nTo install the agent on physical servers and virtual machines hosted outside of Azure\n (that is, on-premises) or in other clouds, you must install the Azure Arc Connected Machine agent first, at no added cost.\n\nAzure Connected Machine agent enables you to manage your Windows and Linux machines hosted outside of Azure \non your corporate network or other cloud providers.\n\nhttps://learn.microsoft.com/en-us/azure/azure-monitor/agents/azure-monitor-agent-manage?tabs=azure-portal","upvote_count":"2","timestamp":"1706017380.0","poster":"[Removed]","comment_id":"1129589"},{"upvote_count":"1","poster":"HiDhiman","content":"Option B: Azure Network Watcher Agent Extension: \nThis extension is specifically designed to collect network-related data, including connection monitor data, for virtual machines. Installing this extension on both VM1 and DC1 will enable Azure Network Watcher to monitor and analyze network latency between them.","comment_id":"1128909","timestamp":"1705946160.0"},{"poster":"Yvesk","content":"Selected Answer: A\nHere's what you need to do:\n\n- First, enable DC1 to become a Azure Arc-enabled server\n- Then install the Azure Connected Machine agent (option A)\n- And only then, install the Azure Monitor agent (includes a, Azure Monitor agent extension)\n\nSo, correct answer is A.\n\nIt's nicely explained here: https://learn.microsoft.com/en-us/azure/network-watcher/azure-monitor-agent-with-connection-monitor#agents-for-on-premises-machines","timestamp":"1704462660.0","comment_id":"1114537","upvote_count":"4","comments":[{"timestamp":"1715496300.0","poster":"BluAlien","comment_id":"1210160","upvote_count":"1","content":"That's true but the question doesn't express ask what should you install first, but only what should you install, so it's asking for the component that do the job which is Azure Monitoring Agent. It's the same MS semantic question."}]},{"comments":[{"timestamp":"1719595860.0","comment_id":"1238813","upvote_count":"1","content":"I agree with you because On-premises Requirements you do not need to install any specific software or agents on DC1 itself. The monitoring is initiated and managed entirely from Azure using Azure Network Watcher and Connection Monitor.","poster":"Juan_Ochoa_TI724"}],"upvote_count":"1","timestamp":"1703252820.0","poster":"EzBL","comment_id":"1103393","content":"Selected Answer: B\nThe answer is B. the Azure Network Watcher Agent virtual machine extension.\n\nHere's why:\n\nConnection Monitor: This Azure Network Watcher feature requires the Network Watcher Agent to be installed on both endpoints (VM1 and DC1) to accurately measure network latency and connectivity.\nOn-premises compatibility: The Network Watcher Agent can be installed on both Azure VMs and on-premises machines, making it suitable for this hybrid scenario.\nSpecific functionality: While other agents have monitoring capabilities, they don't enable Connection Monitor's specific network latency and connectivity insights."},{"poster":"Indy429","comment_id":"1102970","timestamp":"1703193180.0","content":"Nice a 50/50 split between answers...","upvote_count":"3"},{"poster":"henkhenk","timestamp":"1702756560.0","upvote_count":"3","comment_id":"1098472","content":"Selected Answer: D\nD\nAs per 11/15/2023:\nInstall Azure Monitor agent to enable the Network Watcher extension.\nhttps://learn.microsoft.com/en-us/azure/network-watcher/azure-monitor-agent-with-connection-monitor"},{"content":"Selected Answer: C\nFrom Learn:\nhttps://learn.microsoft.com/en-us/azure/network-watcher/connection-monitor-overview#agents-for-on-premises-machines","comment_id":"1097124","upvote_count":"1","poster":"GoldBear","timestamp":"1702629420.0"},{"timestamp":"1701988380.0","poster":"GoldBear","content":"Selected Answer: D\nConnection Monitor now supports the Azure Monitor Agent extension. This support eliminates any dependency on the legacy Log Analytics agent.\n\nhttps://learn.microsoft.com/en-us/azure/network-watcher/connection-monitor-create-using-portal#create-a-connection-monitor","comment_id":"1090645","upvote_count":"4"},{"upvote_count":"2","timestamp":"1701900300.0","content":"Selected Answer: C\nC - Log Analytics Workspace The question is asking what is installed on the On-Premise DC1. \n\nTo make Connection Monitor recognize your on-premises machines as sources for monitoring, install the Log Analytics agent on the machines. Then, enable the Network Performance Monitor solution. These agents are linked to Log Analytics workspaces, so you need to set up the workspace ID and primary key before the agents can start monitoring.\n\nTo install the Log Analytics agent for Windows machines, see Install Log Analytics agent on Windows.\nhttps://learn.microsoft.com/en-us/azure/network-watcher/connection-monitor-overview#install-monitoring-agents","comment_id":"1089801","poster":"GoldBear"},{"timestamp":"1701340500.0","poster":"AliNadheer","upvote_count":"2","comment_id":"1084245","content":"Selected Answer: C\nC. Log Analytics Agent \nTo make Connection Monitor recognize your on-premises machines as sources for monitoring, install the Log Analytics agent on the machines. Then, enable the Network Performance Monitor solution. These agents are linked to Log Analytics workspaces, so you need to set up the workspace ID and primary key before the agents can start monitoring.\nhttps://learn.microsoft.com/en-us/azure/network-watcher/connection-monitor-overview#agents-for-on-premises-machines"},{"comments":[{"upvote_count":"1","comment_id":"1078762","timestamp":"1700771160.0","content":"To install the agent on physical servers and virtual machines hosted outside of Azure (that is, on-premises) or in other clouds, you must install the Azure Arc Connected Machine agent first, at no added cost.\nhttps://learn.microsoft.com/en-us/azure/azure-monitor/agents/azure-monitor-agent-manage?tabs=azure-portal","poster":"nchebbi"}],"timestamp":"1700770140.0","content":"Selected Answer: C\nTo use Azure Monitor agent you need first to arc-enable (Install Azure Connected Machine agent \"option A\") your on-premises servers, if we want to use Connection monitor then we need either to install Log Analytics agent (option C) OR install option A & D.\nhttps://learn.microsoft.com/en-us/azure/network-watcher/azure-monitor-agent-with-connection-monitor#agents-for-on-premises-machines","upvote_count":"2","comment_id":"1078753","poster":"nchebbi"},{"poster":"Ahkhan","timestamp":"1699432860.0","upvote_count":"2","comment_id":"1065441","content":"If the question asks from DC1, the answer would be Log Analytics agent. if it asks, from VM1, it would Network Watcher agent virtual machine extension extension.\n\nAgents for on-premises machines\n\nTo make Connection Monitor recognize your on-premises machines as sources for monitoring, install the Log Analytics agent on the machines. \n\nAgents for Azure Virtual Machines and virtual machine scale sets\n\nTo make Connection Monitor recognize your Azure VMs or virtual machine scale sets as monitoring sources, install the Network Watcher Agent virtual machine extension on them. This extension is also known as the Network Watcher extension. \n\nhttps://learn.microsoft.com/en-us/azure/network-watcher/connection-monitor-overview"},{"poster":"Fr3ggel","content":"Selected Answer: C\nFor connection monitor you use the Log Analytics agent\nhttps://learn.microsoft.com/en-us/azure/network-watcher/connection-monitor-overview#agents-for-on-premises-machines","timestamp":"1699386000.0","comment_id":"1065118","upvote_count":"2"},{"timestamp":"1698548520.0","comment_id":"1056545","upvote_count":"2","content":"Selected Answer: C\nhttps://learn.microsoft.com/en-us/azure/network-watcher/connection-monitor-overview#agents-for-on-premises-machines\n\nAgents for on-premises machines\nTo make Connection Monitor recognize your on-premises machines as sources for monitoring, install the Log Analytics agent on the machines. Then, enable the Network Performance Monitor solution. These agents are linked to Log Analytics workspaces, so you need to set up the workspace ID and primary key before the agents can start monitoring.","poster":"OrangeSG"},{"timestamp":"1698279480.0","upvote_count":"2","comment_id":"1054173","poster":"XtraWest","content":"Selected Answer: D\nYou need to install the Azure Monitor Agent on DC1 to use Connection Monitor to identify network latency between VM1 and DC1 - As per Bing AI"},{"content":"Selected Answer: C\nIr\nIts C since Log Analytics agent doesnt have dependencies while for the extension you need to install Azure Connected Machine agent first before installing the extension. So its either first A and then D or just C.\n\nhttps://learn.microsoft.com/en-us/azure/network-watcher/connection-monitor-overview#agents-for-on-premises-machines\n\nhttps://learn.microsoft.com/en-us/azure/network-watcher/azure-monitor-agent-with-connection-monitor","comment_id":"1052141","timestamp":"1698084000.0","poster":"S4L4LMF","upvote_count":"4","comments":[{"comment_id":"1052925","upvote_count":"1","timestamp":"1698157200.0","content":"Agree with your reasoning. The question doesn't state what should you install *first* like in some other questions.","poster":"ducklaorange"}]},{"content":"C:\n\"To make Connection Monitor recognize your on-premises machines as sources for monitoring, install the Log Analytics agent on the machines.\"","poster":"Nutmeg756","timestamp":"1697983020.0","comment_id":"1050697","upvote_count":"2"},{"comment_id":"1024557","poster":"class","upvote_count":"2","timestamp":"1696404960.0","content":"Ans: Log Analytics Agent -\nNot Azure Monitor agent extension. This extension deploys the agent on virtual machines, scale sets, and Arc-enabled servers (on premise servers with Azure Arc agent installed)."},{"poster":"FreeSwan","upvote_count":"1","timestamp":"1695992700.0","comment_id":"1020795","content":"Azure Monitor Agent extension\n\nhttps://learn.microsoft.com/en-us/azure/azure-monitor/agents/azure-monitor-agent-manage?tabs=azure-portal"}],"answers_community":["D (47%)","C (32%)","14%","6%"],"unix_timestamp":1695992700,"isMC":true,"topic":"6","question_id":589,"choices":{"A":"the Azure Connected Machine agent for Azure Arc-enabled servers","C":"the Log Analytics agent","D":"an Azure Monitor agent extension","B":"the Azure Network Watcher Agent virtual machine extension"},"exam_id":44,"answer":"D","timestamp":"2023-09-29 15:05:00","url":"https://www.examtopics.com/discussions/microsoft/view/121828-exam-az-104-topic-6-question-56-discussion/","answer_description":"","answer_ET":"D","answer_images":[]},{"id":"bYYPzcWTny9Pd8bPObIT","topic":"6","question_id":590,"choices":{"D":"Insights for VM1","B":"NSG flow logs for NSG1","A":"Diagnostic settings for VM1","C":"Diagnostic settings for NSG1"},"exam_id":44,"answer":"B","answer_images":[],"unix_timestamp":1695992880,"url":"https://www.examtopics.com/discussions/microsoft/view/121829-exam-az-104-topic-6-question-57-discussion/","answer_ET":"B","question_images":[],"timestamp":"2023-09-29 15:08:00","discussion":[{"poster":"Vestibal","timestamp":"1697493120.0","upvote_count":"14","comment_id":"1045302","content":"Selected Answer: B\nNSG flow logs are a feature of Azure Network Watcher that allows logging of information about IP traffic flowing through a network security group. This data can be used by Traffic Analytics to analyze network traffic in your environment. By enabling NSG flow logs for NSG1, the Network Security Group associated with VM1, you would be able to monitor the traffic of VM1 using Traffic Analytics\n\nhttps://learn.microsoft.com/en-us/azure/network-watcher/traffic-analytics\n\nhttps://learn.microsoft.com/en-us/azure/network-watcher/nsg-flow-logs-tutorial","comments":[{"poster":"c75e123","timestamp":"1735294740.0","upvote_count":"1","comment_id":"1332349","content":"Answer is B\n\nPrerequisites\nNetwork security group flow logs enabled for the network security groups you want to monitor or virtual network flow logs enabled for the virtual network you want to monitor. \n\nhttps://learn.microsoft.com/en-us/azure/network-watcher/traffic-analytics?tabs=Americas#prerequisites"}]},{"upvote_count":"12","comment_id":"1020798","poster":"FreeSwan","timestamp":"1695992880.0","content":"NSG Flow logs for NSG1\n\nhttps://learn.microsoft.com/en-us/azure/network-watcher/traffic-analytics"},{"comment_id":"1296507","timestamp":"1728736860.0","poster":"[Removed]","upvote_count":"2","content":"Selected Answer: B\nB is correct"},{"poster":"Ni22","timestamp":"1718342880.0","upvote_count":"5","comment_id":"1230259","content":"6/13/24 on exam"},{"poster":"Amir1909","comment_id":"1179665","upvote_count":"1","content":"B is correct","timestamp":"1711055880.0"},{"timestamp":"1705946100.0","upvote_count":"2","content":"Option C: Diagnostic settings for NSG\nTraffic Analytics relies on NSG flow logs for its data source. To enable Traffic Analytics for VM1, you need to configure diagnostic settings for NSG1, as it is the NSG associated with VM1's NIC. This allows NSG flow logs to be sent to a storage account, and Traffic Analytics can then process and analyze these logs.","comment_id":"1128908","poster":"HiDhiman"},{"poster":"rex3","content":"Selected Answer: B\nTo monitor VM1 traffic using Traffic Analytics, you need to have NSG flow logs enabled for the network security group that is associated with the virtual machine's network interface. Traffic Analytics is powered by NSG flow logs, which record information about IP traffic flowing through an NSG.\n\nTherefore, the correct setting to configure is:\n\nB. NSG flow logs for NSG1","timestamp":"1700084940.0","upvote_count":"2","comment_id":"1071935"}],"question_text":"You have an Azure subscription that has Traffic Analytics configured.\n\nYou deploy a new virtual machine named VM1 that has the following settings:\n\n• Region: East US\n• Virtual network: VNet1\n• NIC network security group: NSG1\n\nYou need to monitor VM1 traffic by using Traffic Analytics.\n\nWhich settings should you configure?","answers_community":["B (100%)"],"answer_description":"","isMC":true}],"exam":{"provider":"Microsoft","lastUpdated":"12 Apr 2025","isMCOnly":false,"isBeta":false,"id":44,"name":"AZ-104","numberOfQuestions":606,"isImplemented":true},"currentPage":118},"__N_SSP":true}