{"pageProps":{"questions":[{"id":"abE1fwa7AEuk74lVmIpf","question_images":["https://img.examtopics.com/az-104/image724.png"],"topic":"4","question_id":386,"url":"https://www.examtopics.com/discussions/microsoft/view/119629-exam-az-104-topic-4-question-96-discussion/","unix_timestamp":1693542360,"answer_description":"","answer":"D","timestamp":"2023-09-01 06:26:00","answer_images":[],"answer_ET":"D","choices":{"A":"2","B":"3","C":"4","D":"5"},"discussion":[{"poster":"athli","upvote_count":"112","comments":[{"timestamp":"1702978080.0","poster":"Jacky_exam","content":"Minute 0-15:\n\nMemory usage exceeds 70%.\nAutoscale rule triggered.\nInstance count increased by 1 (from 2 to 3).\nCooldown period starts.\nMinute 15-20 (Cooldown Period):\n\nNo further scaling can occur during the cooldown period.\nMinute 20-30:\n\nMemory usage continues to exceed 70%, but the cooldown is still in effect.\nNo further scaling during this time.","comment_id":"1100471","comments":[{"upvote_count":"10","timestamp":"1712032920.0","comment_id":"1187846","poster":"Hispan","content":"chatgpt:\nLet’s calculate the number of CPU cores based on the provided information:\n\nInitial CPU Cores: 2\nScale-Out Rule:\nWhen CPU usage exceeds 80% for 15 minutes, scale out by 1 core.\nCooldown period after scaling: 5 minutes.\nGiven that the CPU usage has been above 80% for 30 minutes, let’s break it down:\n\nFirst 15 minutes: CPU usage exceeds 80%, so we scale out by 1 core.\nTotal cores after the first 15 minutes: 2 (initial) + 1 (scaled out) = 3 cores.\nNext 15 minutes (with cooldown):\nDuring this period, no further scaling occurs due to the cooldown.\nTotal cores remain at 3 cores.\nTherefore, after 30 minutes of continuous high CPU usage, you will have 3 CPU cores."}],"upvote_count":"21"},{"content":"Completely correct, we have to remember that the original duration is used the first or if it resets because the number went below the threshold to trigger scale action. If it never goes below at any point, then we just wait for Cool Down and then reevaluate again or add another instance. I actually messed up again and used the duration but that is an error.","poster":"Dankho","timestamp":"1728842520.0","comment_id":"1297056","upvote_count":"2"},{"comment_id":"1218089","upvote_count":"2","content":"here a reference about \"look back\":\nhttps://learn.microsoft.com/en-us/azure/azure-monitor/autoscale/autoscale-understanding-settings#autoscale-evaluation","poster":"217972f","timestamp":"1716622620.0"},{"upvote_count":"4","poster":"2a742bc","comments":[{"poster":"6582fb2","content":"According to the link above, the CPU status will be collected during cooling time (5mins)\nso if the instance starts with 2, after 15mins, it will add 1, which is total 3\nThen since 5 mins cooling (only mean wont scale in or scale out, but still collecting status >70%), then wait another 10 mins on top of 5 mins cooling ( total 15 mins, still above 70%), it will add another instances. So total 4 instances after 30 mins.","upvote_count":"1","timestamp":"1725465240.0","comment_id":"1278375"}],"comment_id":"1205958","content":"This is correct according to this article:\nhttps://cloudbuild.co.uk/azure-virtual-machine-scale-set-duration-and-cool-down-explained/","timestamp":"1714718220.0"},{"comment_id":"1114713","content":"This is correct, answer D!","poster":"[Removed]","timestamp":"1704478020.0","upvote_count":"1"},{"poster":"OlehT","comments":[{"timestamp":"1706528280.0","comments":[{"content":"Should be 3. \nLet say 7am-730am (30mins)\n1 instance = @ 7.15am 1st scale out\n7.15am-7.20am = 5mins cool down\n2nd instance @ 7.35am, will not count as the question mentioned 30mins","timestamp":"1710991320.0","comment_id":"1178943","poster":"bobothewiseman","upvote_count":"4"}],"content":"duration period is for scaling to trigger in first 15 mins\nfor the remaining time you have cooldown timer that is set to 5 mins\nso in the timeframe between 15-30 min duration is satisfied as CPU utilization remains above 70%\nthere should be 6 instances, however it says user has set 5 max so answer D is correct","upvote_count":"4","poster":"belyo","comment_id":"1134890"}],"upvote_count":"4","comment_id":"1128513","timestamp":"1705919400.0","content":"You forget about Duration == 15 minutes, it will take 5 minutes cooling (time for stabilise the system but not the countdown for another scale action). It would need additional 15 minutes to validate to measure CPU%."},{"upvote_count":"11","comment_id":"999851","timestamp":"1693942680.0","poster":"GoldenDisciple2","content":"\"The amount of time to wait after a scale operation before scaling again. For example, if cooldown = \"PT10M\", autoscale doesn't attempt to scale again for another 10 minutes. The cooldown is to allow the metrics to stabilize after the addition or removal of instances.\"\n\nhttps://learn.microsoft.com/en-us/azure/azure-monitor/autoscale/autoscale-understanding-settings#autoscale-evaluation"},{"poster":"Indy429","timestamp":"1703153460.0","comments":[{"upvote_count":"2","comment_id":"1118986","timestamp":"1704915300.0","content":"The starting # of instances is 2","poster":"jacobc3939","comments":[{"poster":"RoyalFatKid","timestamp":"1705986180.0","comment_id":"1129207","comments":[{"content":"please don't post","comment_id":"1129208","upvote_count":"1","timestamp":"1705986240.0","poster":"RoyalFatKid"}],"content":"where do you see the instance count?","upvote_count":"1"}]}],"content":"It's 15+5. So every 20 minutes, not 5 minutes.\n\nAnswer A is correct","comment_id":"1102345","upvote_count":"4"}],"content":"Selected Answer: D\nStart at 2 instances, after 15 min, > 70%, then +1 instance\nCooling 5 mins, still >70%, then +1 instance\nCooling 5 mins, still > 70%, then +1 instance\nCooling 5 mins, still >70%, since max 5 instances, keep 5 instances only","comment_id":"998301","timestamp":"1693813020.0"},{"content":"Selected Answer: B\n2 instances then after 15min : 3 instances. After 5min cooldown start counting.\nSo correct answer : 3 instances","comment_id":"995821","timestamp":"1693554900.0","poster":"altairezio","comments":[{"poster":"ki01","timestamp":"1702801560.0","content":"Answer D.\nfor the scaler to kick in, it needs to be 15 minutes of average use above x % that is set. so once the load starts, it will wait 15 minutes until that rule is met, and a scale up will happen. \nonce it scales up at the 15 minute mark, the 5 minute cooldown starts.\nat 20 minute mark, the scaler will LOOK BACK at the PAST 15 minutes to see if during that time the usage was still higher than x% and scale up again.\nthen it will wait another 5 minutes, check the PAST 15 minutes again, scale up again, etc. etc.\nthe previous performance data doesnt get thrown out after each scale, it keeps on sliding the dataset its checking forward.\n\nimagine if this was a real app and you get hit by huge traffic surge. like your company release a new product. what this would do in your method is scale up one instance every 20 minutes, so it might mean multiple hours of degraded performance while it catches up to demand, while the reality and my explanation, it would kick in after 15 minutes and then keep scaling every 5 minutes which is a much faster and reasonable solution.","comment_id":"1098751","upvote_count":"12","comments":[{"comment_id":"1145543","comments":[{"upvote_count":"1","poster":"mamamamn","timestamp":"1708481580.0","content":"Would you please share the link? I still dont get it.","comment_id":"1155157"}],"upvote_count":"3","poster":"binhdortmund","timestamp":"1707488280.0","content":"correct! I wanna go with 3 at the beginning, but after reading the MS doc and also your text, 5 is my choice"},{"timestamp":"1707507060.0","comment_id":"1145732","content":"well explained","upvote_count":"1","poster":"FlaShhh"}]},{"comment_id":"1054456","content":"No, if after the cool down period the threshold is stil met, then the next scale out operation will happpen immediately (followed by another cool down period, of course).\n\n\"The cooldown period for each rule dictates how long after the previous scale action (whatever rule initiated was), the rule can be applied.\"\nSource: https://github.com/MicrosoftDocs/azure-docs/issues/17169","timestamp":"1698316020.0","upvote_count":"2","poster":"Batiste2023"}],"upvote_count":"60"},{"comment_id":"1559505","timestamp":"1744269840.0","upvote_count":"1","content":"Selected Answer: D\nAnswer is D. Documentation states 'After a scale action occurs, the autoscale job waits for the cooldown period before it scales again.'\n\nDocumentation: https://learn.microsoft.com/en-us/azure/azure-monitor/autoscale/autoscale-understanding-settings#autoscale-evaluation","poster":"SBGM"},{"content":"Selected Answer: D\nFirst Scale-Out:\n\nAfter 15 minutes, the memory usage (80%) exceeds the 70% threshold, and the duration requirement is met.\nOne instance is added, bringing the total to 3 instances.\nCooldown Period:\n\nThere's a 5-minute cooldown period after the first scale-out.\nSecond Scale-Out:\n\nAfter the cooldown period (20 minutes total), the memory usage is still 80%, and another 15-minute duration has been met.\nOne instance is added, bringing the total to 4 instances.\nThird Scale-Out:\n\nAgain the cooldown period is met, and the 15 minute duration has been met.\nOne instance is added, bringing the total to 5 instances.\nSince the maximum instances are set to 5, the autoscale will stop adding instances.\nTherefore, the maximum number of instances for App1 during the 30-minute period is 5.","timestamp":"1742064360.0","poster":"GarrethM","upvote_count":"1","comment_id":"1399006"},{"upvote_count":"1","poster":"vrm1358","comment_id":"1395685","content":"Selected Answer: D\nTested in the lab. \nCooldown period is set to 5 minutes. It means that after every scaling action, it waits for 5 mins to avoid infrequent changes unnecessarily. after 5 minutes (cooldown period), it looks back to last 15-minutes window of CPU utilization. As in the question, it has remained high, it initiates another scale-out action. In this scenario, scale-out keeps happening every 5 minutes until it reaches the max number of instance; ie 5.","timestamp":"1741977780.0"},{"comment_id":"1339401","poster":"Thor0007","timestamp":"1736661660.0","content":"Selected Answer: D\nThe correct answer is D . Here you have to see the what is the definition of \"Cool down\" as per MS \"The amount of time to wait before the rule is applied again so that the auto scale actions have time to take effect.\"\nSo it will not wait for duration of 15 min again . That's logical . If anyone has any other ref official to MS share it in reply. Do upvote this for other help.\nRef : https://learn.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-portal","upvote_count":"1"},{"poster":"RajeshwaranM","upvote_count":"1","content":"Selected Answer: B\nIn Azure's autoscale feature, when a scale-out rule is triggered—such as when CPU usage exceeds a specified threshold—the number of instances added is determined by the \"instance count\" specified in the autoscale rule, not by the duration for which the condition is met. So we have set the instance count 1 during the cool down period It will not scale our or scale in","comment_id":"1339399","timestamp":"1736660760.0"},{"timestamp":"1734787320.0","content":"Selected Answer: B\nInstances are NOT created during cool down period + 15 mins (as configured). Thus, after 15 mins you have +1 instance running and then nothing changes till another 20 mins","upvote_count":"2","poster":"Elsayed2030","comment_id":"1330031"},{"timestamp":"1734182880.0","comment_id":"1326475","poster":"monisshk","content":"Selected Answer: D\nCorrect Answer is D (5)\nDuration: - 15 minutes and Cooling Period: - 5 minutes\n0-15 mins - 1+1 = 2\n15 - 20 mins - 2+1 = 3\n20 - 25 mins - 3+1 = 4\n25 - 20 mins - 4+1 = 5","upvote_count":"3"},{"poster":"sca88","upvote_count":"2","timestamp":"1732295040.0","comment_id":"1316411","content":"Selected Answer: B\nShould be B. 15 minutes with CPU > 70%, will scale out of 1.\n5 minutes of cooldown => anything happen.\nstart count other 15 minutes before scale out again... but the question talk about 30 minutes, so only 1 instance will be added. Total instance after 30 minutes = 3"},{"content":"Selected Answer: B\nScale Out Event 1 (Immediate Trigger):\nAutoscale detects high memory usage.\nInitiates scaling to 3 instances.\nInstance Increase Time: 15 minutes.\n\nTime 15 Minutes:\n3rd instance is up and running.\nCool Down Period: Begins (5 minutes).\n\nTime 20 Minutes:\nCool Down Period ends.\nIf memory usage still at 80%, triggers scaling to 4 instances.\nInstance Increase Time: 15 minutes.\n\nTime 35 Minutes:\n4th instance would be up and running.\n\nHowever, this is beyond the 30-minute window we are considering only 3","poster":"Josh219","comment_id":"1314017","timestamp":"1731937680.0","upvote_count":"3"},{"content":"People who think the answer to this question is D, what do you think the answer to the next question is?\nhttps://www.examtopics.com/discussions/microsoft/view/67544-exam-az-104-topic-4-question-65-discussion/","comment_id":"1306027","upvote_count":"1","poster":"Karley7","timestamp":"1730507700.0","comments":[{"content":"its \nBox1: 3\nBox2: 1","timestamp":"1731935640.0","poster":"Josh219","comment_id":"1314005","upvote_count":"1"}]},{"poster":"0378d43","timestamp":"1730220180.0","upvote_count":"2","content":"Selected Answer: B\n15 mins 1 and then 5 mins cool and then remains 10 mins which does suffice the condition to scale out hence 2+1 =3","comment_id":"1304579"},{"upvote_count":"2","timestamp":"1730031120.0","comment_id":"1303574","poster":"Stunomatic","content":"After every 5 min cool down it check most recent 15 minutes status that is why answer is 5 \n\nSummary of Scaling Actions in 30 Minutes\n\n 15-Minute Mark: Scales up to 3 instances.\n 20-Minute Mark: Scales up to 4 instances.\n 25-Minute Mark: Scales up to 5 instances (maximum limit reached)."},{"timestamp":"1729602120.0","upvote_count":"1","comment_id":"1301588","poster":"magellan2050","content":"Selected Answer: C\nCooldown period only pauses the scaling operations but doesn't stop the metrics collection. Therefore we start with 2, after 15m +1. 3 consecutive cooldowns, no scaling but the metrics get collected, 15m +1 =4"},{"comment_id":"1297058","upvote_count":"1","poster":"Dankho","content":"Selected Answer: D\nSince it always stays above 70%, we increase after 15 minutes to 3, then after 20 to 4, then after 25 to 5, and then after 30 minutes 6, but since max is 5 instances, we stay at 5.","timestamp":"1728842640.0"},{"comment_id":"1292816","timestamp":"1727964660.0","poster":"itismadu","content":"Selected Answer: D\nStart at 2 instances, after 15 min, > 70%, then +1 instance = Total 3\nCooling 5 mins, (now 20mins) still >70%, then +1 instance = Total 4\nCooling 5 mins, (now 25 mins) still > 70%, then +1 instance = Total 5 \nCooling 5 mins, (now 30 Min) still >70%, since max 5 instances, keep 5 instances only","upvote_count":"1"},{"upvote_count":"1","timestamp":"1727917500.0","comment_id":"1292583","content":"Selected Answer: B\nB since 15 mins+1 then 5 mins cooldown and then remaining 10 mins no scaling","poster":"0378d43"},{"comment_id":"1292582","poster":"0378d43","upvote_count":"1","timestamp":"1727917440.0","content":"B should be the correct ans"},{"comment_id":"1289786","poster":"Sholasleek","timestamp":"1727401680.0","content":"answer is B\n2 initial instances \nscales out after 15 mins +1 = 3 instances \nCool down time of 5 mins, 10 min after cool down is still high but the scale up rule is for 15mins. the total instance count will be 3. \nhttps://learn.microsoft.com/en-us/training/modules/app-service-autoscale-rules/4-identify-factors","upvote_count":"1"},{"poster":"[Removed]","timestamp":"1726586040.0","upvote_count":"1","content":"Selected Answer: D\nit´s D","comment_id":"1285317"},{"timestamp":"1725536400.0","upvote_count":"2","poster":"pasangawa","comment_id":"1278876","content":"Selected Answer: D\nThis should be 5 instances during 30min period.\n\nto explain: initial is 2 instance. = 2\n1. the condition is 15min. therefor in 30min duration, addition 1 instance. \n2. leaves us with 15min remaining time to consider after 1st scale out.\n3. this is where people usually are confused.. definition of cooldown from MS \"The cooldown period comes into effect after a scale-in or a scale-out event.\"\nsince we got 5min cool down settings...5min (1 instance)+5min(1 instance)+ 5min (1 instance) for span of 15mins left from the initial scale out = 3 instance. Should be total of 6 instances but the maximum is 5 (you set Maximum to 5 as per the given info on the question)"},{"poster":"6582fb2","upvote_count":"1","content":"where does the show start with 2 instances?","timestamp":"1725464940.0","comments":[{"content":"\"You have an Azure App Service app named App1 that contains two running instances.\"","upvote_count":"1","poster":"pasangawa","timestamp":"1725535740.0","comment_id":"1278864"}],"comment_id":"1278372"},{"upvote_count":"2","content":"Selected Answer: D\nCooldown does not restart the waiting period","timestamp":"1725089820.0","comment_id":"1275426","poster":"un4exa"},{"comment_id":"1251193","upvote_count":"3","poster":"Jp18","timestamp":"1721392440.0","content":"Selected Answer: D\nShould be D\nThe amount of time to wait after a scale operation before scaling again. The cooldown period comes into effect after a scale-in or a scale-out event. For example, if cooldown = \"PT10M\", autoscale doesn't attempt to scale again for another 10 minutes. The cooldown is to allow the metrics to stabilize after the addition or removal of instances.\nhttps://learn.microsoft.com/en-us/azure/azure-monitor/autoscale/autoscale-understanding-settings#autoscale-evaluation"},{"upvote_count":"3","content":"Selected Answer: B\n*B*.3 I chose wrong answer with correct explanation before, so to repeat correctly \nAfter first +1 tick on 15min cooldown 5 starts and we are on 3 instances.\nAfter cooldown new condition evaluation period starts that is 15 minutes\nSince after second 15 min we are already on minute 35, after 30 minutes we are still on 3 instances.","comment_id":"1249196","timestamp":"1721159520.0","poster":"a6bd45e"},{"timestamp":"1721159340.0","comment_id":"1249192","poster":"a6bd45e","upvote_count":"1","content":"Selected Answer: C\nAfter cooling of 5 mins new operator evaluation cycle starts 15 min and not another cooling of 5. So we have:\nStart at 2 instances, after 15 min, > 70%, then +1 instance\nCooling 5 minutes then new Operator evaluation duration starts of 15 min. Next tick would be on 35 which is out of consideration.\n\nSo total 3 instances after 30 minutes"},{"timestamp":"1719626220.0","comment_id":"1238983","content":"There are 2 instances to start with,\nwith usage > 70% for (0 - 15)15mins, there will be 2+1 instances\n5 min is cool off period starts here but that doesn't mean usage count stops during this period.\nwith usage > 70% for another 15mins(15 - 30) there will be (2+1)+1 instances.\nSo the total count after 30mins = 4\nC","poster":"sjay2024","upvote_count":"1"},{"upvote_count":"2","comment_id":"1237404","timestamp":"1719399300.0","content":"Selected Answer: D\nAnswer should be 5 > 1 (initial) + 1 (15min) + 1 (5 min cool down) + 1 (5 min cool down) + 1 (5min cool down) Total 5","poster":"SofiaLorean"},{"comment_id":"1223709","upvote_count":"2","poster":"23169fd","timestamp":"1717433940.0","content":"B is correct given that the cool down period of 5 minutes must elapse before the next evaluation, and that the remaining time after the first scale action and cool down period is insufficient to meet the 15-minute threshold again within the 30-minute total period, the maximum number of instances during the 30-minute period would be 3."},{"comment_id":"1220776","timestamp":"1716974340.0","upvote_count":"3","content":"Selected Answer: B\nhttps://learn.microsoft.com/en-us/azure/azure-monitor/autoscale/autoscale-understanding-settings. cooldown = The amount of time to wait after a scale operation before scaling again. The cooldown period comes into effect after a scale-in or a scale-out event. For example, if cooldown = \"PT10M\", autoscale doesn't attempt to scale again for another 10 minutes. The cooldown is to allow the metrics to stabilize after the addition or removal of instances.","poster":"CharlesS76"},{"upvote_count":"3","comment_id":"1200260","content":"People seem to think the cooldown will reset the 15 minute timer to check the rule, no. The timer will only reset when the criteria (the memory threshold average) stops being met. Before this the rule will check and keep adding instances every 30 to 60 seconds depending on the service. The cooldown's job is to will delay this, not to reset the rule. \n\nAgain, the rule timer will only be reset when the condition is no longer being met, meaning in this case the memory usage average goes below 70%\n\nAnd dont trust any AI to give you an answer, people also tend to think it can reason, it cant. At least for now it is just trowing words in a way that makes sense to a human.","timestamp":"1713801360.0","poster":"mkhlszf"},{"poster":"bobothewiseman","upvote_count":"3","comment_id":"1188021","content":"Selected Answer: B\nShould be 3.\nLet say 7am-730am (30mins)\n1 instance = @ 7.15am 1st scale out\n7.15am-7.20am = 5mins cool down\n2nd instance @ 7.35am, will not count as the question mentioned 30mins","timestamp":"1712059740.0"},{"content":"Selected Answer: B\nShould be 3.\nLet say 7am-730am (30mins)\n1 instance = @ 7.15am 1st scale out\n7.15am-7.20am = 5mins cool down\n2nd instance @ 7.35am, will not count as the question mentioned 30min","upvote_count":"4","timestamp":"1711433220.0","poster":"bobothewiseman","comment_id":"1183069"},{"poster":"jacksparrowtabali","comment_id":"1181489","content":"Selected Answer: B\nto start the first scale out you do not wait for anytime(cooldown or count time)\n- at 07:00 the metric utilization got over 70% it scales to 2 (so at 07:00 you have already 2) after the scale you get to have a (5 minutes cooldown+15 minutes count=20 minutes) \n- at 07:20 you check again if the metric utilization is still over 70 and in this case it endured for 30 minutes so you scale again to 3 and after it you wait for (5 cooldown+15 minutes count) \n- at 07:40 it will check again and it will decide.\n\nSO the number will be 3.","upvote_count":"4","timestamp":"1711280820.0"},{"content":"Selected Answer: D\nCorrect answer is D , there will be 5 instances. During every scale out, it will check if previous 15 mins have sustained usage of above 70%. \nAfter 15 mins, first scale out (+1), then 20 mins (+1), 25 mins (+1), 30 mins (+1).","upvote_count":"6","poster":"SDiwan","timestamp":"1707323520.0","comment_id":"1143516"},{"timestamp":"1707002640.0","upvote_count":"3","content":"Selected Answer: D\nAfter cool down period new instance is created","poster":"jga_private","comment_id":"1139661"},{"comment_id":"1136274","comments":[{"comment_id":"1136279","timestamp":"1706661000.0","poster":"vsvaid","content":"Correction, it starts with 2\nAfter 15 mins - \n20 mins - 4\n25 mins - 5\n30 mins- 5 - Max limit","upvote_count":"4"}],"poster":"vsvaid","timestamp":"1706660340.0","content":"Selected Answer: D\nAfter 15 mins - 2\n20 mins - 3\n25 mins - 4\n30 mins- 5","upvote_count":"3"},{"content":"Selected Answer: B\nStart at 2 instances, 30 minutes: -15 minutes, scaling +1 == 3.\n-5 minutes cooldown makes -20 minutes in total, 10 left. We need 15 minutes more to scale +1. So we need additional 5 minutes which we down't have.\n\nANSWER is B, 3 instances","poster":"OlehT","comment_id":"1128508","upvote_count":"6","timestamp":"1705918800.0"},{"upvote_count":"5","content":"Selected Answer: D\nI'm on team D here.\nI think the best way to think of the duration is just how much info the autoscaler needs in order to determine if we need to scale. But once you have that much time worth of data, the autoscaler will keep scaling up every 5 minutes (the cooldown) until it has new data showing the metric isn't breached.","timestamp":"1705432980.0","poster":"DWsk","comment_id":"1124459"},{"poster":"SamSal001","comment_id":"1123510","timestamp":"1705335120.0","content":"The question is contrived. How would you know if memory is persistently high after adding one more?","upvote_count":"1"},{"poster":"Jacky_exam","timestamp":"1702978020.0","comment_id":"1100470","upvote_count":"3","content":"Selected Answer: B\nMinute 0-15:\n\nMemory usage exceeds 70%.\nAutoscale rule triggered.\nInstance count increased by 1 (from 2 to 3).\nCooldown period starts.\nMinute 15-20 (Cooldown Period):\n\nNo further scaling can occur during the cooldown period.\nMinute 20-30:\n\nMemory usage continues to exceed 70%, but the cooldown is still in effect.\nNo further scaling during this time."},{"comment_id":"1095683","poster":"[Removed]","content":"Selected Answer: D\nCheck https://www.youtube.com/watch?app=desktop&v=EbiID16PDuk if you are confused. John demonstrates how this works, the answer in this case will be D.","upvote_count":"5","timestamp":"1702487640.0"},{"upvote_count":"4","comment_id":"1089258","timestamp":"1701862200.0","content":"Selected Answer: D\nAnswer is D","poster":"Rastova"},{"poster":"amsioso","content":"D\n5 instances.\nLike @athli said.\nReferences:\nhttps://www.youtube.com/watch?app=desktop&v=EbiID16PDuk\nhttps://www.linkedin.com/pulse/miss-configuration-azure-auto-scaling-feature-radu-vunvulea/\nhttps://learn.microsoft.com/en-us/azure/azure-monitor/autoscale/autoscale-get-started#cool-down-period-effects","comment_id":"1088523","timestamp":"1701783600.0","upvote_count":"1"},{"content":"Selected Answer: D\nStart at 2 instances, after 15 min, > 70%, then +1 instance\nCooling 5 mins, still >70%, then +1 instance\nCooling 5 mins, still > 70%, then +1 instance\nCooling 5 mins, still >70%, since max 5 instances, keep 5 instances only","timestamp":"1700986320.0","upvote_count":"5","comment_id":"1080545","poster":"[Removed]"},{"content":"ChatGPT considers that after first scale action will be completed(15 minutes duration + 5 minutes cool down), the scale up action will end, so it WON\"T trigger add another instance. Instead, it will trigger another scale action which will start Duration counting AGAIN.","timestamp":"1700677260.0","poster":"SgtDumitru","upvote_count":"1","comment_id":"1077656"},{"poster":"DBFront","content":"Selected Answer: B\nStart with 2 instances\n15 minutes later, add 1 more instance (total 3 instances after 15 minutes)\ncool down for 5 minutes (total of 20 minutes now)\nmetric states another 15 minutes before an event (instance #4 would occur at 35min)\n\nAnswer is B","timestamp":"1699497840.0","comment_id":"1066072","upvote_count":"2"},{"poster":"cjatraining","comment_id":"1060862","upvote_count":"5","timestamp":"1698956340.0","content":"I think the confusion people are having is that during the cooldown period monitoring doesn't stop. So if the load remains at <70% during the entire cooldown, that counts as part of the condition duration.\n\nSo at 15 minutes (technically less, due to load averaging), +1\nAfter 5 minutes cooldown, it once again looks at the last 15 minutes, so if the load average was still over 70%, it scales again, and the 5 minute cooldown starts again.\n\nSo it will hit the max of 5."},{"comment_id":"1051558","content":"Selected Answer: D\nhttps://learn.microsoft.com/en-us/azure/app-service/environment/app-service-environment-auto-scale\nThe document provide the calculate method","upvote_count":"3","timestamp":"1698046920.0","poster":"[Removed]"},{"comment_id":"1046480","poster":"GODUSGREAT","content":"Selected Answer: D\nd is the correct answer","timestamp":"1697594040.0","upvote_count":"3"},{"comments":[],"content":"Selected Answer: B\nb) 3 instances\n\nYou start with 2 instances and then you add 1 more because of the 15 min + 5 min cool down period...and that leaves you 10 mins left....which you do not add another instance because it needs to run for another 15 mins before it triggers the addition of another instance.","upvote_count":"2","comment_id":"1044273","poster":"YesPlease","timestamp":"1697384100.0"},{"content":"Selected Answer: B\n1 instance per 20 mins. 15 + 5\nso total 2+1 =3","upvote_count":"3","comment_id":"1022989","timestamp":"1696240440.0","poster":"Ashuab"},{"content":"What is the maximum number of instances for App1 during the 30-minute period?\nStart at 2 instances\n15 mins elapsed) after 15 min, > 70%, then + 1 instance\n20 mins elapsed) Cooling 5 mins, \n30 mins elapsed) after 10 minutes with still > 70%, nothing happen because we have to wait other 5 minutes with this condition to add onther 1 instance\nAfter 30 minutes instaces total = 3","poster":"lormar72","timestamp":"1695445320.0","comment_id":"1014659","upvote_count":"4"},{"comment_id":"1013752","timestamp":"1695367020.0","poster":"SOz92","upvote_count":"2","content":"Selected Answer: B\nI think the correct answer is B"},{"timestamp":"1695054000.0","comment_id":"1010740","upvote_count":"2","poster":"Credally","comments":[{"poster":"ajdann","timestamp":"1697368020.0","content":"The app starts with two isntances","comment_id":"1044076","upvote_count":"2"}],"content":"Selected Answer: A\nAs Explained \nIts said during 30 min uses 80 % so start with 1 + triger 1 after 15 min +5 cool =2 instance\nThat is the question , it didnt ask that after this 30 min that is another 30 min\nQuestion is related to the sentence \"During a 30-minute period, App1 uses 80 percent of the available memory\""},{"timestamp":"1695053880.0","poster":"Credally","comment_id":"1010738","content":"Its said during 30 min uses 80 % so start with 1 + triger 1 after 15 min +5 cool =2 instance \nThat is the question , it didnt ask that after this 30 min that is another 30 min \nQuestion is related to the sentence \"During a 30-minute period, App1 uses 80 percent of the available memory\"","upvote_count":"3"},{"upvote_count":"11","poster":"obaemf","comments":[{"upvote_count":"2","comment_id":"1010711","poster":"Nighty470","content":"\"The autoscale rule won't trigger the action again until the cool down period for the rule has expired. If the disk queue length is still over 10 at this time, the action will be performed.\"","timestamp":"1695051840.0"}],"content":"Selected Answer: D\nWhile Autoscale rule is true, action will continue to trigger until Autoscale rule becomes false with the exception of the Cooldown time.\n\nIn this case, Autoscale rule became true after 15mins and continued to remain true for another 15mins. Ideally, the action will continue to trigger every minute until Autoscale rule is false. But with Cooldown time of 5mins, the action will trigger every 5mins.\n\n15mins = +1 instance\n20mins = +1 instance\n25mins = +1 instance\n30mins = +0 instance (Max of 5 instances reached 5mins ago. Autoscale rule will remail true though).\n\nFor reference: Look at question 2 in the Autoscale section knowledge check.\nhttps://learn.microsoft.com/en-us/training/modules/app-service-autoscale-rules/5-knowledge-check-identify-factors","timestamp":"1694358780.0","comment_id":"1004080"},{"timestamp":"1694271240.0","upvote_count":"5","poster":"Default858","comment_id":"1003322","content":"Selected Answer: B\n3 instances: start with 2, after 15 minutes increases to 3. The autoscaler will wait 5 minutes before attempting to scale again. It will need at least 15 + 5 + 15 = 35 minutes to scale over 3 instances."},{"poster":"Kuikz","timestamp":"1693982220.0","comment_id":"1000282","upvote_count":"4","content":"Selected Answer: B\nagree with 3 instances, after the cooldown of 5 min is over it will add 1, not at 5 but after 5 min"},{"poster":"KMLearn2","content":"Selected Answer: B\n3 instances:\nstart with 2, then 15 min -> +1, then 5 min cooling\nso after 35 min it could be 4, but after 30 min still 3","timestamp":"1693837620.0","upvote_count":"7","comment_id":"998613"},{"timestamp":"1693542360.0","comment_id":"995664","poster":"[Removed]","upvote_count":"6","content":"Incorrect answer it should be 3, 15mins + 5mins cooling so it will be increased by 1. The initial instance is 2 so when it hits 80% for 30 minutes 3 instances will be running"}],"exam_id":44,"answers_community":["D (59%)","B (40%)","1%"],"question_text":"You have an Azure App Service app named App1 that contains two running instances.\n\nYou have an autoscale rule configured as shown in the following exhibit.\n\n//IMG//\n\n\nFor the Instance limits scale condition setting, you set Maximum to 5.\n\nDuring a 30-minute period, App1 uses 80 percent of the available memory.\n\nWhat is the maximum number of instances for App1 during the 30-minute period?","isMC":true},{"id":"DTL8ZFGPleiOVcdSAcdw","unix_timestamp":1693542720,"answer_ET":"","question_id":387,"question_images":["https://img.examtopics.com/az-104/image725.png","https://img.examtopics.com/az-104/image726.png"],"topic":"4","answer":"","exam_id":44,"question_text":"HOTSPOT\n-\n\nYou have an Azure subscription that contains the container images shown in the following table.\n\n//IMG//\n\n\nYou plan to use the following services:\n\n• Azure Container Instances\n• Azure Container Apps\n• Azure App Service\n\nIn which services can you run the images? To answer, select the options in the answer area.\n\nNOTE: Each correct answer is worth one point.\n\n//IMG//","answer_images":["https://img.examtopics.com/az-104/image727.png"],"answer_description":"","answers_community":[],"url":"https://www.examtopics.com/discussions/microsoft/view/119630-exam-az-104-topic-4-question-97-discussion/","isMC":false,"discussion":[{"poster":"Kuikz","timestamp":"1693983000.0","content":"Correct\n\n- Azure Container Instances can schedule both Windows and Linux containers with the same API. You can specify your OS type preference when you create your container groups.\nSome features are currently restricted to Linux containers. https://learn.microsoft.com/en-us/azure/container-instances/container-instances-overview\n\n- Azure Container Apps supports: Any Linux-based x86-64 (linux/amd64) container image with no required base image Containers from any public or private container registry Sidecar and init containers https://learn.microsoft.com/en-us/azure/container-apps/containers\n\n- Azure App Service is an HTTP-based service for hosting web applications, REST APIs, and mobile back ends. You can develop in your favorite language, be it .NET, .NET Core, Java, Node.js, PHP, and Python. Applications run and scale with ease on both Windows and Linux-based environments.https://learn.microsoft.com/en-us/azure/app-service/overview","comment_id":"1000309","upvote_count":"21"},{"content":"CORRECT","poster":"[Removed]","upvote_count":"2","timestamp":"1726586460.0","comment_id":"1285322"},{"timestamp":"1714796100.0","upvote_count":"1","comment_id":"1206339","content":"correct","poster":"MahmoudKh"},{"content":"Correct","upvote_count":"1","comment_id":"1160417","poster":"Amir1909","timestamp":"1709029080.0"},{"upvote_count":"1","timestamp":"1693555020.0","poster":"altairezio","content":"https://learn.microsoft.com/en-us/azure/container-apps/containers#:~:text=Azure%20Container%20Apps%20supports%3A","comment_id":"995823"},{"content":"Answer is correct\nAzure Container Apps supports:\n\nAny Linux-based x86-64 (linux/amd64) container image with no required base image\nContainers from any public or private container registry\nSidecar and init containers\nhttps://learn.microsoft.com/en-us/azure/container-apps/containers","upvote_count":"4","timestamp":"1693542720.0","poster":"[Removed]","comment_id":"995671"}],"timestamp":"2023-09-01 06:32:00"},{"id":"nT2N7HsYn6sPlKEP6Ya5","discussion":[{"timestamp":"1694014320.0","comment_id":"1000762","poster":"macinpune9","upvote_count":"47","comments":[{"poster":"Akriu","comments":[{"content":"Thanks for your input!\n\nYou say that \"the only way to get one for a service is a managed identity (system or user generated).\" - Can you elaborate on that?\n\nI have found these sources that says that as soon as you register a web app with Entra ID as authorization provider, the app also receives a service principal:\n- https://learn.microsoft.com/en-us/purview/create-service-principal-azure\n- https://learn.microsoft.com/en-us/azure/app-service/scenario-secure-app-authentication-app-service\n\nIn that case, answer A would still be an option, as far as I can see.","comment_id":"1054756","timestamp":"1698337440.0","poster":"Batiste2023","upvote_count":"1"}],"content":"I'm also in for answer B, since answer A needs a service principal. The only way to get one for a service is a managed identity (system or user generated).\n\nhttps://learn.microsoft.com/en-us/azure/key-vault/general/assign-access-policy?tabs=azure-portal\nhttps://learn.microsoft.com/en-us/azure/key-vault/general/authentication","upvote_count":"5","comment_id":"1004036","timestamp":"1694354340.0"},{"timestamp":"1707325440.0","comment_id":"1143550","content":"Option B is managed user identity. Its not necessary to have user managed identity, system identity can also work.","upvote_count":"3","poster":"SDiwan"}],"content":"Please check this tutorial\nhttps://learn.microsoft.com/en-us/azure/key-vault/general/tutorial-net-create-vault-azure-web-app \nFirst Step is to Assign a managed identity to the App. \nAnswer: B"},{"timestamp":"1693542720.0","content":"In this scenario, you have an Azure App Service web app (App1) and an Azure Key Vault (KV1) containing a wildcard certificate for contoso.com. You want to configure App1 to use the wildcard certificate from KV1. To achieve this, you need to grant the necessary permissions to App1.\n\nAccess to Key Vault secrets and certificates is managed using Azure AD-based authentication and authorization. The Microsoft Azure App Service principal represents the App Service web app in Azure AD.\n\nThe correct approach is to create an access policy in KV1 that grants the necessary permissions to the Microsoft Azure App Service principal associated with App1. By doing so, you allow App1 to access the certificate stored in KV1.\n\nSo, the first step you should take is:\n\nA. Create an access policy for KV1 and assign the Microsoft Azure App Service principal to the policy.\n\nOnce you've granted the necessary access to the App Service principal, the web app (App1) will be able to use the wildcard certificate from KV1 for its secure connections.","upvote_count":"19","comment_id":"995672","poster":"[Removed]"},{"poster":"minura","content":"Selected Answer: B\nTo configure App1 to use the wildcard certificate stored in KV1, the first step involves ensuring that App1 can authenticate and retrieve the certificate securely. This requires assigning a managed identity to App1 so it can access KV1 without relying on explicit credentials. Therefore, the correct answer is:\n\nB. Assign a managed user identity to App1.","comment_id":"1324373","upvote_count":"1","timestamp":"1733804100.0"},{"poster":"sca88","content":"Selected Answer: A\nB it's wrong: it says \"Assign a managed USER identity\", but App1 is not a user... so the only acceptable it's A","upvote_count":"1","timestamp":"1732295400.0","comment_id":"1316412"},{"timestamp":"1726586580.0","comment_id":"1285323","upvote_count":"2","poster":"[Removed]","content":"Selected Answer: B\nit´s B"},{"poster":"Pcservices","timestamp":"1726136460.0","comment_id":"1282577","content":"The correct first step in configuring App1 to use the wildcard certificate stored in KV1 is:\n\nB. Assign a managed user identity to App1.\n\nExplanation:\nTo allow App1 to securely access the certificate from KV1 without using secrets (like keys or passwords), the most secure and preferred approach is to assign a Managed Identity to App1. Managed identities in Azure provide an automatic identity for the app, allowing it to authenticate against Azure services like Key Vault without embedding credentials in your code.\n\nOnce the managed identity is assigned to App1, you can grant it the necessary access (read) to the Key Vault by configuring an Access Policy.","upvote_count":"3"},{"comment_id":"1236689","timestamp":"1719287220.0","upvote_count":"2","content":"B. Assign a managed user identity to App1.","poster":"adilkhan"},{"upvote_count":"1","comment_id":"1213318","timestamp":"1716036720.0","poster":"Limobakry","content":"Currently, App Service certificates support only Key Vault access policies, not the RBAC model. \n\nhttps://learn.microsoft.com/en-us/azure/app-service/configure-ssl-app-service-certificate?tabs=portal"},{"comment_id":"1204979","poster":"WeepingMaplte","upvote_count":"2","content":"Selected Answer: B\nCreating a Microsoft Entra application and service principal adds more operational overheads and eliminate many of the security risks associated with manually managing credentials. This feels like an AZ-305 question.","timestamp":"1714556520.0"},{"timestamp":"1713891960.0","comment_id":"1200843","upvote_count":"2","content":"Selected Answer: B\nhttps://devblogs.microsoft.com/devops/demystifying-service-principals-managed-identities/","poster":"op22233"},{"poster":"rajsingh","timestamp":"1711934220.0","content":"Selected Answer: B\nAnswer B is correct","comment_id":"1187118","upvote_count":"3"},{"upvote_count":"4","content":"Selected Answer: B\nI tested it on the lab and B is right.\nWhen creating a key vault with a vault access policy, the app can't be selected unless the managed identity has been enabled.","comment_id":"1173608","poster":"Harry300","timestamp":"1710438780.0"},{"comment_id":"1160403","poster":"Amir1909","upvote_count":"2","content":"A is correct","timestamp":"1709027940.0"},{"timestamp":"1708845060.0","upvote_count":"1","poster":"metzger","content":"Confirmed in Azure Portal - an Azure App Service has the (system-assigned) Managed Identity set to OFF by default so first step is to enable the managed identity.","comment_id":"1158439"},{"upvote_count":"3","timestamp":"1707579420.0","content":"Selected Answer: B\nAccess can be done either using RBAC or Access Policy. In both cases the first Action is to configure a Managed User (or System) Identity to App1 because by default Identities are disabled.","comment_id":"1146409","poster":"BluAlien"},{"content":"Selected Answer: A\nWhen a app is registered in Azure, a service principle is created for app. Create an access policy in KV1 that grants the necessary permissions to service principle.","upvote_count":"2","poster":"vsvaid","comment_id":"1136294","comments":[{"content":"Why Not First: Before you can create an access policy, you need to ensure that App1 has an identity that can be assigned permissions in the Key Vault. Without this identity, the App Service principal would not have a way to authenticate to KV1","comment_id":"1313999","upvote_count":"1","timestamp":"1731935100.0","poster":"Josh219"}],"timestamp":"1706663340.0"},{"upvote_count":"2","content":"\"Select Next and select Vault access policy. Currently, App Service certificates support only Key Vault access policies, not the RBAC model.\"\n\nhttps://learn.microsoft.com/en-us/azure/app-service/configure-ssl-app-service-certificate?tabs=portal#buy-and-configure-an-app-service-certificate","timestamp":"1706606400.0","poster":"MatAlves","comment_id":"1135643"},{"content":"Selected Answer: A\nA is the correct answer. Currently, App Service certificates support only Key Vault access policies, not the RBAC model, so you first need to create a Vault access policy.\n\nhttps://learn.microsoft.com/en-us/azure/app-service/configure-ssl-app-service-certificate?tabs=portal","upvote_count":"2","timestamp":"1703419920.0","comments":[{"comments":[{"timestamp":"1704207960.0","upvote_count":"5","poster":"[Removed]","comment_id":"1111995","content":"I am now 1 week and 2 days smarter lol, my initial answer was correct. You don't need to select the App1 managed identity as I assumed in the above comment, you can simply choose the Microsoft Azure App Service principal which will cover App1 as well and eliminate the need to create a separate identity for it."}],"poster":"[Removed]","upvote_count":"1","timestamp":"1703420280.0","comment_id":"1104573","content":"Actually, I need to go back on that, just tested this in my lab. \n\nI have created an app service and a key vault that supports access policies. I then attempted to create an access policy but when I got to select a Principal, my app1 was not in the list. I first had to create a managed identity on the app service plan, and only then I was able to create an access policy and choose app1 as a principal.\n\nTherefore, without a managed identity you are not able to create an access policy for app1."}],"comment_id":"1104571","poster":"[Removed]"},{"poster":"[Removed]","upvote_count":"1","comments":[{"upvote_count":"2","poster":"[Removed]","content":"Small correction in the Answer C It is given as Managed User Identity to App1.That is not correct.It should be managed System-assigned Identity to App1In that case We have to take the answer \"A Create an access policy for KV1 and assign the Microsoft Azure App Service principal to the policy.\" Since we have to think that changing the access configuration from RBAC to ACCESS policy is included there,But I deally it should be Either changing the access configuration from RBAC to ACCESS policy or managed System-assigned Identity.","timestamp":"1703360940.0","comment_id":"1104234"}],"content":"This is an excellant Question in My view.Unless you impliment it I dont think anyone can get the correct answer.Since it is provided that,there is an already user named user1@contoso.com (RBAC) for Azure Key Vault , you cannot create an access policy straight away without changing the access configuration From RBAC to Access Policy.In this case only option is to create an 1)Manage Identity for APP1 ,2)Get the service Principal ,3)Go to Role assignment,4)Assign a role,5)select the User,Group or service principal button,6)Then Click Select members7) and from the member window select the Service principal name8) and assign.","comment_id":"1104203","timestamp":"1703358420.0"},{"upvote_count":"1","timestamp":"1701793800.0","poster":"amsioso","comment_id":"1088632","content":"B\nhttps://learn.microsoft.com/en-us/azure/key-vault/general/tutorial-net-create-vault-azure-web-app#configure-the-web-app-to-connect-to-key-vault"},{"comment_id":"1045415","upvote_count":"2","content":"Selected Answer: A\nCreate and assign a wildcard App Service Certificate\nhttps://learn.microsoft.com/en-us/samples/azure/azure-quickstart-templates/app-service-certificate-wildcard/","timestamp":"1697504340.0","poster":"OrangeSG"},{"upvote_count":"5","timestamp":"1695687420.0","comment_id":"1017290","poster":"snorfknickles","content":"I'd go with B, based on this alone:\n\"There are three ways to authenticate to Key Vault:\nManaged identities for Azure resources: [...] We recommend this approach as a best practice.\nService principal and certificate: [...] We don't recommend this approach because the application owner or developer must rotate the certificate.\nService principal and secret: [...] Although you can use a service principal and a secret to authenticate to Key Vault, we don't recommend it.\"\nhttps://learn.microsoft.com/en-us/azure/key-vault/general/basic-concepts#authentication"},{"upvote_count":"3","poster":"conip","comment_id":"1008931","timestamp":"1694842860.0","content":"Selected Answer: B\nhttps://learn.microsoft.com/en-us/azure/key-vault/general/tutorial-net-create-vault-azure-web-app"},{"comment_id":"1003990","content":"Access policies are legacy based system and MS recommends RBAC, so I would go with C honestly:\nhttps://learn.microsoft.com/en-us/azure/key-vault/general/rbac-access-policy","poster":"ducklaorange","upvote_count":"1","timestamp":"1694349240.0","comments":[{"comment_id":"1017279","timestamp":"1695686820.0","content":"Currently, App Service certificates support only Key Vault access policies, not the RBAC model\nhttps://learn.microsoft.com/en-us/azure/app-service/configure-ssl-app-service-certificate?tabs=portal#buy-and-configure-an-app-service-certificate","poster":"snorfknickles","upvote_count":"2"}]},{"content":"Selected Answer: A\nIn order to read secrets from a key vault, you need to have a vault created and give your app permission to access it.\nCreate a key vault by following the Key Vault quickstart.\nCreate a managed identity for your application.\nKey vault references use the app's system-assigned identity by default, but you can specify a user-assigned identity.\nAuthorize read access to secrets your key vault for the managed identity you created earlier. How you do it depends on the permissions model of your key vault:\nAzure role-based access control: Assign the Key Vault Secrets User role to the managed identity. For instructions, see Provide access to Key Vault keys, certificates, and secrets with an Azure role-based access control.\nVault access policy: Assign the Get secrets permission to the managed identity. For instructions, see Assign a Key Vault access policy.\n\nhttps://learn.microsoft.com/en-us/azure/app-service/app-service-key-vault-references?tabs=azure-cli","upvote_count":"1","comments":[{"comment_id":"1048917","content":"On your 2nd line you said \"Create a managed identity for your application\"\n\nSo the first step is B?","poster":"Renz123","timestamp":"1697814960.0","upvote_count":"1"},{"poster":"conip","content":"so why even though you have in line 4 \"create a managed identity for your app\" have you picked A? \n\nIMHO should be B","timestamp":"1694842800.0","comment_id":"1008929","upvote_count":"3"}],"timestamp":"1693985220.0","poster":"Kuikz","comment_id":"1000339"},{"comment_id":"999193","poster":"Exilic","upvote_count":"1","timestamp":"1693897800.0","content":"Selected Answer: A\nChatGPT\n\n\"To configure App1 to use the wildcard certificate from KV1, you should perform the following steps:\n\n Create an access policy for KV1: You need to create an access policy in the Azure Key Vault (KV1) that allows the Azure App Service (App1) to access the certificate. Access policies define who can perform certain operations on key vault secrets, keys, and certificates. In this case, you want to grant access to App1.\n\n Assign the policy to the Microsoft Azure App Service principal: After creating the access policy, you should assign it to the Azure App Service principal, not User1. This allows App1 to use the certificate stored in KV1.\n\nSo, the correct answer is:\n\nA. Create an access policy for KV1 and assign the Microsoft Azure App Service principal to the policy.\n\nAssigning a managed user identity to App1 (Option B) and configuring KV1 to use RBAC (Option C) are not directly related to granting access to the certificate for App1. Option D is incorrect because you should assign the policy to the Azure App Service principal, not User1.\""}],"answer":"B","choices":{"C":"Configure KV1 to use the role-based access control (RBAC) authorization system.","B":"Assign a managed user identity to App1.","A":"Create an access policy for KV1 and assign the Microsoft Azure App Service principal to the policy.","D":"Create an access policy for KV1 and assign the policy to User1."},"answer_images":[],"question_text":"You have an Azure AD tenant named contoso.com.\n\nYou have an Azure subscription that contains an Azure App Service web app named App1 and an Azure key vault named KV1. KV1 contains a wildcard certificate for contoso.com.\n\nYou have a user named user1@contoso.com that is assigned the Owner role for App1 and KV1.\n\nYou need to configure App1 to use the wildcard certificate of KV1.\n\nWhat should you do first?","question_images":[],"isMC":true,"question_id":388,"url":"https://www.examtopics.com/discussions/microsoft/view/119631-exam-az-104-topic-4-question-98-discussion/","answers_community":["B (69%)","A (31%)"],"exam_id":44,"unix_timestamp":1693542720,"timestamp":"2023-09-01 06:32:00","topic":"4","answer_ET":"B","answer_description":""},{"id":"YQToFJAfVt6q2oHgdtbe","topic":"4","isMC":true,"exam_id":44,"discussion":[{"comment_id":"1027570","timestamp":"1696699440.0","content":"Selected Answer: B\nTherefore, the most direct and crucial dependency for VM1 among the listed resources is NIC1 (Option B). The NIC acts as the bridge between the VM and the other network resources like the virtual network, public IP, and network security group. Hence, it's essential to ensure that NIC1 is deployed before VM1.\nhttps://learn.microsoft.com/en-us/azure/templates/microsoft.compute/virtualmachines?pivots=deployment-language-arm-template\nhttps://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/resource-dependency\nhttps://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/template-tutorial-create-templates-with-dependent-resources?tabs=CLI","poster":"Vestibal","upvote_count":"18"},{"content":"Answer is B","poster":"N3m86","upvote_count":"9","timestamp":"1696050480.0","comment_id":"1021262"},{"content":"Selected Answer: B\nB is correct","timestamp":"1726586880.0","upvote_count":"1","comment_id":"1285326","poster":"[Removed]"},{"comment_id":"1281073","content":"I have checked the API with terraform and the VM depends on the NIC (I thought its VNET but its truly NIC, tested it)","upvote_count":"2","poster":"Sickcnt","timestamp":"1725898500.0"},{"timestamp":"1709028120.0","comment_id":"1160407","upvote_count":"1","poster":"Amir1909","content":"B is correct"},{"poster":"MatAlves","upvote_count":"2","timestamp":"1706607000.0","content":"{...,\n{\n \"type\": \"Microsoft.Compute/virtualMachines\",\n \"apiVersion\": \"2022-11-01\",\n \"name\": \"[format('{0}{1}', variables('vmPrefix'), copyIndex())]\",\n \"location\": \"[parameters('location')]\",\n \"dependsOn\": [\n \"[resourceId('Microsoft.Network/networkInterfaces',format('{0}-{1}', variables('nicPrefix'),copyIndex()))]\"\n ],\n...}\n\nhttps://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/resource-dependency","comment_id":"1135648"},{"poster":"belyo","content":"Selected Answer: A\nshould be VNET\nonce you choose you cant go back or have to re-create the vm\ni mean you cant switch VNETs only subnets/ip addresses etc.","upvote_count":"4","comment_id":"1134916","timestamp":"1706529840.0"},{"poster":"amsioso","timestamp":"1701794100.0","upvote_count":"1","comment_id":"1088636","content":"B\nNIC1"},{"timestamp":"1700552280.0","comment_id":"1076096","content":"Selected Answer: B\nhttps://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/media/template-tutorial-create-templates-with-dependent-resources/resource-manager-template-dependent-resources-diagram.png","upvote_count":"4","poster":"Andreas_Czech"}],"answer_ET":"B","choices":{"A":"VNET1","C":"IP1","D":"NSG1","B":"NIC1"},"answers_community":["B (85%)","A (15%)"],"question_images":["https://img.examtopics.com/az-104/image767.png"],"answer":"B","unix_timestamp":1696050480,"answer_description":"","timestamp":"2023-09-30 07:08:00","answer_images":[],"question_id":389,"url":"https://www.examtopics.com/discussions/microsoft/view/121869-exam-az-104-topic-4-question-99-discussion/","question_text":"You have an Azure subscription.\n\nYou plan to deploy the resources shown in the following table.\n\n//IMG//\n\n\nYou need to create a single Azure Resource Manager (ARM) template that will be used to deploy the resources.\n\nWhich resource should be added to the dependsOn section for VM1?"},{"id":"DAgH6WcIF7NGniVKRHND","timestamp":"2020-12-06 01:45:00","answer_ET":"","topic":"5","answer_images":["https://www.examtopics.com/assets/media/exam-media/04223/0034800002.jpg"],"exam_id":44,"answer":"","answers_community":[],"isMC":false,"answer_description":"Box 1: an internal load balancer\nAzure Internal Load Balancer (ILB) provides network load balancing between virtual machines that reside inside a cloud service or a virtual network with a regional scope.\nBox 2: an application gateway that uses the WAF tier\nAzure Web Application Firewall (WAF) on Azure Application Gateway provides centralized protection of your web applications from common exploits and vulnerabilities. Web applications are increasingly targeted by malicious attacks that exploit commonly known vulnerabilities.\nReference:\nhttps://docs.microsoft.com/en-us/azure/web-application-firewall/ag/ag-overview","unix_timestamp":1607215500,"url":"https://www.examtopics.com/discussions/microsoft/view/38955-exam-az-104-topic-5-question-1-discussion/","question_images":["https://www.examtopics.com/assets/media/exam-media/04223/0034700001.png","https://www.examtopics.com/assets/media/exam-media/04223/0034800001.jpg"],"question_text":"HOTSPOT -\nYou have an Azure subscription named Sub1.\nYou plan to deploy a multi-tiered application that will contain the tiers shown in the following table.\n//IMG//\n\nYou need to recommend a networking solution to meet the following requirements:\n✑ Ensure that communication between the web servers and the business logic tier spreads equally across the virtual machines.\n✑ Protect the web servers from SQL injection attacks.\nWhich Azure resource should you recommend for each requirement? To answer, select the appropriate options in the answer area.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","discussion":[{"comments":[{"comment_id":"430874","content":"Azure Web Application Firewall (WAF) on Azure Application Gateway provides centralized protection of your web applications from common exploits and vulnerabilities. Web applications are increasingly targeted by malicious attacks that exploit commonly known vulnerabilities. SQL injection and cross-site scripting are among the most common attacks","timestamp":"1629819480.0","poster":"zvasanth2","upvote_count":"7"}],"comment_id":"360503","content":"Correct Answer:\n\nBox 1: an internal load balancer\nAzure Internal Load Balancer (ILB) provides network load balancing between virtual machines that reside inside a cloud service or a virtual network with a regional scope.\n\nBox 2: an application gateway that uses the WAF tier\nAzure Web Application Firewall (WAF) on Azure Application Gateway provides centralized protection of your web applications from common exploits and vulnerabilities. Web applications are increasingly targeted by malicious attacks that exploit commonly known vulnerabilities. Application gateway which uses WAF tier.","upvote_count":"172","poster":"mlantonis","timestamp":"1621341960.0"},{"poster":"fedztedz","comment_id":"252205","timestamp":"1608918420.0","upvote_count":"61","content":"Answer is correct.\n- Internal Load Balancer. check the example in https://docs.microsoft.com/en-us/azure/load-balancer/load-balancer-overview\n- Application gateway which uses WAF tier."},{"poster":"[Removed]","timestamp":"1727014380.0","content":"CORRECT","comment_id":"1287762","upvote_count":"2"},{"comment_id":"1173715","timestamp":"1710449880.0","poster":"tashakori","upvote_count":"2","content":"Given answer is correct"},{"comment_id":"993205","upvote_count":"4","comments":[{"poster":"WakandaF","comment_id":"998766","content":"Thanks\n\nI will do the exam this Friday 8th.","timestamp":"1693851960.0","upvote_count":"2"}],"content":"On exam 29/08/23","timestamp":"1693322460.0","poster":"Gregsenn"},{"poster":"stonwall12","comment_id":"926390","timestamp":"1687057140.0","upvote_count":"1","content":"Internal Loader & WAF Firewall\n\nWe're communicating internally, and WAF provides SQL injection protection"},{"timestamp":"1681216680.0","comments":[{"comment_id":"1362181","upvote_count":"1","timestamp":"1740591540.0","content":"Yes, and it will work fine (it currently support being internal) but it will be much more expensive... So, for simple load balancing, a L4 LB makes more sense.","poster":"ahhatem"}],"content":"But doesn’t the application gateway provide some load balancing features?","comment_id":"867319","poster":"Georges_Hawat_2000","upvote_count":"1"},{"content":"Passed today on 29Jan23 with a score of 970. This question was in the exam.\nCorrect Answer:\nBox 1: an internal load balancer\nBox 2: an application gateway that uses the WAF tier","timestamp":"1674937680.0","comment_id":"791065","upvote_count":"7","poster":"Ashfaque_9x"},{"poster":"EmnCours","comment_id":"649991","upvote_count":"1","timestamp":"1661135100.0","content":"Given Answer is correct"},{"upvote_count":"5","timestamp":"1655965200.0","comment_id":"620802","comments":[{"upvote_count":"4","poster":"Lazylinux","content":"Protects against malicious attacks such as: \n*SQL Injection \n*Cross-site scripting \n*Broken Authentication \n*Sensitive data exposure \n*XML External entities \n*Broken Access control \n*Security misconfiguration \n*Insecure deserialization \n*Vulnerable components \n*Insufficient logging \nMore info here: \nhttps://docs.microsoft.com/en-us/azure/web-application-firewall/ag/ag-overview","comment_id":"620803","timestamp":"1655965200.0"}],"content":"Given Answer is correct\nAnswer is correct.\n\n- Internal Load Balancer\n- Application gateway which uses WAF tier.\nWeb Application Firewall (WAF) \n\nProvides centralized protection of your web applications from common exploits and vulnerabilities. Web applications are increasingly targeted by malicious attacks that exploit commonly known vulnerabilities. SQL injection and cross-site scripting are among the most common attacks. A WAF solution can react to a security threat faster by centrally patching a known vulnerability, instead of securing each individual web application. WAF can be deployed with Azure Application Gateway, Azure Front Door, and Azure Content Delivery Network (CDN) service from Microsoft. WAF on Azure CDN is currently under public preview. WAF has features that are customized for each specific service. For more information about WAF features for each service, see the overview for each service.","poster":"Lazylinux"},{"poster":"InvisibleShadow","comment_id":"563700","upvote_count":"4","content":"This question came in the exam today 8/Mar/2022.\nI passed the exam, 95% questions came from here.","timestamp":"1646795040.0"},{"upvote_count":"6","comment_id":"538013","poster":"nidhogg","timestamp":"1643731980.0","content":"On the exam today, 1.feb.2022\nJust 761/1000, but OK! :D\nThanks to ExamTopics and to you all!"},{"content":"Was on exam today 19.11.2021. Passed with 920.\nCorrect answer: \n- Internal Load Balancer\n- Application gateway which uses WAF tier","timestamp":"1637331540.0","upvote_count":"13","comment_id":"481730","poster":"im82"},{"poster":"AubinBakana","content":"This one is super tough. I have not worked with Logic Apps that much, so I had to do some research here. But it's pretty interesting.","upvote_count":"1","timestamp":"1630147200.0","comment_id":"433776"},{"timestamp":"1630080660.0","poster":"AubinBakana","comment_id":"433219","upvote_count":"1","content":"correct answer"},{"content":"Answer is correct, Appear On Exam July 1 2021","comment_id":"396548","timestamp":"1625200020.0","upvote_count":"6","poster":"achmadirvanp"},{"content":"Answer is correct.\nAn internal load balancer to spread the traffic and\nan application gateway with WAF tier to prevent malicious attacks.","poster":"inemumoren","timestamp":"1624727520.0","comment_id":"391427","upvote_count":"2"},{"comment_id":"382729","content":"Always nice to see a straight forward question","upvote_count":"6","poster":"ScreamingHand","timestamp":"1623769260.0"},{"comments":[{"upvote_count":"6","timestamp":"1617102840.0","poster":"AlexLiourtas","comment_id":"324206","content":"what the...?"},{"comment_id":"356310","poster":"3abmula","comments":[{"upvote_count":"2","comment_id":"420224","poster":"Santy7","timestamp":"1628161380.0","content":"ha ha ha"}],"timestamp":"1620904860.0","content":"Might be a correct answer, but to the wrong question :D","upvote_count":"9"}],"poster":"ZUMY","upvote_count":"4","timestamp":"1615207920.0","comment_id":"305723","content":"- for RG1, nothing is changed as the policy is only applied on resources not resource groups. So, the answer is tag1: value1\n- for storage account, the policy is applied as a new resource is created. Also, nothing mentioned about inheritance from RG. accordingly, the answer is tag2:value2 from policy1 and tag3: value3 as applied directly."},{"poster":"ZUMY","content":"Answer is correct.\n- Internal Load Balancer. check the example in https://docs.microsoft.com/en-us/azure/load-balancer/load-balancer-overview\n- Application gateway which uses WAF tier.","timestamp":"1614840840.0","comment_id":"303186","upvote_count":"4"},{"timestamp":"1613812860.0","content":"Answers and explanations are correct.","comment_id":"294881","upvote_count":"2","poster":"toniiv"},{"upvote_count":"4","poster":"mikl","timestamp":"1612958460.0","content":"Both answers are correct as I see it.\n\nSource : https://docs.microsoft.com/en-us/azure/web-application-firewall/ag/ag-overview\n\nAzure Web Application Firewall (WAF) on Azure Application Gateway provides centralized protection of your web applications from common exploits and vulnerabilities. Web applications are increasingly targeted by malicious attacks that exploit commonly known vulnerabilities. SQL injection and cross-site scripting are among the most common attack","comment_id":"287520"},{"upvote_count":"3","comments":[{"upvote_count":"2","timestamp":"1610903940.0","content":"- Internal Load Balancer. check the example in https://docs.microsoft.com/en-us/azure/load-balancer/load-balancer-overview","poster":"Lapiduse","comment_id":"269669"},{"poster":"mikl","comment_id":"290881","timestamp":"1613386080.0","upvote_count":"3","content":"If the traffic towards the web servers came from public - then yes.\n\nBut reading this : \"Ensure that communication between the web servers and the business logic tier spreads equally across the virtual machines.\"\n\nI believe that the traffic comes from a business logic app inside azure - thats why a internal load balancer is correct."}],"content":"First answer is not correct. This should be public load balancer. \nInternal load balancer can be applied between the business layer and the database layer.","timestamp":"1610204040.0","poster":"asaz","comment_id":"263298"},{"timestamp":"1607215500.0","poster":"aither_ether","comments":[{"upvote_count":"8","content":"Agree answer is correct.","poster":"Hibs2016","timestamp":"1607261340.0","comment_id":"236482"}],"content":"I think this answer is correct, but what about?","upvote_count":"3","comment_id":"236124"}],"question_id":390}],"exam":{"isImplemented":true,"isBeta":false,"name":"AZ-104","id":44,"isMCOnly":false,"provider":"Microsoft","numberOfQuestions":606,"lastUpdated":"12 Apr 2025"},"currentPage":78},"__N_SSP":true}