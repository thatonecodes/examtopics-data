{"pageProps":{"questions":[{"id":"5l1AhBMdWOvgkdcdBpxa","question_text":"HOTSPOT -\nYou have Azure virtual machines that have Update Management enabled. The virtual machines are configured as shown in the following table.\n//IMG//\n\nYou schedule two update deployments named Update1 and Update2. Update1 updates VM3. Update2 updates VM6.\nWhich additional virtual machines can be updated by using Update1 and Update2? To answer, select the appropriate options in the answer area.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","isMC":false,"topic":"3","answers_community":[],"timestamp":"2020-02-11 14:45:00","unix_timestamp":1581428700,"exam_id":56,"url":"https://www.examtopics.com/discussions/microsoft/view/13837-exam-az-500-topic-3-question-32-discussion/","answer_images":["https://www.examtopics.com/assets/media/exam-media/04258/0026900001.jpg"],"answer":"","answer_ET":"","question_id":211,"discussion":[{"content":"Its based on OS, only windows machines can be added to windows update management group and same applies to linux. the answer is right.","timestamp":"1598532540.0","comment_id":"56049","upvote_count":"88","poster":"azurearch"},{"poster":"Rave763","comment_id":"77404","upvote_count":"20","comments":[{"timestamp":"1609833780.0","content":"Correct. Answer is correct","poster":"gboyega","upvote_count":"10","comment_id":"126657"}],"content":"Answer is Correct. You can add machines to the update management irrespective of the region and resource group provided they are of same OS time. i think region agnostic is a recent feature","timestamp":"1603277280.0"},{"comment_id":"1132327","upvote_count":"1","timestamp":"1721971740.0","poster":"cris_exam","content":"Answers are correct. wardy1983 explained well.\n\nAlso, not all OS versions are supported so, here's a link with a list of the supported OS builds.\n\nhttps://learn.microsoft.com/en-us/azure/virtual-machines/automatic-vm-guest-patching#supported-os-images"},{"timestamp":"1715865300.0","content":"Explanation:\nAn update deployment can apply to Windows VMs or Linux VMs but not both. The VMs can be in different\nregions, different subscriptions and different resource groups.\nUpdate1: VM1 and VM2 only -\nVM3: Windows Server 2016.\nUpdate2: VM4 and VM5 only -\nVM6: CentOS 7.5.\nFor Linux, the machine must have access to an update repository. The update repository can be private or\npublic.\nReference:\nhttps://docs.microsoft.com/en-us/azure/automation/update-management/overview","poster":"wardy1983","upvote_count":"5","comment_id":"1072519"},{"comment_id":"878335","poster":"BayaliJihad","timestamp":"1698064080.0","upvote_count":"6","content":"This is outdated. Now in Azure update management center, you can create maintenance configurations, and it's not OS based, you can add in the same maintenance configuration linux and windows machines"},{"timestamp":"1693740300.0","upvote_count":"2","poster":"majstor86","content":"Update 1: VM1 and VM2 only\nUpdate 2: VM4 and VM5 only","comment_id":"827999"},{"poster":"ligu","content":"The answers are correct. Updates management on the same OS","upvote_count":"1","comment_id":"818356","timestamp":"1692727740.0"},{"content":"In exam: 20-7-2022","upvote_count":"6","comment_id":"634042","poster":"Sweet_co","timestamp":"1674225420.0"},{"upvote_count":"4","comment_id":"632358","content":"In exam 15-July-2022","poster":"NinjaSchoolProfessor","timestamp":"1673907840.0"},{"comment_id":"436649","timestamp":"1646087160.0","content":"# IN EXAM - 31/8/2021","upvote_count":"5","poster":"SecurityAnalyst"},{"timestamp":"1646019840.0","content":"In exam on 31/08/2021","upvote_count":"3","poster":"Socgen1","comment_id":"435913"},{"poster":"Deepmindx","comment_id":"394032","upvote_count":"10","content":"### IN EXAM ### 29/6/2021","timestamp":"1640802660.0"},{"comment_id":"385888","poster":"kumax","timestamp":"1639976400.0","upvote_count":"6","content":"On exam, May 2021."},{"timestamp":"1636118580.0","content":"in exam 02/05/2021","comment_id":"350236","poster":"Cisna","upvote_count":"7","comments":[{"content":"Hi Cisna,\nCan you confirm the correct answer .","upvote_count":"1","comment_id":"385677","poster":"rpm1234567","timestamp":"1639943940.0"}]},{"comment_id":"292880","timestamp":"1629226080.0","content":"Given answer is correct. Tested in lab, When you create Deployment Schedule in Azure Automation, it asks for \"Operating System\" which shows that both OS (Win and Linux) can not be selected in one schedule.","poster":"milind8451","upvote_count":"4"},{"poster":"milad123","comment_id":"290364","content":"correct","timestamp":"1628947800.0","upvote_count":"2"},{"upvote_count":"3","comments":[{"timestamp":"1639487100.0","content":"Also seen on az - 304","comment_id":"381800","upvote_count":"2","poster":"KaiserdomTW"}],"timestamp":"1626865380.0","comment_id":"272850","poster":"JeanTremblay","content":"This is a question for the az-104 not the az-500 !!"},{"poster":"zic04","upvote_count":"2","timestamp":"1626678960.0","comment_id":"271050","content":"Correct"},{"timestamp":"1625567280.0","content":"Answer is correct. Location doesn't matter but when you create an update deployment you have to choose either Linux or Windows. (There are also older versions of both OS families that aren't supported, but in this case, all mentioned OS versions are supported)","comment_id":"260992","upvote_count":"2","poster":"B1T3X"},{"content":"Answer is correct. In update management, when you create a schedule you can either choose windows or linux.","poster":"Surs","comment_id":"249756","timestamp":"1624315680.0","upvote_count":"2"},{"poster":"hamshoo","content":"You can connect all virtual machines onto an existing Update management solution","upvote_count":"1","comment_id":"246332","timestamp":"1623913260.0"},{"poster":"Chrisinternet","timestamp":"1623523320.0","comment_id":"242003","upvote_count":"1","comments":[{"timestamp":"1640372100.0","content":"\"Azure VMs can exist in any region, no matter the location of your Automation account.\"\n\nfrom:\nhttps://docs.microsoft.com/en-us/azure/automation/update-management/enable-from-portal#enable-update-management","comment_id":"389767","poster":"nothankyouspankyou","upvote_count":"2"}],"content":"Tested in Azure. When you add Azure VMs to Update Management, you can choose only 1 Location (East US OR West US) , Windows and Linux VM types..\nSO answers, for me, should be:\nUpdate 1 : VM2 and VM4 ( WestUS )\nUpdate 2 : VM1 and VM5 ( EastUS )"},{"timestamp":"1621477080.0","poster":"deepu1982","content":"Update Management can be used to natively deploy to machines in multiple subscriptions in the same tenant, its a tenant level . Answer is correct","comment_id":"223273","upvote_count":"1"},{"upvote_count":"1","content":"I don't know, look at point 4 here:\n\nThe list of virtual machines is filtered to show only the virtual machines that are in the same subscription and location. If your virtual machines are in more than three resource groups, the first three resource groups are selected.\n\nhttps://docs.microsoft.com/en-us/azure/automation/update-management/enable-from-portal","comment_id":"218123","timestamp":"1620840060.0","comments":[{"upvote_count":"1","content":"Thats just showing you how tis set up not what can and cannot be added to the group. It also states if you need to show more just select them but it cant be more than 3","comment_id":"319554","poster":"macco455","timestamp":"1632509880.0"}],"poster":"Stuudent"},{"upvote_count":"2","timestamp":"1617532620.0","content":"https://docs.microsoft.com/en-us/azure/automation/update-management/update-mgmt-groups \nChoose either Windows or Linux.","poster":"btxy4","comment_id":"192845"},{"upvote_count":"3","content":"How can this answer be correct,neither their resource group are same nor their region!!!!\ni Think for 1st one it should be \"For VM4 only\" and for second one \"For VM1,VM2 and VM5 Only\"","comments":[{"comment_id":"183103","comments":[{"comment_id":"235370","content":"I agree, update management solutions is applicable to all VMs even they are differents OS and different locations,","poster":"mlourh","upvote_count":"1","timestamp":"1622853720.0"}],"poster":"tms2020","content":"Update Management assesses and applies security updates to all connected Windows Server and Linux servers in a workspace as per https://docs.microsoft.com/en-us/azure/automation/update-management/update-mgmt-overview\n\nHence both update management solutions applicable to all the machines provided they should not be in stopped state","timestamp":"1616261400.0","upvote_count":"5"}],"poster":"TauruSH","comment_id":"180668","timestamp":"1615961160.0"},{"poster":"peluca","upvote_count":"2","content":"Agree with provided answer","comment_id":"153704","timestamp":"1612885380.0"},{"upvote_count":"9","content":"Provided answers are correct","poster":"gfhbox0083","comment_id":"123963","timestamp":"1609487940.0"},{"upvote_count":"2","content":"https://docs.microsoft.com/en-us/azure/automation/automation-update-management\nThe Update Management solution requires linking a Log Analytics workspace to your Automation account. For a definitive list of supported regions, see Azure Workspace mappings. The region mappings don't affect the ability to manage VMs in a separate region from your Automation account.","comments":[{"upvote_count":"1","timestamp":"1603453500.0","content":"I agree. That does mean the proposed answer is correct.","comment_id":"78616","poster":"IsildursHeir"}],"poster":"HarryD","comment_id":"72836","timestamp":"1602301560.0"},{"comments":[{"timestamp":"1632639420.0","content":"nothing to do with the Resource Groups. It is based on the type of vm: Windows or Linux.","upvote_count":"2","comment_id":"320956","poster":"sureshatt"}],"comment_id":"49159","poster":"barchetta","timestamp":"1597146300.0","upvote_count":"1","content":"Im not sure this is right, I cant find a reference which states update management is limited to resource groups. You can create a \"computer group\" as a target which I believe can include any device in AAD. Perhaps someone else can verify.. still digging."}],"question_images":["https://www.examtopics.com/assets/media/exam-media/04258/0026700001.png","https://www.examtopics.com/assets/media/exam-media/04258/0026800001.jpg"],"answer_description":"An update deployment can apply to Windows VMs or Linux VMs but not both. The VMs can be in different regions, different subscriptions and different resource groups.\n\nUpdate1: VM1 and VM2 only -\nVM3: Windows Server 2016.\n\nUpdate2: VM4 and VM5 only -\nVM6: CentOS 7.5.\nFor Linux, the machine must have access to an update repository. The update repository can be private or public.\nReference:\nhttps://docs.microsoft.com/en-us/azure/automation/update-management/overview"},{"id":"C5w1jaB4a7SYW8hBGKuR","isMC":false,"question_id":212,"timestamp":"2019-12-04 01:37:00","answer_ET":"","unix_timestamp":1575419820,"topic":"3","answer_description":"NSGs: 2 -\n\nNetwork security rules: 3 -\nNot 2: You cannot specify multiple service tags or application groups) in a security rule.\nReferences:\nhttps://docs.microsoft.com/en-us/azure/virtual-network/security-overview","answer_images":["https://www.examtopics.com/assets/media/exam-media/04258/0027200001.jpg"],"discussion":[{"timestamp":"1575420600.0","poster":"Oz","comments":[{"comment_id":"56081","poster":"azurearch","upvote_count":"4","timestamp":"1582818780.0","content":"there is no requirement to allow traffic from one appgroup to another, question is just to allow traffic from internet to vm1 and 2."},{"poster":"rgullini","upvote_count":"2","comment_id":"352237","content":"This is correct.","timestamp":"1620428160.0"},{"content":"@oz The question doesn't enforce that NSG should be applied to Subnets Only. Therefor Applying the NSG to NIC seems the correct solution","upvote_count":"1","timestamp":"1624368180.0","poster":"abrahamtek","comment_id":"388009"},{"poster":"Roy_Batty","upvote_count":"3","comment_id":"172195","content":"In agreement that it's possible with 1 NSG and 3 rules, but given the \"Tip\" in one of the articles people are linking to, would it be better practice to create a separate NSG for the NIC-specific rules, and keep the Subnet-wide NSG to the rule for Internet->ASG?\n\nDoes anyone know where the listed answer came from? I'm wondering how hard I should try to 'justify' it, or figure out why it's right (assuming it reflects the actual test answer) or should I go with the answer we've figured out as technically correct if I encounter it on the test?","timestamp":"1599070980.0"},{"upvote_count":"18","comments":[{"poster":"Xtian_ar","content":"Yes, a 3rd deny rule is needed. You mentioned that there is a defualt deny rule, yes, but there is a defualt allow rule that allow any traffic between VMs of the same VNet, so that is the reason a 3rd deny rule is needed","comments":[{"content":"yes but we can remove it so it is still 3 rules","upvote_count":"2","timestamp":"1619809200.0","poster":"Fred64","comments":[{"poster":"nicksu","content":"one cannot remove default 65000+ rules","comment_id":"362311","timestamp":"1621524360.0","upvote_count":"15"}],"comment_id":"346402"}],"comment_id":"292231","timestamp":"1613525220.0","upvote_count":"20"}],"timestamp":"1609521240.0","comment_id":"256968","content":"You don't need the 3rd deny rule.\nWe have the default rules 65500 to deny all inbound/outbound at the end of the default rule set\nSo Answer remains: \nNSG ⇒ 1\nRules ⇒ 2\nVM4 => VM3 Rule: Source AppGroup4, Destination AppGroup3\nInternet => VM1,2 Rule: Source Internet, Destination AppGroup12\nnot counting the default rules that end up denying all","poster":"sambsamb"},{"upvote_count":"12","timestamp":"1591986720.0","poster":"David_986969","content":"Actuallu you only need 1 NSG rule, because by default the communication between VM´s in the same subnet is enable when you create de NSG","comments":[{"comments":[{"comments":[{"upvote_count":"1","content":"They DID ask. \"Allow traffic to VM4 from VM3 ONLY(!).\" So NO traffic to VM4 from anywhere else. But that is allowed by default so we need a deny rule.","timestamp":"1722339900.0","comment_id":"1258185","poster":"pentium75"}],"content":"They didn't ask to deny the traffic From AppGroup12 To AppGroup4. Even asked to minimize the Rules and NSG. So, wondering, why have to create additional rule?","timestamp":"1696097460.0","comment_id":"1021794","poster":"TheProfessor","upvote_count":"1"}],"timestamp":"1678866600.0","poster":"ConanBarb","upvote_count":"4","comment_id":"839643","content":"Actually you would need mnimum 2 rules, not 3 and not 1\nAllow: From Internet To AppGroup12 \nDeny: From AppGroup12 To AppGroup4\n\nTraffic from Appgroup3 (VM3) to AppGroup4 (VM4) would implicitly be allowed since they are in the same subnet\n\nI dont say this is a better solution from a maintenance perspective (suppose you add a new VM to the subnet or peer the network, new resources would allso get access to VM4), but if that is not a problem and/or a minimum number of rules is what you really want then this is it\n\n1 NSG \n2 Rules"}],"comment_id":"108914"},{"poster":"Rave763","timestamp":"1587373740.0","comment_id":"76862","comments":[{"poster":"gboyega","comment_id":"126658","timestamp":"1593929580.0","content":"Well not outrightly correct, remember we can attach a subnet to a NIC also","upvote_count":"3"}],"upvote_count":"9","content":"i would like to agree with @Oz. I have read somewhere that NSG are allow by default.. so we need to add a rule for deny. Just experimented in portal and found that when you create a NSG the portal automatically added a Deny rule with priority 65500\n\nso Answer is 1 and 3"}],"upvote_count":"156","comment_id":"26412","content":"Sorry, I have to re-post.\nCorrect answer is this.\n1) You can only assign 1 NSG to a subnet, and there is only one subnet in the description. So Box 1 is 1\n2) Number of rules in NSG can be any, they are processed in sequence.\nRule 1: You can have AppGroup3 as the source and AppGroup4 as destination in one rule then allow traffic.\nRule 2: You can have Service Tag \"Internet\" as a source and AppGroup12 as the destination. then allow traffic.\nRule 3: YOu can have source as the subnet range and destination as subnet range then deny all traffic, so only above rules will be allowing traffic.\n\n\nSO Box 2 is 3.\n\nYou still have 3 default rules that allow traffic from VNET, LoadBalancer and deny all other inbound traffic."},{"comment_id":"26410","upvote_count":"46","timestamp":"1575419820.0","content":"Correct answer is this.\n1) You can only assign 1 NSG to a subnet, and there is only one subnet in the description. So Box 1 is 1\n2) You can have AppGroup3 as the source and AppGroup4 as destination in one rule then deny traffic. That's one rule.\nYou can have Internet tag as a source and AppGroup12 as the destination. That's rule 2.\nSO Box 2 is 2 .","poster":"Oz","comments":[{"poster":"gills","timestamp":"1604208480.0","content":"This is in correct. The communication control between two VMs within the subnet, cannot controlled by a NSG at the subnet level. So there is going to be an NSG assigned to to a NIC. The control of traffic between internet and VM can be controlled by a NSG at the subnet. So there is two NSG for sure!","comments":[{"content":"Not right - if you put a inbound Deny All rule, it will impact the communication between the VMs in the same subnet. Tested and verified.","upvote_count":"2","poster":"Arejay","timestamp":"1612882500.0","comment_id":"286903"},{"upvote_count":"4","poster":"Lrrr_FromOmicronPersei8","timestamp":"1638792540.0","content":"Yes, it can be, refer to https://docs.microsoft.com/en-us/azure/virtual-network/network-security-group-how-it-works#intra-subnet-traffic, \"It's important to note that security rules in an NSG associated to a subnet can affect connectivity between VM's within it.\"","comment_id":"495107"}],"comment_id":"210271","upvote_count":"11"}]},{"timestamp":"1740410400.0","poster":"Hot_156","comments":[{"upvote_count":"1","timestamp":"1740411120.0","content":"They are in the same Subnet BUT with regular VMs, any NSG within the subnet will evaluate the traffic in the subnet. With endpoints, traffic si routed directly to the endpoint bypassing an NSG in the same subnet","comment_id":"1361085","poster":"Hot_156"}],"upvote_count":"1","content":"This is also an option.\n\nNSGs: 2\nNetwork Security Rules: 3\n\n1. NSG1 (Associated with NIC1 and NIC2):\nRule 1:\nSource: Internet\nDestination: AppGroup12\nAction: Allow\n(Other settings as appropriate for your desired ports/protocols)\n\n2. NSG2 (Associated with the Subnet):\nRule 2:\nSource: AppGroup3\nDestination: AppGroup4\nAction: Allow\n(Other settings as appropriate)\nRule 3:\nSource: Any\nDestination: Any\nAction: Deny","comment_id":"1361076"},{"timestamp":"1722339780.0","poster":"pentium75","upvote_count":"1","comment_id":"1258182","content":"I think it is 1 and 3.\n\nFirst of all, question is 'how many NSGs and rules should you CREATE', so the default rules are excluded from the count.\n\nMinimize number of NSGs: \nAll NICs are in same VNet, so create 1 NSG for the VNet\n\nMinimize number of rules:\nDefault allows traffic within the VNet, so to 'allow traffic to VM4 from VM3 only' we need two new rules:\n1) allow traffic to VM4 from VM3\n2) deny other traffic to VM4\nInbound traffic is denied by default, so for \"Allow traffic from the Internet to VM1 and VM2 only\" we need only 1 rule:\n3) allow traffic to VM1 and VM2 (or AppGroup12) from Internet"},{"upvote_count":"3","content":"I think the given answers are correct. \nYou need 2 NSGs. One for the subnet, one for VM4. \nAllow traffic to VM4 only from VM3, this means you need to block all other traffics, even those within the VNET. You cannot have this rule in the subnet NSG, because then you will have to add many other rules to allow other intra-vnet traffic. So it is better to add this deny all traffic rule in the VM4's NSG. \n\nYou need 3 rules: (1) allow internet traffic to AppGroup12, in the subnet NSG.\n(2) in the VM4 NSG, deny all inbound traffic;\n(3) allow traffic from VM3.","poster":"LZNJ","timestamp":"1710262980.0","comment_id":"1171848"},{"comment_id":"1072521","upvote_count":"3","poster":"wardy1983","timestamp":"1700147760.0","content":") You can only assign 1 NSG to a subnet, and there is only one subnet in the description. So Box 1 is 1\n2) Number of rules in NSG can be any, they are processed in sequence.\nRule 1: You can have AppGroup3 as the source and AppGroup4 as destination in one rule then allow traffic.\nRule 2: You can have Service Tag \"Internet\" as a source and AppGroup12 as the destination. then allow traffic.\nRule 3: YOu can have source as the subnet range and destination as subnet range then deny all traffic, so only\nabove rules will be allowing traffic.\nBox 2 is 3.\nYou still have 3 default rules that allow traffic from VNET, LoadBalancer and deny all other inbound traffic.\nReferences:\nhttps://docs.microsoft.com/en-us/azure/virtual-network/security-overview"},{"upvote_count":"2","content":"NSG: 1\nRules: 3\n\nNSG: You can only assign 1 NSG to a subnet, and there is only one subnet in the description.\n\nRules:\n- The first rule (inbound) is to allow traffic initiated from the internet to ASG12.\n\nAll traffic initiated from the internet is blocked by default, so in this case, we need to allow it to VM1 and VM2, which are grouped together in ASG12.\n\n- The second rule is to allow traffic initiated from VM3 to VM4.\n\n- The third rule would be to deny all the connections as we have a default rule \"AllowVNetInBound\" which will allow the access between the VMs. Create one similar to the default one but with action \"deny\".","poster":"Feraso","comment_id":"1061957","timestamp":"1699085040.0"},{"timestamp":"1696097280.0","upvote_count":"1","comments":[{"content":"\"Allow traffic to VM4 from VM3 ONLY\". By default, \"traffic to VM4\" is allowed from all VMs.","poster":"pentium75","upvote_count":"1","comment_id":"1258138","timestamp":"1722337200.0"}],"comment_id":"1021789","content":"In my opinion, there is one NSG and 1 Security Rule.\n\nYou need to implement network security to meet the following requirements:\n\n✑ Allow traffic to VM4 from VM3 only.\n// By default traffic is enabled within the subnet and all of the VMs are under same subnet. So we don't need to create additional rule.\n\n✑ Allow traffic from the Internet to VM1 and VM2 only.\n// Service Tag: Source Internet and destination the ASG group.\n\n✑ Minimize the number of NSGs and network security rules.\nThere are default deny rules for inbound and outbound traffic.\n\nWe could create additional rule to deny traffic within the subnet, but that was not asked, importantly, asked to minimize the rules.","poster":"TheProfessor"},{"content":"The key word here is 'only'. They are asking you to limit the traffic on those conditions. By default there is a rule that allows all traffic from the VNET, so you must deny it in order to achieve the goal.","timestamp":"1695205860.0","poster":"Softeng","upvote_count":"1","comment_id":"1012207"},{"poster":"heatfan900","content":"THE QUESTION CLEARLY STATES HOW MANY YOU NEED TO CREATE. 1 AND 3 IS THE ANSWER. \n\n1 NSG / 3 Rules\n\n1 NSG attached to the subnet1\n-------\n1 Rule for TAG (Internet) as source and ASG12 as dest\n1 Rule for VM3 to VM4\n1 Rule to DENY all other traffic within Subnet1 as the default deny rules are only there to stop un-stateful traffic from outside the vnet. Without this deny rule all VMs will be able to speak to one another which clearly goes against what the question is asking.","timestamp":"1693400100.0","comments":[{"comment_id":"1053954","poster":"JunetGoyal","upvote_count":"1","timestamp":"1698258960.0","content":"Agreed!"}],"upvote_count":"5","comment_id":"994112"},{"comment_id":"965719","timestamp":"1690565340.0","upvote_count":"2","content":"ASG-NSG RULE SETUP EXPLANATION:\n\n-ONE NSG ASSIGNED TO THE ONE VNET.\n\n-TWO RULES ASSIGNED TO THE ONE NSG AGAINST THE ASGs.\n >THE FIRST RULE (INBOUND) IS TO ALLOW TRAFFIC INITIATED FROM INTERNET TO ASG12.\n >ALL TRAFFIC INITATED FROM THE INTERNET IS BLOCKED BY DEFAULT SO IN \n THIS CASE WE NEED TO ALLOW IT TO VM1 AND VM2 WHICH ARE GROUPED\n TOGETHER IN ASG12.\n \n >THE SECOND RULE IS TO DENY TRAFFIC INTIATED BY ASG12 TO VM 4. \n >THIS WOULD DENY VM1 AND VM2, AGAIN, GROUPED TOGETHER IN ASG12 TO\n COMMUNICATE WITH VM4.\n\n-THE PREMISE OF THE QUESTION IS TO TEST YOUR ABILITIES IN USING ASGs EFFICIENTLY \n ONE WAY OR THE OTHER.\n\n-NOTE, RULES ARE APPLIED BASED ON PRIORITY AND AN OBJECT THAT DOES MATCH RULE SIMPLY\n MOVES ON TO THE NEXT RULE. IF NO RULE APPLIES THE OBJECT WILL EVENTUALLY MATCH THE \n DENY OR ALLOW ALL RULE AT THE BOTTOM OF THE LIST WITH THE LOWEST PRIORITY.","poster":"heatfan900"},{"content":"NSGs: 1\nNetwork Security Rules: 3","poster":"majstor86","comment_id":"828000","timestamp":"1677850020.0","upvote_count":"1"},{"poster":"ranbhule","upvote_count":"4","content":"Answer should be 1 & 2\nhttps://learn.microsoft.com/en-us/azure/virtual-network/application-security-groups","timestamp":"1672223700.0","comment_id":"759721"},{"comment_id":"748671","poster":"junkm","upvote_count":"6","content":"1 NSG for the subnet\n3 rules (one from ASG3 to ASG4 / one from tag:Internet to ASG12 / one for deny any to any)","timestamp":"1671349440.0"},{"upvote_count":"5","comment_id":"731930","timestamp":"1669837920.0","poster":"mung","content":"The point is “how many rules should you create” not “how many rules should be in NSG”.\n\nSo to allow traffic to VM4 from VM3 only we need to create an inbound rule from VM4 to allow VM3 traffic.\nAnd another rule to allow traffic from internet to the VM1 and VM2.\n\nSo the answer have to be 1 NSG and 2 rules.\n\nAgain, it is asking you how many rules you must create, so you do not count the default rule that you did not created."},{"content":"VM3 and VM4 are in the same subnet so they can communicate by default. However, NSG blcok all incoming traffic from the internet by defualt so we need to create a rule to allow the access from the internet. \n\nSo we only need one rule i guess..?","comment_id":"731925","poster":"mung","timestamp":"1669837260.0","upvote_count":"1"},{"poster":"Muaamar_Alsayyad","timestamp":"1666346220.0","comment_id":"700719","upvote_count":"1","content":"1 NSG\n3 Rules"},{"poster":"Ivanvazovv","upvote_count":"8","timestamp":"1660196160.0","content":"\"When an NSG is associated with a subnet, the ACL rules apply to all Virtual Machine instances of that subnet.\"\nSo one NSG is enough.\nFirst requirement - Inbound rule - Source \"ASG12\", Destination \"IP of VM4\", Action \"Deny\".\nTraffic from VM3 to VM4 is allowed by default. No need of a new rule.\nSecond requirement - Inbound rule - Source \"Service tag Internet\", Destination \"ASG12\", Action \"Allow\".\nTraffic from Internet is denied by default. No need of a new rule.\nSo 1 NSG with total of 2 rules.","comment_id":"645282"},{"upvote_count":"7","poster":"jantoniocesargatica","comment_id":"586666","content":"Hi All. I really do not understand how we can have so many different answers. The fact is that only one person ( rohitmedi) said the correct answer. The question says \"should you create\", so the default NSG rules are created and we do not need to create them.\nNSG:1\nRules:1\nThere are only 2 restrictions in the question:\na) Allow traffic to VM4 from VM3 only. Can you see that is in the same subnet and the traffic is allowed by default? So, no rule needed.\nb) Allow traffic from the Internet to VM1 and VM2 only: 1 rule needed in the NSG\n\nSometimes we complicate things, when in fact the life is easier....\nI hope that my comments help to those who are studing for the exam.","comments":[{"content":"So answer me my friend: If only VM3 can access VM4, how do you prevent VM1 and VM2 from accessing VM4? After all, it's all allowed by default.\nYou're wrong, and you still want to lecture everyone. Don't be upset, but everyone here is learning together.\n\nIt is necessary:\n\n- Create a rule to deny traffic from VM1 and VM2 to VM4;\n- Create a rule to release traffic from the internet to VM1 and VM2;\n\nNote: The default NSG rule \"AllowVnetInBound\" will allow traffic from VM3 to VM4.\n\n1 NSG\n2 Rules","comments":[{"comment_id":"595508","poster":"jantoniocesargatica","timestamp":"1651394460.0","content":"No my friend. The original question has changed. Initially was: \"Allowed Traffic from Internet to VM1 and VM2 only\". In that case is 1 rule only as I commented previously. If the question now is different...it is another matter. I am not lecturing everyone, you can fin the same question in whizlabs, and that is that is the reason why I was 100% sure. I agree that everyone here is learning together.","upvote_count":"1"},{"timestamp":"1651395060.0","upvote_count":"1","content":"My friend. With the current question you are right. 2 rules.\n\nAnother example is this:\nAllow traffic between VM3 and VM4 (remove \"only\" from the question as it was originally)\nAllow traffic from Internet to VM1 and VM2.\nIn this case is 1 rule, and this is the original question i think, as I have found in whizlabs and other webs.","comment_id":"595510","poster":"jantoniocesargatica"}],"poster":"jr_luciano","timestamp":"1650799680.0","comment_id":"591000","upvote_count":"3"}],"timestamp":"1650096600.0"},{"upvote_count":"3","poster":"Eltooth","timestamp":"1648113000.0","comment_id":"574199","content":"1 and 3."},{"comments":[{"content":"This lab setup you mentioned doesn't even match the question.","comment_id":"724564","upvote_count":"2","poster":"Anonymousse","timestamp":"1669142280.0"}],"timestamp":"1644002580.0","upvote_count":"7","content":"Guys, I set up a lab with this question and the result was as follows:\n\ncreate a single NSG associated with the subnet\n\nCreate a rule that will allow all traffic between the two ASGs where each machine lives. In my lab it was ASG WEB for vm1 and ASGBD for vm2.\n\nCreate a rule that would allow traffic from the internet to vm3.\n\nCreate a rule that denies all traffic. To my surprise, I deny all internal traffic within the same subnet, except for these two machines located in the ASGs.\n\nin total 1 NGS and 3 rules\n\nI hope it works for you.","poster":"snake_alejo","comment_id":"540603"},{"comment_id":"536098","timestamp":"1643543040.0","poster":"smilinghacker","upvote_count":"7","content":"People! Pls work w what's given in the tables.. We're talking in terms of the application layer context here. There's a reason the ASGs are present, they're here for a purpose. You're correct in that you only need just one NSG, but the context here is ASG. So we need to associate the each VM's NICs to the ASG and tie all the ASGs together via NSG, so that would be 2 NSGs.\nAs for the rulesets: 3 Rules -\nsource Internet --> dest VM1-NIC1/ASG12\nsource internet --> dest VM2-NIC2/ASG12\nsource VM3-NIC3/ASG3 --> VM4-NIC4/ASG4","comments":[{"poster":"Innovite","timestamp":"1648514580.0","comment_id":"577174","upvote_count":"1","content":"Completely agree with you.."}]},{"timestamp":"1640438700.0","upvote_count":"2","poster":"raypower","content":"NSGs:1\nNetwork Security Rules:2 (deny rule is default, que is asking how many rules should YOU create)","comment_id":"509129"},{"content":"answer should be 1 and 1","timestamp":"1638071640.0","poster":"rohitmedi","upvote_count":"1","comment_id":"488821"},{"content":"appending to my previous comment:\nThis scenario stemmed out from a bad design, and you're here to fix it.\nWho on earth would create this w/out implementing NSG?? If there's only one NSG, there's noway you can filter traffic from vm3 to vm4 w/out creating a separate nsg via nic association. So i stand by the author's answers.","upvote_count":"1","comment_id":"472816","timestamp":"1636067820.0","poster":"Scryptre"},{"comment_id":"472813","timestamp":"1636067460.0","content":"People! Pls work w what's given in the tables.. We're talking in terms of the application layer context here. There's a reason the ASGs are present, they're here for a purpose. You're correct in that you only need just one NSG, but the context here is ASG. So we need to associate the each VM's NICs to the ASG and tie all the ASGs together via NSG, so that would be 2 NSGs.\nAs for the rulesets: 3 Rules -\nsource Internet --> dest VM1-NIC1/ASG12\nsource internet --> dest VM2-NIC2/ASG12\nsource VM3-NIC3/ASG3 --> VM4-NIC4/ASG4","poster":"Scryptre","upvote_count":"5"},{"poster":"azcourse","upvote_count":"2","timestamp":"1635070740.0","content":"1 NSG and 3 rules .\n1 NSG is enough for v-net","comment_id":"466912"},{"poster":"itbrpl","timestamp":"1634721420.0","upvote_count":"3","content":"Today's exam 20/10/21..","comment_id":"465054"},{"timestamp":"1632066780.0","upvote_count":"3","poster":"ashishg2105","comment_id":"447708","content":"Answer is 1 and 3.\nReason for 3:\nHere we need to implement one rule at the subnet layer to allow traffic from the Internet onto vm1 and vm2. \nNext, we need to add one network security group rule for NIC4 to allow traffic from only NIC3 via their private IP address. \nAnd then we need to add one more rule to Deny all other traffic."},{"poster":"SecurityAnalyst","content":"# IN EXAM - 31/8/2021","timestamp":"1630441620.0","comment_id":"436650","upvote_count":"3","comments":[{"poster":"cpalacios","upvote_count":"1","timestamp":"1664577840.0","content":"What did you enter?","comment_id":"683871"}]},{"upvote_count":"4","poster":"rsharma007","comment_id":"422690","content":"1 NSG at subnet level. \n3 custom rules:\n a. SRC:AppGroup3 DST:AppGroup4 Action: Allow\n b. SRC:All DST: AppGroup4 Action:Deny \n c. SRC:Internet DST:AppGroup12 Action: Allow\nInternet to VNET is denied by default","timestamp":"1628595720.0"},{"upvote_count":"4","content":"check URL https://docs.microsoft.com/en-us/azure/virtual-network/network-security-group-how-it-works \n\nIt's important to note that security rules in an NSG associated to a subnet can affect connectivity between VM's within it. For example, if a rule is added to NSG1 which denies all inbound and outbound traffic, VM1 and VM2 will no longer be able to communicate with each other. Another rule would have to be added specifically to allow this.\n\nAllowVNetInBound - default rule\nThis rule permits all the hosts inside the virtual network (including subnets) to communicate between them without any blocks.\n\nRequired NSG = 1 -> to block traffic on VM4 you can use the same NSG -> remmber NSG on subnet affect connectivity between VMs within it\nRequired Rules= 3\n\nA rule to allow traffic to VM4 from VM3\nA rule to allow traffic from internet to AppGRoup12 (VM1+VM2)\nA rule to block to override AllowVNetInBound","timestamp":"1624674900.0","poster":"[Removed]","comment_id":"390871"},{"content":"Since we are dealing with 1 subnet - 1 NSG on that subnet is sufficient. \nSo box 1 is 1\n\nNow the don't forget the default rules when you apply the NSG\nhttps://docs.microsoft.com/en-us/azure/virtual-network/network-security-groups-overview#default-security-rules\n\nInbound and outbound - from vnet to vnet is all allowed, so you need a rule to block all vnet to vnet traffic (above 65000) - thats 1, then you need a rule to allow VM4 to VM3 only - thats 2. \nAll internet outbound is allowed, all internet inbound is denied - so you only need 1 more rule to allow the internet inbound traffic.\n\nSo box 2 would be 3 rules","comments":[{"timestamp":"1621015260.0","content":"How about this? Inbound and outbound - from vnet to vnet is all allowed. We just need one rule to block AppGroup12 to VM4. So 2 rules, one for the internet inbound and one to block traffic from AppGroup12 to VM4 (which in other word allows communication between VM3 and VM4 only). And 1 NSG at subnet level.","poster":"esatu","upvote_count":"1","comment_id":"357373"}],"timestamp":"1619973420.0","upvote_count":"1","comment_id":"347882","poster":"Cyberbug2021"},{"timestamp":"1619711880.0","comments":[{"comment_id":"347595","timestamp":"1619949180.0","upvote_count":"1","content":"you need to put a inbound Deny All rule, it will impact the communication between the VMs in the same subnet.","poster":"JOKERO"}],"comment_id":"345516","poster":"Cyberbug2021","content":"1 NSG and 2 Rules - VM1 and VM2 are both in the same ASG so you can use ASG in destination don't have to use specific ips\nDeny rule is already in by default - don't have to add that.","upvote_count":"2"},{"poster":"cannibalcorpse","upvote_count":"5","content":"1 and 1\n1 NSG\n1 NSG rule for incoming traffic from the internet. We dont need to create for traffic between VM4 and VM3","comment_id":"332682","timestamp":"1618071960.0"},{"timestamp":"1616620980.0","upvote_count":"1","poster":"macco455","content":"SInce vnet traffic is effected by the NSG on the subnet, you can deny vnet traffic by putting a deny all rule on the NSG.\nTherefore, 1NSG\n3 Rules is the answer as stated by many others.","comment_id":"319582"},{"upvote_count":"3","comment_id":"294618","content":"According to https://docs.microsoft.com/en-us/azure/virtual-network/application-security-groups \nWe need 1 NSG since one Subnet\nWe need 3 Rules. \n1. allow internet to appgroup12\n2. allow iappgroup3 to appgroup4\n3. Deny all to appgroup4.","comments":[{"comment_id":"502053","poster":"licna","upvote_count":"2","timestamp":"1639564440.0","content":"Exactly. The same scenario, answer is crystal clear."}],"timestamp":"1613770800.0","poster":"sureshatt"},{"upvote_count":"1","comment_id":"292897","poster":"milind8451","timestamp":"1613596380.0","content":"Ans is 1 and 3. Since there is 1 subnet so you can create 1 NSG for the subnet, you can assign NSG to each VM as well but then you need 4 NSGs which is not optimum solution as they need minimum NSGs so 1 NSG for first ques. Here are the 3 NSG rules to be created -\n1) Allow Inbound traffic from Internet for VM1 and VM2 (App Group 12)\n2) Deny all traffic to VM4\n3) Allow traffic from VM3 to VM4\n\nBy default, all inbound traffic from internet is denied Because it is denied by the DenyAllInbound default security rule."},{"upvote_count":"6","timestamp":"1613488500.0","poster":"Shades","content":"This is the exact example used in below articled, read the diagram well:\n\nhttps://docs.microsoft.com/en-us/azure/virtual-network/application-security-groups","comment_id":"291874"},{"timestamp":"1612533660.0","poster":"JeanTremblay","comment_id":"284182","content":"The question is bout allowing traffic from a VM to another or from internet to 2 VM. Nothings mentions to allows traffic to The question talks ONLY about allowing internet traffic to 2 VMs; and traffic from one VM to another. The question doesn’t talk about traffic involving ASGs\n1 NSG & 2 rules\nSource Port Destination Port, Protocol\nInternet 0-65535 10.0.0.10, 10.0.011 0-65535 any\n10.0.0.100 0-65535 10.0.0.100, 10.0.011 0-65535 any\nan ASG","upvote_count":"1"},{"poster":"Thi","upvote_count":"1","timestamp":"1611991860.0","comment_id":"279802","content":"NSG1: 1, Network security rules:1\nNSG1: All VM are in the same subnet with different NIC. As soon as we deploy any default or custom NSG, it adds the default rule which can not be either deleted or modified, to communicate within all resources in the same VNet.\nNSG Rules: Here all VMs are in the same subnet, and you know the three default rules are automatically deployed by Microsoft which can neither deleted nor modified. Means there is no control of user on these rules. So ideally, without any adding rule, VM can communicate with each other inside a VNet whose member it is.Hence No. of Rule added by user is Zero. This fulfills our 1st requirement \"Allow traffic to VM3 from VM4\" for 2nd requirement \"Allow traffic from the Internet to VM1 and VM2 only\" we need to add a rule in the same NSG. So minimum number of rules in NSG is 1."},{"comment_id":"269608","poster":"inf","timestamp":"1610899320.0","content":"Answer: 1 NSG, 3 Rules\nhttps://docs.microsoft.com/en-us/azure/virtual-network/application-security-groups\nArticle is very close to the requirements (as indicated by canbe)\n\nNo requirement for any VM to communicate with another VM except from VM4->VM3. Thus all other intra-vnet traffic could be denied, however ignored is much simpler.\n\n1 x NSG assigned to subnet\n3 x Rules assigned to NSG\n 1 - 100 - Allow traffic from VM4 (AppGroup4) to VM3 (AppGroup3)\n 2 - 200 - Allow traffic from Internet to VM1,VM2 (AppGroup12)\n 3 - 500 - Deny all traffic to VM3 (AppGroup3)\n\n(3 x default rules, NOT created thus don't increase rule count, are:\n 1 - 65000 - Allow VirtualNetwork<-->VirtualNetwork\n 2 - 65001 - Allow AzureLoadBalancer->Any\n 3 - 65002 - Deny Any<-->Any\n)","upvote_count":"8"},{"content":"In the docs very similar scenario is described: https://docs.microsoft.com/en-us/azure/virtual-network/application-security-groups\nThen 1 NSG and 3 rules looks enough. Initially, I also thought 2 NSGs and 3 rules, however I haven't taken into account the app security groups","upvote_count":"1","poster":"canbe20","comment_id":"268669","timestamp":"1610785980.0"},{"upvote_count":"3","timestamp":"1610464800.0","content":"Tested this in a lab: you can go with 1 NSG group with 2x DENY rules:\nRule 1: Inbound rule: deny any traffic from AppGroup12 to AppGroup4. You don't need to deny internet as this is a default inbound rule. Also you don't need to allow Vm3 to VM4 traffic as they are in the same vnet and traffic is allowed by a default rule.\nRule 2: Inbound rule: Allow Internet from Any to AppGroup12.","comment_id":"265598","poster":"lateralus"},{"upvote_count":"3","content":"Answer is incorrect: Only 1 NSG is needed, we can create all rules in it and either associate it with the subnet or with all the NICs (Contrary to popular belief, associating an NSG with a subnet DOES affect traffic between resources in the subnet), because we only need 1 NSG, we only need 2 rules.","timestamp":"1609936320.0","comment_id":"260996","poster":"B1T3X"},{"comment_id":"249760","upvote_count":"2","poster":"Surs","content":"Answer is correct. \nYou will need one NIC level NSG for VM4. where you have one rule to allow inbound from vm3 and a 2nd deny all inbound rule.\nThen you need a subnet level NSG, which will allow internet traffic to vm1 and 2, using their ASG as the destination.","timestamp":"1608598500.0"},{"comment_id":"245052","content":"Required only 1NSG at Network Level\nRequire only 2 Rules: \nSource: AppGroup12, Destination: AppGroup4, Deny\nSource: Internet, Destination:AppGroup12, Allow\n\nBy default all VMs in VN can have Inbound and Bound traffic allowed within themselves, so no explicit rule is required to allow traffic from VM3 to VM4","poster":"SachuA","timestamp":"1608077640.0","upvote_count":"2"},{"upvote_count":"7","comment_id":"224689","timestamp":"1606003800.0","content":"Back on this question....it's clear for all of us that only one NSG is needed, just configured for the subnet. \nBut for the rules, let's check...\n✑ Allow traffic to VM4 from VM3 \"only\". (Only is the hint)\n\nBy default all traffic in the virtual networks is allowed, but you need to deny VM1 and VM2 traffic to VM4. To let only allow from VM3. So, here 1 rule to deny traffic from the AppGroup12\n \n✑ Allow traffic from the Internet to VM1 and VM2 only.\n\nBy default all the outbound traffic is allowed to Internet, but no inbound. For this, we need to add another rule to allow from internet to AppGroup12. \n\nJust 1 NSG with 2 rules should be the answer for this question.","poster":"kiketxu"},{"timestamp":"1605396480.0","comments":[{"content":"Once you attach the one nsg for all 4 VMs due to default rules virtualnetwork to virtualnetwork rule enables communication between all 4 VMs, but we should allow traffic to vm4 to vm3 only.","upvote_count":"3","poster":"deepu1982","timestamp":"1605847200.0","comment_id":"223280"},{"upvote_count":"1","poster":"Thi","comment_id":"279799","content":"exactly I agree with you....","timestamp":"1611991380.0"}],"poster":"awssecuritynewbie","content":"So i recreated this using :\n\n1vnet\n1subnet\n1 NSG that is attached to four network interfaces\ni created 1 rule for the incoming of internet traffic to vm1&2 that require it using application security group same as the question \"appgroup12\" and it all works. app security group must be on the same vnet which they are all in this question.. the traffic between Vnets is permitted by default.\n\n1nsg\n1rule","comment_id":"219412","upvote_count":"1"},{"timestamp":"1604145240.0","content":"we will need one NSG and three rule, the exact solution is available in the below link \nhttps://docs.microsoft.com/en-us/azure/virtual-network/application-security-groups","comments":[{"content":"Thank you :)","upvote_count":"1","timestamp":"1605201840.0","comment_id":"218050","poster":"shanan_ilen"}],"comment_id":"209896","upvote_count":"6","poster":"kati"},{"content":"Question stipulates: \n You are required to minimize NSG's and network rules. \n Then asked how many do you have to create to meet the requirements.\n\nCreate NSG 1: Apply to VM4 Nic. \n Create one inbound rule in it to: \"Allow only traffic from '10.0.0.100 (vm3) \". Implicit deny will deny everything else.\n\nCreate NSG 2: Apply in to the Subnet1: \n Create rule 1 inbound rule (priority 100) \"Allow 'Internet' Inbound to AppGroup12 (which contains VM1 & 2)\". \n Create rule 2 inbound:(priority 200) \" Deny inbound internet traffic to all others in the subnet\". \n NSG 2: rule 2 is required. Without that all VMs on subnet 1 can initiate connections to the internet.\nBecause of default outbound rule: AllowInternetOutbound. It is not necessary to create a reciprocal inbound rule for this. (See url below: https://docs.microsoft.com/en-us/azure/virtual-network/network-security-groups-overview\n\nBox1: You need to create 2 NSGs.\nBox 2: You need to create a 3 network security rules.","poster":"DeepMoon","comment_id":"209326","timestamp":"1604067360.0","upvote_count":"4"},{"poster":"fmlvaz","timestamp":"1603661160.0","upvote_count":"1","content":"My answer is One NSG and 3 rules, \n1- Traffic VM3 ->VM4 \n2 - Allow internet to the required Machine. \n3 - Implicit Deny \nWe can do that because \"Intra-Subnet traffic\nIt's important to note that security rules in an NSG associated to a subnet can affect connectivity between VM's within it. For example, if a rule is added to NSG1 which denies all inbound and outbound traffic, VM1 and VM2 will no longer be able to communicate with each other. Another rule would have to be added specifically to allow this.2","comment_id":"205878"},{"timestamp":"1602844680.0","poster":"jinxie","upvote_count":"1","comment_id":"201013","content":"From what I can see you can do it with 1 NSG on the subnet and with 2 rules.\ncreate an inbound deny rule to deny all traffic to vm4 except from vm3\nfinally the second ask is allow traffic from the internet to only vm1 and 2 so that is another inbound rule. By default internet traffic is denied on inbound so you need to create a 2nd rule to allow internet traffic inbound to the two servers. \nIn conclusion the bare minimum rules you need to create is 2 inbound rules on 1 NSG"},{"comments":[{"timestamp":"1602843900.0","poster":"jinxie","comment_id":"201006","upvote_count":"1","content":"Why would you create 2 NSG's when it can be done by 1. you only have 1 subnet, mixing subnet nsg's with NIC nsg's is asking for trouble in a practical environment."}],"timestamp":"1602085080.0","content":"NSG's: 3 Rules: \n 1st NSG is connected to the VM3 Nic to allow only VM4. (It contains only 1 rule: allow VM4)\n 2nd NSG is for the subnet. It contains 2 rules. \n 1st rule to allow traffic from the internet to VM1, \n 2nd rule to allow traffic from the internet to VM2\n \n NSG's come with default rules. One is the implicit deny rule. So we don't have to create that.\n \n We are asked \"How many NSGs and network security rules should you create?\" \n We have to create 2 NSGs. (1 for VM3 Nic, other for the subnet).\n We have to create a total of 3 rules.","comment_id":"195359","upvote_count":"1","poster":"DeepMoon"},{"upvote_count":"1","comment_id":"193303","content":"2 NSG, \n- one to subnet \n- one to interface\n2 Rules, \n- One Outbound Rule on subnet NSG, to deny source 10.0.0.100 (VM3) and 10.0.0.200 (VM4) and destination tag Internet \n(with apg you will need two rules since multiple groups are not supported).\nDefault Outbound 65001 allows Internet outbound (Allowing internet for VM 1 and 2)\n- One Inbound Rule on VM4 interface NSG to deny source 10.0.0.10 (VM1), 10.0.0.11 (VM2) to 10.0.0200 (VM4)\nDefault Inbound Rule 65000 allows traffic between networks. (Allowing VM4 to VM3)","poster":"theodosis","timestamp":"1601868540.0"},{"poster":"awssecuritynewbie","comment_id":"192987","timestamp":"1601824140.0","content":"So we need traffic to the internet for VM 1&2 IP 10.0.0.10-11 ( one apppgroup12) so there is one rule we need to create ...it does not require to be assigned as s rouce NIC1. it can be their IP address or app security group\n\nThen that is all the traffic between vm4 and allowed by the default rule which is \"AllowVNetInBound\" \nyou cannot even delete them ( tested it ) \n\nwe need 1 NSG and 1 rule.. \n\n\npay attention to the \"Destination Virtualnetwork\" this means anything in the SAME VIRTUALNETWORK ...","upvote_count":"1"},{"comment_id":"181024","upvote_count":"3","timestamp":"1600353300.0","poster":"joe30333","content":"minimum NSG is 1. The same NSG can be associated for both NIC and Subnet.\nRules minimum is 2."},{"content":"Correct answer is\n1) 1(Bcoz one subnet can have only one NSG)\n2) 3(three rules, two which are defined and one to deny all other inflow from other IPs)","comment_id":"180669","poster":"TauruSH","upvote_count":"1","timestamp":"1600315680.0"},{"upvote_count":"6","timestamp":"1599867600.0","comment_id":"177916","content":"Correct answer is 2-3\nTraffic within a subnet should be filtered by NSG at the nic level and not at the subnet level.\n1 NSG assosiated with nic on VM4\n1 Rule denying all (default traffic is open within virtual networks)\n1 Rule allow traffic from VM3 to VM4 with a lower priority than the deny rule\n\nTraffic from outside the subnet into the subnet should be filtered at the subnetlevel.\n1 NSG assosiated with the subnet\n1 Rule allowing traffic from internet to the application securitygroup containing VM1 and VM2 (default all traffic from Internet is Deny )","poster":"hstorm"},{"timestamp":"1599620160.0","poster":"GraceCyborg","content":"answer is 1,1.\n-vm3 and vm4 is allowed to talk to each by default in the same subnet\n-vm1 and vm2 is under the same ASG, you need 1 rule (allow internet service tag to that ASG)","comments":[{"comment_id":"183314","poster":"kiketxu","upvote_count":"1","content":"I thought like you, but to my view \"Allow traffic to VM4 from VM3 only\". \"Only\" is the key to need the the first rule. You need to deny traffic to only allow to VM3 as all the traffic between the virtualnetwork is allowed by default.\nFor the second rule, you need to allow from internet to ASG of VM1 and VM2. Please note, don't need to allow \"TO\" internet. \nTherefore 1 NSG and 2 rules. Thoughts?","timestamp":"1600640820.0"}],"upvote_count":"2","comment_id":"176237"},{"timestamp":"1597495200.0","comment_id":"158663","upvote_count":"1","content":"Ans 2 2,\n1 NSg for NIC with one rule,\n1 NSg for Subnet to all internet","poster":"examacc"},{"upvote_count":"5","timestamp":"1596981960.0","content":"I think that 1 NSG and 2 rules should be the correct answer...\n1 NSG at the subnet level with default rules.\n2 extra rules:\n1) Allow traffic to VM4 from VM3 only: default rule allows all internal subnet traffic, so we create a rule that denies traffic from VM1 and VM2 to VM4\n2) Allow traffic from internet to VM1 and VM2 only: we create a rule that allows internet traffic to AppGroup12","poster":"peluca","comment_id":"153724"},{"comment_id":"148749","timestamp":"1596317700.0","poster":"eug45","content":"correct answer 2 and 3\nHere we are going to implement 2 network security groups. One at the subnet layer for allowing traffic onto demovm1 and demovm2. And one for NIC4 to allow traffic from demovm3.\n\nHere we need to implement one rule at the subnet layer to allow traffic from the Internet onto demovm1 and demovm2. Next, we need to add one network security group rule for NIC4 to allow traffic from only NIC3 via their private IP address. And then we need to add one more rule to Deny all other traffic.","upvote_count":"2","comments":[{"content":"You don't need to add a rule to deny traffic as that rule is already implemented as a default rule. You need 2 rules. One to allow traffic to internet on the subnet NSG and one to allow traffic from vm3 to vm4 at NIC NSG on VM3. VM3 won't be allowed to go to internet due to default rule not allowing outbound traffic.","upvote_count":"3","comment_id":"172779","timestamp":"1599149460.0","poster":"Bluediamond","comments":[{"poster":"awssecuritynewbie","content":"one NSG and 2 rules i agree with you","upvote_count":"1","comment_id":"205619","timestamp":"1603631220.0"}]}]},{"timestamp":"1596207780.0","upvote_count":"1","comments":[{"upvote_count":"2","timestamp":"1596530940.0","comment_id":"150301","poster":"envy","content":"(update) 2 NSG 3 Rule"}],"poster":"envy","content":"2 NSG and 2 Rule, by default, all VMs have internet access\nNSG1 : on subnet and deny internet out going for multiple IPs (VM3 and VM4)\nNSG2: on VM4 and deny inbound from application group (VM1 and VM2)","comment_id":"148125"},{"comment_id":"143249","upvote_count":"2","poster":"SLG","timestamp":"1595669520.0","content":"As per me 1 NSG and 2 Network security rules (to ensure we have minimum number of NSG and Rules)\nNSG will be applied on Subnet\nNetwork Security Rule will be configured as below\nRule 1 - to allow traffic from Internet to VM1 and VM 2 using source as AppGroup12 (ASG)\nRule 2 - Security rule to Deny traffic from VM 1 and VM2 to VM4 (as to allow traffic to VM4 from VM3 only) using AppGroup12 (ASG for VM1 and VM2) in Source and AppGroup4 in Destination. (As default allow traffic within subnet VM4 will be allowed from VM3 using default rule."},{"upvote_count":"2","comment_id":"136674","content":"NSG -1 & NSG's rule - 3 (Apart of Default rules)","poster":"addy007","timestamp":"1594923180.0"},{"comments":[{"timestamp":"1594131420.0","poster":"gboyega","comments":[{"poster":"Freeze","content":"Gboyega you are correct but look at it this way, cant we put all the rules in a single nsg and attach at the subnet? inbound traffic meant for VM4 that is not from VM3 can be dropped at the subnet eliminating the need for another nsg, leaving us with 1NSG, 2 Rules, what do you think?","comment_id":"131981","upvote_count":"1","timestamp":"1594458840.0"}],"comment_id":"129027","content":"I think this is wrong.\nThe question says no prior NSG\n1. We create an NSG and attach it to the subnet (1)\n2. The question then states that only VM1 and 2 should allow internet traffica inbound\nwe create a security rule that states any source (*) inbound to our destination, which would be (ASG) for simplicity sake which our 2 VMs are a part of should only be allowed. all others would get denied\n3. It says only VM3 should be able to talk to VM4. \nNow we create another NSG and attach it to the NIC of VM4, and allow only Traffic from VM3, since we all know that traffic from subnets are allowed in the same VNET\nwhich would make it 2 NSGs 2 Security rules","upvote_count":"2"}],"comment_id":"127835","content":"Correct answer is:\n- 1 NSG\n- 1 Security Rule\nExplanation for the 1 NSG: By default a NSG allows communication of its resources in the same VNet.\nExplanation for the 1 Security rule: By default always exist 3 Security Rules in NSG. The first of all is the allow for communication inside the VNet, so here we have the first requirement. For the second one we have to create a rule (internet traffic). So the answer is that we have to create only 1 rule (the one that allows Internet traffic), the other 3 does not count! (you do not create them, they are by default).","upvote_count":"2","poster":"M4gnet1k","timestamp":"1594041060.0"},{"poster":"gboyega","content":"Judging from the picture\n1. We create our first NSG attached to the subnet first. (1NSG),create inbound rule to allow internet traffic to VM1 and VM2 using their already assigned ASGs \n2. We can create and add a new NSG to the NIC of VM4 to allow only traffic from VM3.\nWhich makes us have 2 NSG and 2 Network security Rule\n3. We then create another inbound rule to allow internet traffic to VM1 and VM2 then associate it to the AppGroup12 ASG.\n\nSO i think the ideal answer is 2NSGs 2 Network security rules","comment_id":"126659","upvote_count":"1","comments":[{"comment_id":"126660","content":"please ignore No3, i Forgot to delete that entry","poster":"gboyega","upvote_count":"1","timestamp":"1593930480.0"}],"timestamp":"1593930360.0"},{"upvote_count":"4","comment_id":"124110","timestamp":"1593594120.0","content":"Answer should be 1 and 1.\n1 NSG for the subnet (there is only one subnet in one VNet)\n1 Rule to allow Internet to Comms with AppGroup12 (VM1 and VM2)\nNo other rules are needed, because the default rules will allow the other VMs to talk to each other on the Subnet\\VNet.","comments":[{"content":"Sorry, I retract that. The statement is Allow traffic to VM4 from VM3 only.\nSo the answer should be 1 and 3 as per previous answers provided by others.","upvote_count":"3","comment_id":"124111","poster":"summut","timestamp":"1593594360.0"}],"poster":"summut"},{"timestamp":"1593461940.0","upvote_count":"4","content":"Box1 == 1\nBox2=3 \nPlease see below link...\nhttps://docs.microsoft.com/en-us/azure/virtual-network/application-security-groups","poster":"PA","comment_id":"123042"},{"timestamp":"1591986900.0","comment_id":"108916","poster":"David_986969","upvote_count":"5","content":"Correct Answer is:\n1) You can only assign 1 NSG to a subnet and you can create multiple rules in a NSG group, so you only need ONE Network Security Group\n2) By Default when you create a NSG the rule that says that VM´s in the same subnet is enable with two other rules. Now you have to allow internet to VM1 and VM2 since they are in the same Application Security Group, you generate only ONE NSG rule to fit this requierement.\nThe answer is One and One"},{"timestamp":"1591606500.0","content":"ignore my previous post.\n\ncorrect answer is 1 NSG with 3 Security Rules\nNSG1 for Subnet with \nrule1 - to allow traffic from internet to AppGroup12 (priority 1000)\nrule2 - to allow traffic from AppGroup3 to AppGroup4 (priority 1001)\nrule3 - to deny traffic from any to AppGroup4 (priority 1002)","poster":"lnn_az","upvote_count":"9","comment_id":"105124","comments":[{"poster":"Krakow","comments":[{"poster":"chaudh","timestamp":"1593595320.0","content":"default security rule allows all communication between resources in the same virtual network","comment_id":"124118","upvote_count":"1"}],"comment_id":"113971","content":"There is no need to create last rule as there are 3 rules ALWAYS by default and rule 65500 DenyAllInBound among them. Answer is 1 NSG and 2 rules.","upvote_count":"2","timestamp":"1592571660.0"}]},{"timestamp":"1591605480.0","comments":[{"comments":[{"content":"You are right - there is. Rule 65500 DenyAllInBound by default. Answer is 1 NSG and 2 rules.","poster":"Krakow","comment_id":"113973","upvote_count":"2","timestamp":"1592571780.0"}],"timestamp":"1592110320.0","poster":"Srini300","upvote_count":"2","content":"Why do we need rule 3 to deny? isn't there a default deny?","comment_id":"109870"},{"timestamp":"1605847380.0","comment_id":"223282","upvote_count":"1","content":"I agree with this answer.","poster":"deepu1982"}],"upvote_count":"6","poster":"lnn_az","comment_id":"105119","content":"Just tested this with my Azure Environment\n\nNSG1 for Subnet with rule1 - to allow traffic from internet to AppGroup12\nNSG2 for NIC4 with rule2 - to allow traffic from AppGroup3 to AppGroup4 (priority 1000) and rule3 - to deny traffic from any to AppGroup4 (priority 1001)\n\nTotal 2 NSG with 3 Security Rules."},{"upvote_count":"2","timestamp":"1590375960.0","comments":[{"poster":"ed7","timestamp":"1590950760.0","content":"Unless you have a specific reason to, we recommended that you associate a network security group to a subnet, or a network interface, but not both. Since rules in a network security group associated to a subnet can conflict with rules in a network security group associated to a network interface, you can have unexpected communication problems that require troubleshooting. from here https://docs.microsoft.com/en-us/azure/virtual-network/security-overview","comment_id":"99522","upvote_count":"1"},{"timestamp":"1592716560.0","poster":"az500_cho","upvote_count":"4","content":"https://docs.microsoft.com/en-us/azure/virtual-network/security-overview#intra-subnet-traffic\n\"It's important to note that security rules in an NSG associated to a subnet can affect connectivity between VM's within it. For example, if a rule is added to NSG1 which denies all inbound and outbound traffic, VM1 and VM2 will no longer be able to communicate with each other. Another rule would have to be added specifically to allow this.\"\n\nYou can also deny intra-subnet traffic in NSG (applied to Subnet level) .\nI wld go for 1 NSG on subnet, and 3 rules in the NSG.\n1st rule - deny all traffic (refer to the link above)\n2nd rule - allow Internet access to VM1 and VM2\n3rd rule - allow VM3 to VM4 traffic.","comment_id":"115235"}],"poster":"shaheer1991","comment_id":"95171","content":"I'd have to agree with the given solution for the following reasons\n1- NSG on subnet level will be activated from traffic going into the subnet or outside it.\n2- by default you have a deny rule for internet traffic\n3- by default you have an allow rule for internal connections\n\nafter stating the above 3 points, I believe.\n\n1- you need 1 NSG-1 for subnet to allow internet traffic to the ASG for VM1 & 2\n2- you need 1 NSG-2 on the NIC level of VM4, if I didn't do so and I added the rule to NSG-1 it will not apply correctly as VM3 will be within the same subnet of VM4, hence won't go through the NSG-1. That being said, NSG-2 would have a deny all rule & an allow rule for ASG3...\n\nwhich makes it 2 NSGs and 3 rules\nan NSG on subnet level with allow internet rule\nanother NSG on NIC4 level with 2 rules allowing ASG3 and denying the rest.\n----------------------------------------\nI have to say if it wasn't for point 1 above I'd have went with 1 NSG and 3 rules."},{"comment_id":"90983","content":"This question is based on the following link:\nhttps://docs.microsoft.com/en-us/azure/virtual-network/security-overview\n\n\"It's important to note that security rules in an NSG associated to a subnet can affect connectivity between VM's within it. For example, if a rule is added to NSG1 which denies all inbound and outbound traffic, VM1 and VM2 will no longer be able to communicate with each other. Another rule would have to be added specifically to allow this\"\n\none subnet level NSG (with two rules AppGroup3 as the source and AppGroup4 as destination ) is enough for controlling the connectivity between VM3 and VM4.\nThe same NSG can be used for allowing traffic to VM1 and VM2 (AppGroup12 as the Allow destination)\nSo the answer is 1-3","upvote_count":"4","timestamp":"1589775000.0","poster":"armin"},{"comment_id":"89174","content":"Oz is right, you can only assign 1 NSG to a subnet. \nhttps://feedback.azure.com/forums/217313-networking/suggestions/10093566-multiple-network-security-groups-per-subnet","timestamp":"1589493480.0","upvote_count":"1","poster":"Stone90"},{"comment_id":"89169","content":"Answer seems to be correct, you need w NSGs, one for the subnet and the other for the NIC.\nSubnet NSG needs to allow internet to appgroup including VM1 and VM2 as the only rule.\nNIC NSG needs two rules, one to allow vm to vm connection and the other to block anything else cause by default within vnet traffic is allowed.","upvote_count":"2","timestamp":"1589492520.0","poster":"Root_Access"},{"timestamp":"1589202420.0","poster":"Derek_O2018","content":"I believe that the answer should be 1 nsg and one rule; to allow inbound traffic from the internet to vm1 and vm2. Since vm3 and vm4 are located in the same vnet, they can communicate by default. I agree with AS007's reasoning.","upvote_count":"1","comment_id":"87127","comments":[{"timestamp":"1589496420.0","poster":"Derek_O2018","upvote_count":"1","content":"Correction:\nAn nsg is to be created and assigned to the subnet. The default rules allow traffic from other machines within the vnet and none from the internet. Another rule is to be added; one that will allow internet to ASG12 (this still restricts internet traffic to the other vms)-> this addresses Req1.\nAnother NSG is to be created and assigned to NIC4. Two rules need to be added, the first to restore the deny all traffic, and the second one to allow only traffic from ASG3 -> this addresses Req 2.\nThis yields two NSGs and 3 rules.","comment_id":"89191"}]},{"poster":"Solanki","comments":[{"upvote_count":"2","poster":"Solanki","timestamp":"1589060160.0","content":"and yes, we cann apply ASG to NSG as per provided link \"Any, or an individual IP address, classless inter-domain routing (CIDR) block (10.0.0.0/24, for example), service tag, or application security group\"","comment_id":"86244"},{"content":"In first case manual deny entry need to be added also else default vnet to vnet permit will allow all traffic within VMs. considering this i guess we need to add 1 more rule so total 3 rules and 2 nsgs imo.","comment_id":"87324","poster":"Solanki","upvote_count":"2","timestamp":"1589231700.0"}],"timestamp":"1589060040.0","upvote_count":"2","comment_id":"86243","content":"Since all VMs are in same subnet, we have to apply NSG at NIC level. NSG at subnet level will only work if traffic needs to go out from subnet.\n\nAlso, no need to worry about permits etc as we need to just cover 2 requirements mentioned.\n\n1) Allow traffic to VM4 from VM3 only (In this case we can apply 1 NSG at NIC4 and allow 1 rule permit VM3, default will be implicit deny)\n2) Allow traffic from the Internet to VM1 and VM2 only. (In this case we apply 1 NSG to both NICs NIC1 and NIC2 and add 1 rule Allow from internet to AppGroup12 which will cover both VMs).\nSo my answer would be 2*NSGs and 2*Rules"},{"upvote_count":"2","comment_id":"78787","content":"Since application group traffic is controlled independently from 'regular' network traffic, 1 NSG will work. If there was a condition that said 'you must not use ASGs for the traffic between VM3 and VM4' then you'd need another NSG on VM4's NIC.\nSo I'll also agree with: 1 NSG and 2 rules.","poster":"cybrtrk","timestamp":"1587666240.0"},{"timestamp":"1587582000.0","comment_id":"78041","upvote_count":"3","content":"Oz's correct because 1 NSG at the subnet with 3 rules will meet the requirements.","poster":"ExamUser"},{"poster":"AS007","content":"Correct Answer : \n1 - One NSG can be used. \n1 - all vm's in same vNET can talk to each other, so would need just one rule for internet.","upvote_count":"8","comments":[{"upvote_count":"1","timestamp":"1587440700.0","comment_id":"77272","poster":"AS007","content":"Clearly states one vNET in second line ;)"}],"timestamp":"1587440700.0","comment_id":"77271"},{"timestamp":"1587074940.0","upvote_count":"1","comment_id":"75483","poster":"Gorha","content":"One NSG and 3 rules:\nrule 1: VM4 to VM3 source AppGroup4 t oAppGroup3 allow\nrule 2: VM1 & VM3 source internet destination AppGroup12 allow\nrule 3: denyallinternet source internet destination Any effect Deny"},{"timestamp":"1587027840.0","poster":"LA1985","content":"displayed answer is correct :\ntwo NSG : NGS1 at network level, and NSG2 to apply to VM4\n\nNGS1 : deny 10.0.0.0/24 to 10.0.0.0/24 , and allow any to AppGourp12\nNSG2 : allow from AppGroup3 to AppGroup4","comment_id":"75232","upvote_count":"4"},{"content":"The answer was based on the reference here: \nhttps://docs.microsoft.com/en-us/azure/virtual-network/application-security-groups","comment_id":"69812","poster":"dle84","comments":[{"comment_id":"105083","timestamp":"1591599000.0","upvote_count":"2","poster":"lnn_az","content":"but the reference has 2 subnets. As per the question, we have only one Subnet"}],"timestamp":"1585652640.0","upvote_count":"4"},{"comment_id":"48486","comments":[{"comment_id":"56076","upvote_count":"3","poster":"azurearch","content":"Tip\n\nUnless you have a specific reason to, we recommended that you associate a network security group to a subnet, or a network interface, but not both. Since rules in a network security group associated to a subnet can conflict with rules in a network security group associated to a network interface, you can have unexpected communication problems that require troubleshooting.\n\nhence it should be only 1 nsg, having another nsg at NIC level would cause a conflict","timestamp":"1582818360.0","comments":[{"poster":"SteroidalRED","upvote_count":"1","timestamp":"1608025680.0","content":"Its not recommended to associate a single NSG to both a subnet and a network interface. You can have an NSG associated to a subnet and a separate NSG associated to a network interface within that subnet to further restrict access.","comment_id":"244449"}]}],"content":"I believe we'd have to create a nsg in the interface of vm4. The default woud be inound deny any any. then we'd need to create a rule to allow from vm3 inbound. So 1 nsg and 1 rule. Then to allow the other two to access the internet we'd need to create 1 nsg and 2 rules to allow outbound for the two vms. so 2 nsg's and 3 custom rules. I think this is right.","poster":"barchetta","timestamp":"1581284100.0","upvote_count":"3"},{"comment_id":"34614","poster":"yebo","timestamp":"1577985900.0","comments":[{"comment_id":"34618","upvote_count":"3","poster":"yebo","timestamp":"1577986200.0","content":"Small correction for the priority of rule 3):\n3) 100(priority) Internet (src) > AppGroup12 (dst) ALLOW"}],"upvote_count":"3","content":"why can't we have 1 NSG at the subnet level with 3 rules ??\n1) 65003 (priority) VirtualNetwork (src) > VirtualNetwork (dst) DENY (> override AllowVNetInBound ALLOW default rule)\n2) 65004 (priority) AppGroup4 (src) > AppGroup3 (dst) ALLOW \n2) 65501(priority) Internet (src) > AppGroup12 (dst) ALLOW (> override DenyAllInbound DENY default rule)"},{"poster":"Moh1818","comment_id":"32577","comments":[{"comment_id":"32578","content":"please ignore the previous post","poster":"Moh1818","timestamp":"1577274600.0","upvote_count":"4"}],"timestamp":"1577274420.0","upvote_count":"1","content":"Since all VMs are in one subnet ,then i believe we have to create 2 NSGs & assign to VM4 & VM2 NIC"},{"upvote_count":"4","timestamp":"1576606260.0","comment_id":"30420","content":"Box 1 is 2, one NSG for the subnet, 1 NSG at interface level\nBox 2 is 2, 1 deny for NSG at interface level, 1 permit with Application Group for NSG at subnet level","comments":[{"comment_id":"32944","comments":[{"content":"i mean permit multiple APplication Groups","timestamp":"1577434500.0","poster":"anonymous654","comment_id":"32945","upvote_count":"1"}],"poster":"anonymous654","timestamp":"1577434440.0","content":"While this direction is correct, how many NSGs can the permit allow? The answer says you cannot permit multiple NSGs with a single permit rule.","upvote_count":"1"}],"poster":"mat73"}],"answers_community":[],"question_images":["https://www.examtopics.com/assets/media/exam-media/04258/0027000001.png","https://www.examtopics.com/assets/media/exam-media/04258/0027100001.jpg"],"url":"https://www.examtopics.com/discussions/microsoft/view/9672-exam-az-500-topic-3-question-33-discussion/","exam_id":56,"answer":"","question_text":"HOTSPOT -\nYou have an Azure subscription named Sub1.\nYou create a virtual network that contains one subnet. On the subnet, you provision the virtual machines shown in the following table.\n//IMG//\n\nCurrently, you have not provisioned any network security groups (NSGs).\nYou need to implement network security to meet the following requirements:\n✑ Allow traffic to VM4 from VM3 only.\n✑ Allow traffic from the Internet to VM1 and VM2 only.\n✑ Minimize the number of NSGs and network security rules.\nHow many NSGs and network security rules should you create? To answer, select the appropriate options in the answer area.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//"},{"id":"aoD6A5Dr8UOMCKyEDCBM","timestamp":"2021-06-30 23:30:00","unix_timestamp":1625088600,"url":"https://www.examtopics.com/discussions/microsoft/view/56555-exam-az-500-topic-3-question-34-discussion/","exam_id":56,"isMC":false,"discussion":[{"timestamp":"1698066240.0","upvote_count":"21","content":"I think this is outdated. Because now you can use RBAC also to handle data plane.","comments":[{"comment_id":"1335896","poster":"JBAnalyst","upvote_count":"1","content":"principle of least privilege , RBAC will give more, access policy is granular","timestamp":"1735882140.0"}],"comment_id":"878381","poster":"BayaliJihad"},{"content":"Got this in the AZ-500 exam (Sept 2021)! A: RBAC, KV access policy","comment_id":"447206","poster":"francis6170","timestamp":"1647627300.0","upvote_count":"19"},{"poster":"joegie00698","content":"best practice would be to use RBAC for both management and data plane but depends on the age of the question...so better follow the current one","upvote_count":"3","timestamp":"1720630440.0","comment_id":"1118949"},{"upvote_count":"2","comment_id":"996803","timestamp":"1709382420.0","content":"User1: RBAC\nUser2: A key vault access policy","poster":"ESAJRR"},{"content":"on exam 7/8/23, I went with the provided answers. Who knows if answers are updated on the MS side.","timestamp":"1707413400.0","poster":"Self_Study","comment_id":"975812","upvote_count":"4"},{"comment_id":"828012","poster":"majstor86","upvote_count":"4","timestamp":"1693741320.0","content":"User1: RBAC\nUser2: A key vault access policy"},{"timestamp":"1692776160.0","upvote_count":"1","comment_id":"819026","content":"Answers are correct","poster":"ligu"},{"content":"RBAC can be used for key vault data plane operations such as certificate management now. Answer should be RBAC for both.\nhttps://learn.microsoft.com/en-us/azure/key-vault/general/security-features","upvote_count":"4","comments":[{"upvote_count":"1","timestamp":"1694757360.0","content":"Agree! Actually it is the recommended way (always RBAC over access policies if you can)","comment_id":"839646","poster":"ConanBarb"}],"poster":"RocksT","comment_id":"804409","timestamp":"1691670060.0"},{"comments":[{"comment_id":"792517","poster":"OrangeSG","upvote_count":"2","content":"Azure Key Vault access policies can have least privilege assigned for the requirement of “to add and delete certificates in the key vault”.\nPlease refer to Azure Key Vault access policies assignment UI:\nhttps://learn.microsoft.com/en-us/azure/key-vault/general/assign-access-policy?tabs=azure-portal","timestamp":"1690694880.0"}],"upvote_count":"2","content":"a source of confusion because I think the recommendation now is to use RBAC for all keyvault access, but I can't seem to find anything definitive","comment_id":"767163","timestamp":"1688597160.0","poster":"ltjones12"},{"content":"hang on, you can use either RBAC or vault access policy when creating the Key vault. But not both. \n\nSo if using RBAC, you can't use vault access policy again? right?\nref: https://learn.microsoft.com/en-us/azure/key-vault/general/rbac-guide?tabs=azure-cli#enable-azure-rbac-permissions-on-key-vault","timestamp":"1681689240.0","poster":"koreshio","comment_id":"696638","upvote_count":"5","comments":[{"comment_id":"792516","timestamp":"1690694760.0","poster":"OrangeSG","upvote_count":"1","content":"User1 is at management plane; user 2 is at data plane. So they can choose authentication method independantly."}]},{"timestamp":"1659872820.0","comment_id":"542424","poster":"snake_alejo","content":"answer is OK","upvote_count":"3"},{"upvote_count":"4","comment_id":"481587","poster":"jl92","timestamp":"1652950920.0","content":"# IN EXAM - 19/11/2021"},{"poster":"zioggs","upvote_count":"3","comment_id":"472574","timestamp":"1651664100.0","content":"Exam - 4/11/21"},{"poster":"itbrpl","upvote_count":"2","content":"Today 20/10/21...","timestamp":"1650446160.0","comment_id":"465053"},{"content":"#exam ques # 29 Sep","timestamp":"1648597260.0","upvote_count":"2","comment_id":"454562","poster":"Jco"},{"content":"In exam today: 27th Sep 2021","comment_id":"452585","timestamp":"1648397940.0","poster":"JaiSharma","upvote_count":"2"},{"upvote_count":"1","comment_id":"445283","poster":"Villar","content":"RBAC can also be used to grant data plane access by using a Key Vault access policy https://docs.microsoft.com/en-us/azure/key-vault/general/security-features#privileged-access","timestamp":"1647363900.0"},{"content":"The management plane is where you manage Key Vault itself and it is the interface used to create and delete vaults. You can also read key vault properties and manage access policies.\nThe data plane allows you to work with the data stored in a key vault. You can add, delete, and modify keys, secrets, and certificates.\nhttps://docs.microsoft.com/en-us/azure/key-vault/general/security-features#privileged-access","timestamp":"1645645860.0","poster":"OldJan","comment_id":"430226","upvote_count":"3"},{"comment_id":"423305","poster":"rsharma007","timestamp":"1644589800.0","content":"Key Vault has two planes so to speak. Control plane and management plane. control plane and data plane are both authenticated using Azure AD , but control plane authorization is using Azure RBAC where as management plane authorization is made through Key Vault access policies. It is in the control plane where you manage the key vault itself and data plane is used for key and crypto operations( create, import , update and delete keys, encrypt/decrypt, wrap/encrypt, verify hash)","upvote_count":"7"},{"comment_id":"408892","poster":"choskar90","timestamp":"1642512420.0","upvote_count":"1","content":"yeesss"},{"comment_id":"395232","poster":"Rume","content":"Answer is correct.","upvote_count":"2","timestamp":"1640993400.0"}],"answer_description":"User1: RBAC -\nRBAC is used as the Key Vault access control mechanism for the management plane. It would allow a user with the proper identity to:\n✑ set Key Vault access policies\n✑ create, read, update, and delete key vaults\n✑ set Key Vault tags\nNote: Role-based access control (RBAC) is a system that provides fine-grained access management of Azure resources. Using RBAC, you can segregate duties within your team and grant only the amount of access to users that they need to perform their jobs.\nUser2: A key vault access policy\nA key vault access policy is the access control mechanism to get access to the key vault data plane. Key Vault access policies grant permissions separately to keys, secrets, and certificates.\nReferences:\nhttps://docs.microsoft.com/en-us/azure/key-vault/key-vault-secure-your-key-vault","answer":"","answers_community":[],"topic":"3","question_id":213,"question_images":["https://www.examtopics.com/assets/media/exam-media/04258/0027300004.png"],"answer_images":["https://www.examtopics.com/assets/media/exam-media/04258/0027400001.png"],"answer_ET":"","question_text":"HOTSPOT -\nYou have an Azure key vault.\nYou need to delegate administrative access to the key vault to meet the following requirements:\n✑ Provide a user named User1 with the ability to set advanced access policies for the key vault.\n✑ Provide a user named User2 with the ability to add and delete certificates in the key vault.\n✑ Use the principle of least privilege.\nWhat should you use to assign access to each user? To answer, select the appropriate options in the answer area.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//"},{"id":"Y7CN1YgR0XfE6vIscBc6","timestamp":"2020-05-26 20:58:00","unix_timestamp":1590519480,"url":"https://www.examtopics.com/discussions/microsoft/view/21416-exam-az-500-topic-3-question-35-discussion/","exam_id":56,"isMC":true,"discussion":[{"content":"This question definitely will be in the exam! 4th time here","timestamp":"1656249180.0","poster":"besha","comment_id":"391264","upvote_count":"36","comments":[{"comment_id":"724579","poster":"Anonymousse","upvote_count":"2","content":":-)\n:-)","timestamp":"1700679540.0"}]},{"upvote_count":"21","content":"B, for sure.\nSame as Topic2 Q2.\nThe primary use case for the Azure Desired State Configuration (DSC) extension is to bootstrap a VM to the Azure Automation State Configuration (DSC) service","poster":"gfhbox0083","comment_id":"121171","timestamp":"1624792140.0"},{"poster":"ESAJRR","comment_id":"996804","upvote_count":"1","timestamp":"1725272880.0","content":"Selected Answer: B\nB. Azure Automation State Configuration"},{"timestamp":"1709473920.0","content":"Selected Answer: B\nB. Azure Automation State Configuration","comment_id":"828018","upvote_count":"2","poster":"majstor86"},{"comment_id":"715395","poster":"F117A_Stealth","upvote_count":"1","timestamp":"1699634580.0","content":"Selected Answer: B\nB. Azure Automation State Configuration"},{"upvote_count":"7","comment_id":"668894","content":"This is like the 8th time i'm seeing this question.","timestamp":"1694687760.0","poster":"Cloudkrew"},{"content":"Selected Answer: B\nB is correct answer.","timestamp":"1687632120.0","comment_id":"621826","upvote_count":"1","poster":"Alessandro365"},{"timestamp":"1679651100.0","upvote_count":"2","poster":"Eltooth","content":"Selected Answer: B\nB is correct answer.","comment_id":"574234"},{"upvote_count":"1","comment_id":"382298","content":"same question wtff","timestamp":"1655260380.0","poster":"kimalto452"},{"poster":"Rupain","content":"4th time repeating","upvote_count":"1","timestamp":"1654363560.0","comment_id":"374520"},{"content":"repeated question","comment_id":"366062","upvote_count":"1","poster":"cmong2005","timestamp":"1653448440.0"},{"content":"Correct","upvote_count":"4","timestamp":"1642518600.0","poster":"zic04","comment_id":"270374"},{"timestamp":"1622602200.0","content":"correct answer","poster":"kristiann21","comment_id":"100488","upvote_count":"5"},{"upvote_count":"4","content":"Correct","timestamp":"1622055480.0","poster":"ogbeufi1","comment_id":"96366"}],"answer_description":"","answer":"B","answers_community":["B (100%)"],"topic":"3","question_id":214,"question_images":[],"answer_images":[],"answer_ET":"B","choices":{"A":"device compliance policies in Microsoft Intune","B":"Azure Automation State Configuration","D":"Azure Advisor","C":"application security groups"},"question_text":"You have Azure Resource Manager templates that you use to deploy Azure virtual machines.\nYou need to disable unused Windows features automatically as instances of the virtual machines are provisioned.\nWhat should you use?"},{"id":"qGe7a7ZOEJRtX9qkGomT","url":"https://www.examtopics.com/discussions/microsoft/view/56556-exam-az-500-topic-3-question-36-discussion/","timestamp":"2021-06-30 23:36:00","discussion":[{"timestamp":"1664630640.0","comments":[{"upvote_count":"1","poster":"koreshio","comments":[{"poster":"flafernan","upvote_count":"1","content":"This is official from Microsoft?","comment_id":"1093694","timestamp":"1702313880.0"}],"timestamp":"1665964800.0","content":"yup ref: https://zigmax.net/defender-for-containers-can-now-scan-for-vulnerabilities-in-windows-images/","comment_id":"696641"},{"poster":"pekay","content":"your referenced article https://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-container-registries-introduction \nstill states that Windows images are unsupported. therefore the answer is right.","comment_id":"864238","timestamp":"1680902640.0","upvote_count":"6"}],"poster":"Oskarma","content":"Microsoft Defender for container registries has been deprecated. Now Microsoft Defender for Containers can check windows images too.\nhttps://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-container-registries-introduction\nhttps://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-containers-introduction","comment_id":"684230","upvote_count":"22"},{"timestamp":"1625088960.0","content":"given answer is correct","poster":"Rume","upvote_count":"9","comment_id":"395236"},{"comment_id":"1236523","comments":[{"poster":"xRiot007","content":"Who told you that ACR is deprecated ? There is no such mention anywhere in the related MS docs.","upvote_count":"1","comment_id":"1253545","timestamp":"1721725560.0"}],"poster":"Jimmy500","content":"Now we can scan Windows images as well this question is outdated also question talks about Azure Container Registery which is already deprecated and now we can scan both Windows and Linux images with Defender for containers.\nIn the old times answer was BE, now ABCDE.","upvote_count":"2","timestamp":"1719250980.0"},{"poster":"[Removed]","timestamp":"1703369280.0","upvote_count":"1","content":"Supported registries and images: Linux images in ACR registries accessible from the public internet with shell access\nACR registries protected with Azure Private Link\nUnsupported registries and images: Windows images\n'Private' registries (unless access is granted to Trusted Services)\nSuper-minimalist images such as Docker scratch images, or \"Distroless\" images that only contain an application and its runtime dependencies without a package manager, shell, or OS\nImages with Open Container Initiative (OCI) Image Format Specification\nhttps://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-container-registries-introduction","comment_id":"1104338"},{"content":"So there's an update to this. It seems that scanning windows images is now available in preview. On this site: https://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-containers-architecture?tabs=defender-for-container-arch-aks was a little note pointing here: https://learn.microsoft.com/en-us/azure/defender-for-cloud/support-matrix-defender-for-containers#registries-and-images-support-for-azure---vulnerability-assessment-powered-by-qualys \n\nThe referenced table clearly states that \" Windows images using Windows OS version 1709 and above (Preview). This is free while it's in preview, and will incur charges (based on the Defender for Containers plan) when it becomes generally available.\"","upvote_count":"1","timestamp":"1702730580.0","poster":"morito","comment_id":"1098166"},{"upvote_count":"1","comment_id":"1094436","poster":"Obama_boy","content":"Selected Answer: BE\nAzure Container Registry vulnerability scanning, when enabled, automatically scans images as they are pushed to the registry. However, it's important to note that Azure Security Center's container scanning typically supports Linux images and does not support Windows images. Given this, the images that will be scanned for vulnerabilities are:\n\nB. Image2 - This is a Linux image which will be scanned upon push to the registry.\n\nE. Image5 - This is also a Linux image (modified from Image2) and will be scanned when it's pushed to the registry.\n\nThe Windows images (Image1, Image3, and Image4) will not be scanned by Azure Security Center's container scanning feature, as it does not support Windows images. Therefore, correct answers are Image2 and Image5.","timestamp":"1702381260.0"},{"timestamp":"1701950040.0","comment_id":"1090251","upvote_count":"1","content":"Selected Answer: AE\nchatgpt says AE","poster":"Obama_boy"},{"upvote_count":"1","content":"Selected Answer: AE\nWhen you enable vulnerability scanning in an Azure Container Registry (ACR), Azure Security Center automatically scans images that are streamed into the registry. This includes scanning the image layers for vulnerabilities.\n\nBased on the actions described:\n\nImage push Windows Image1: Will be checked.\nLinux Image2 image push: Will be checked.\nWindows Image3 image push: Will be checked.\nModify Image1 and push the new image as Image4: A new image (Image4) will be checked.\nModify Image2 and push the new image as Image5: A new image (Image5) will be checked.\nTherefore, all images i.e. Image1, Image2, Image3, Image4 and Image5 will be scanned for vulnerabilities. The correct answers are:\n\nA. Image4\n\nE. Image5","comment_id":"1070711","poster":"flafernan","timestamp":"1699984620.0"},{"poster":"TheProfessor","upvote_count":"1","content":"Windows images using Windows OS version 1709 and above (Preview) are also supported.\n\nhttps://learn.microsoft.com/en-us/azure/defender-for-cloud/support-matrix-defender-for-containers","comment_id":"1061896","timestamp":"1699072620.0"},{"upvote_count":"1","timestamp":"1695858060.0","poster":"ESAJRR","content":"Selected Answer: BE\nB. Image2\nE. Image5","comment_id":"1019277"},{"timestamp":"1693287660.0","content":"Selected Answer: AE\nLetter A and E.\n\nImages that were pushed initially (Image1, Image2, Image3) will not be scanned for vulnerabilities retroactively since the scanning process is typically triggered when images are pushed or updated.","comment_id":"992811","poster":"alfaAzure","upvote_count":"2"},{"poster":"majstor86","content":"Selected Answer: BE\nB. Image2\nE. Image5\nIt was reserved for Linux machines only. Nowadays Windows is supported as well. So question is outdated","timestamp":"1677870780.0","upvote_count":"4","comment_id":"828283"},{"poster":"danlo","upvote_count":"3","content":"Question is old see new details: https://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-containers-vulnerability-assessment-azure","timestamp":"1671757680.0","comment_id":"753784"},{"timestamp":"1649932320.0","comment_id":"585708","poster":"WMG","upvote_count":"5","content":"You can now scan Windows images (preview)."},{"poster":"SecurityAnalyst","upvote_count":"8","comment_id":"436651","timestamp":"1630441680.0","content":"# IN EXAM - 31/8/2021"},{"upvote_count":"2","timestamp":"1629741600.0","poster":"OldJan","content":"Supported registries and images: Linux images in ACR registries accessible from the public internet with shell access.\nhttps://docs.microsoft.com/en-us/azure/security-center/defender-for-container-registries-introduction#availability","comment_id":"430233"},{"upvote_count":"5","timestamp":"1628110920.0","comment_id":"419927","poster":"Sandomj55","content":"In Exam 8/4/2021"}],"isMC":true,"answers_community":["BE (60%)","AE (40%)"],"question_id":215,"unix_timestamp":1625088960,"answer":"BE","topic":"3","exam_id":56,"answer_description":"","answer_images":[],"answer_ET":"BE","choices":{"B":"Image2","C":"Image1","D":"Image3","A":"Image4","E":"Image5"},"question_text":"You have an Azure Container Registry named Registry1.\nFrom Azure Security Center, you enable Azure Container Registry vulnerability scanning of the images in Registry1.\nYou perform the following actions:\n✑ Push a Windows image named Image1 to Registry1.\n✑ Push a Linux image named Image2 to Registry1.\n✑ Push a Windows image named Image3 to Registry1.\n✑ Modify Image1 and push the new image as Image4 to Registry1.\nModify Image2 and push the new image as Image5 to Registry1.\n//IMG//\n\nWhich two images will be scanned for vulnerabilities? Each correct answer presents a complete solution.\nNOTE: Each correct selection is worth one point.","question_images":["https://www.examtopics.com/assets/media/exam-media/04258/0027500005.png"]}],"exam":{"isMCOnly":false,"numberOfQuestions":505,"isBeta":false,"id":56,"isImplemented":true,"provider":"Microsoft","lastUpdated":"12 Apr 2025","name":"AZ-500"},"currentPage":43},"__N_SSP":true}