{"pageProps":{"questions":[{"id":"dXIEAuPfUhZV41EAbgNV","question_text":"An organization deploys Azure Cosmos DB.\nYou need to ensure that the index is updated as items are created, updated, or deleted.\nWhat should you do?","exam_id":48,"question_images":[],"timestamp":"2022-09-02 15:29:00","answer":"D","answer_ET":"D","question_id":181,"answers_community":["D (100%)"],"url":"https://www.examtopics.com/discussions/microsoft/view/79429-exam-az-204-topic-3-question-27-discussion/","answer_description":"","choices":{"D":"Set the indexing mode to Consistent.","B":"Set the value of the automatic property of the indexing policy to False.","C":"Set the value of the EnableScanInQuery option to True.","A":"Set the indexing mode to Lazy."},"isMC":true,"discussion":[{"timestamp":"1693661340.0","content":"Correct !!!","comment_id":"657471","upvote_count":"14","poster":"finnishr"},{"content":"Answer: D (consistent)\nSetting indexing mode to consistent ensures that index is updated in sync with data\n\nSetting it to lazy means index is updated async, meaning you may not get latest version of data\n\nSetting the value of the automatic property to false means you have to manually manage indexing of data\n\nSetting EnableScanInQuery to true allows query operations to perform scans across all documents, this is not really relevant + it provides poor performance","upvote_count":"7","poster":"kayvg","timestamp":"1723629000.0","comment_id":"980661"},{"timestamp":"1720720380.0","comment_id":"949221","content":"Selected Answer: D\nSetting the indexing mode to Consistent ensures that the index is always kept up to date with the changes made to the items in Azure Cosmos DB. With this mode, whenever an item is created, updated, or deleted, the index is automatically updated in real-time to reflect those changes.","poster":"lyggwtwtczxnhznebw","upvote_count":"1"},{"timestamp":"1710268440.0","content":"Selected Answer: D\nD indexing mode ensures that the index is always up-to-date with the data stored in the container and changes are immediately reflected in the index.","comment_id":"837291","upvote_count":"1","poster":"[Removed]"},{"timestamp":"1705731480.0","poster":"Esward","comment_id":"781921","content":"Given answer is correct.\n\nConsistent: The index is updated synchronously as you create, update or delete items. This means that the consistency of your read queries will be the consistency configured for the account.\nNone: Indexing is disabled on the container. This mode is commonly used when a container is used as a pure key-value store without the need for secondary indexes. It can also be used to improve the performance of bulk operations. After the bulk operations are complete, the index mode can be set to Consistent and then monitored using the IndexTransformationProgress until complete.","upvote_count":"4"},{"timestamp":"1701444240.0","comment_id":"732765","poster":"OPT_001122","content":"Selected Answer: D\nD. Set the indexing mode to Consistent.","upvote_count":"3"}],"topic":"3","answer_images":[],"unix_timestamp":1662125340},{"id":"nWnaqw6HTspifpE4Wj6k","topic":"3","unix_timestamp":1662059040,"isMC":true,"answer_ET":"AC","question_images":[],"discussion":[{"upvote_count":"20","timestamp":"1665341880.0","poster":"coffecold","comments":[{"timestamp":"1671726360.0","content":"From the documentation you provided:\nWithin the ConnectionPolicy, set UseMultipleWriteLocations to true and pass the name of the region where the application is deployed to ApplicationRegion. This will populate the PreferredLocations property based on the geo-proximity from location passed in. If a new region is later added to the account, the application does not have to be updated or redeployed, it will automatically detect the closer region and will auto-home on to it should a regional event occur.\n\nI take that paragraph to mean that it automatically updates the PreferredLocations property, when you set the UseMultipleWriteLocations property with true and pass the region name.\n\nThat means you actually only need to update UseMultipleWriteLocations, thus C.\n\nAnd as you mentioned, apply the Conflict resolution policies (D).","upvote_count":"4","comments":[{"timestamp":"1677397560.0","poster":"warchoon","comment_id":"822139","upvote_count":"2","content":"It's a trick. \"you must make two changes in your application to the ConnectionPolicy\" \"pass the name of the region where the application is deployed to ApplicationRegion. This will populate the PreferredLocations property\". I think this is an \"update\"\nhttps://learn.microsoft.com/en-us/azure/cosmos-db/nosql/how-to-multi-master?tabs=api-async#:~:text=you%20must%20make%20two%20changes%20in%20your%20application%20to%20the%20ConnectionPolicy"}],"comment_id":"753477","poster":"dgcc97"}],"content":"The goal is \n\n\"You need to update the application to support multi-region writes\", \n\nthat is enable multi-region writes (bool, option C) and add the regions (option A)\nThen you have to apply the Conflict resolution policies.This can be LLW(default, not mentioned) or custom (option D). \n\nHence : there is only ONE way to to support multi-region writes (both apply C AND A) and there are subsequently TWO ways to apply the Conflict resolution policies (@ SQL) to solve write, update and delete conflicts of which one is mentioned in the question (D). \nTo support multi-region writes I would answer A and C , but they have to be set both, not one or the other.\nSee https://learn.microsoft.com/en-us/azure/cosmos-db/sql/how-to-multi-master?tabs=api-async and https://learn.microsoft.com/en-us/azure/cosmos-db/conflict-resolution-policies","comment_id":"690477"},{"upvote_count":"13","comment_id":"808465","timestamp":"1676385120.0","poster":"baroo1","content":"Selected Answer: AC\nA + C = \nClearly stated in documentation that both are required: https://learn.microsoft.com/en-us/azure/cosmos-db/nosql/how-to-multi-master?tabs=api-async.\nAnd according to the question \"Each correct answer presents part of the solution\". \"Part\"\n\nNot D -> \"Custom conflict resolution policy is available only for API for NoSQL accounts and can be set only at creation time.\" The question states the account was already created.\nSource: https://learn.microsoft.com/en-us/azure/cosmos-db/conflict-resolution-policies"},{"timestamp":"1722887760.0","upvote_count":"1","poster":"8ac3742","comment_id":"1261185","content":"D is not answer, Conflict resolution policy can only be specified at container creation time and cannot be modified after container creation, however the question mentions that \"You need to update the application to support multi-region writes.\", so we suppose that the containter has been created before we update ConnectionPolicy, so D is not applicable.\nThe answer is C+A, set UseMultipleWriteLocation and PreferredLocation."},{"content":"Selected Answer: CD\nC. Setting the UseMultipleWriteLocations property to true allows the Cosmos DB SDK to automatically route write operations to the closest available write region, improving write latency. This is a key configuration for enabling multi-region writes.\nD - is relevant in scenarios where conflict resolution needs customization,","comment_id":"1106480","upvote_count":"1","poster":"singhdamodar3","timestamp":"1703638140.0"},{"poster":"applepie","comment_id":"967153","upvote_count":"1","timestamp":"1690723500.0","content":"got this question today, answer A,C - 7/30/2023, score 895/1000"},{"poster":"JH81","timestamp":"1688042400.0","upvote_count":"2","content":"Selected Answer: AC\nGot this on 6/28/2023 and passed with 850. Went with A, C.","comment_id":"938096"},{"timestamp":"1684811580.0","content":"Selected Answer: AC\nA&C to support multi-region writes","comment_id":"904514","poster":"deathRac3","upvote_count":"2"},{"poster":"nekkilodeon","upvote_count":"2","content":"Selected Answer: AC\nA & C\nhttps://learn.microsoft.com/en-us/azure/cosmos-db/sql/how-to-multi-master?tabs=api-async","timestamp":"1682167620.0","comment_id":"877268"},{"poster":"adilkhan","comment_id":"868840","timestamp":"1681336620.0","content":"A,C chat gpt","upvote_count":"2"},{"poster":"vikas4239","comment_id":"809234","timestamp":"1676445420.0","upvote_count":"1","content":"A&C\n\n\nConnectionPolicy, set UseMultipleWriteLocations to true and pass the name of the region where the application is deployed to ApplicationRegion. This will populate the PreferredLocations property based on the geo-proximity from location passed in\n\nhttps://learn.microsoft.com/en-us/azure/cosmos-db/nosql/how-to-multi-master?tabs=api-async"},{"content":"Answer should be CD\nThe questions mentions .NET web application and if you check below link you can see for .net the option C goes \nAnd for multi write scenarios conflict might arise and hence option D\nhttps://learn.microsoft.com/en-us/azure/cosmos-db/nosql/how-to-multi-master?tabs=api-async","timestamp":"1675675800.0","comment_id":"799562","upvote_count":"2","poster":"AkhiRk"},{"poster":"Esward","upvote_count":"1","content":"AC are the correct answers as per microsoft docs\nhttps://learn.microsoft.com/en-us/azure/cosmos-db/nosql/how-to-multi-master?tabs=api-async","comment_id":"781933","timestamp":"1674196920.0"},{"upvote_count":"4","comment_id":"769918","content":"Selected Answer: AC\nOption C: Update the ConnectionPolicy class for the Cosmos client and set the UseMultipleWriteLocations property to true. This will enable the application to use multiple write regions when storing data in Azure Cosmos DB.\nOption A: Update the ConnectionPolicy class for the Cosmos client and populate the PreferredLocations property based on the geo-proximity of the application. This will allow the application to use the closest write region to the application's location, improving performance and reducing latency.\nOther options, such as updating the consistency level or creating a custom conflict resolution policy, are not directly related to enabling multi-region writes and are not necessary for this goal.","poster":"imanonion","timestamp":"1673223180.0"},{"content":"Selected Answer: AC\nAs stated by others","comment_id":"761906","poster":"rotimislaw","timestamp":"1672404060.0","upvote_count":"2"},{"timestamp":"1671785400.0","poster":"Siepie","comment_id":"754053","upvote_count":"4","comments":[{"content":"Sorry SetCurrentLocation is only the region in which the application is being deployed and where Azure Cosmos DB is replicated. But the ConnectionPolicy class does also have a property PreferredLocations: Gets and sets the preferred locations (regions) for geo-replicated database accounts in the Azure Cosmos DB service. For example, \"East US\" as the preferred location.","timestamp":"1671785700.0","poster":"Siepie","comment_id":"754060","upvote_count":"1"}],"content":"Correct answers should be A and C\n\nConnectionPolicy policy = new ConnectionPolicy\n {\n ConnectionMode = ConnectionMode.Direct,\n ConnectionProtocol = Protocol.Tcp,\n UseMultipleWriteLocations = true ----> C\n };\npolicy.SetCurrentLocation(\"West US 2\"); -----> A"},{"comment_id":"685927","timestamp":"1664858520.0","content":"C and D are the correct answers?","poster":"OPT_001122","upvote_count":"1","comments":[{"timestamp":"1671894360.0","content":"IMO C and D","poster":"POOOJAAAAAAAAAA","comment_id":"754952","upvote_count":"1"}]},{"comment_id":"683269","upvote_count":"2","poster":"[Removed]","content":"The documentation says: \" To enable multi-region writes in your application, set ApplicationRegion to the region in which the application is being deployed and where Cosmos DB is replicated\"\nNow the option to use that property is in .Net SDK V2. Microsoft says I do not need to know .Net for this exam and they ask questions from V2? So, I should try this in both v2 and v3 to be able to pass this exam.","timestamp":"1664518800.0"},{"comment_id":"657470","content":"Correct!!!","poster":"finnishr","timestamp":"1662125340.0","upvote_count":"1"},{"comments":[{"timestamp":"1699005960.0","poster":"Jarynpl","comment_id":"1061267","upvote_count":"1","content":"Question says: You need to update the application to support multi-region writes. \nUpdate the application for me means to change a code, not Cosmos DB configuration. \"Update Azure Cosmos DB\" is more configuration (B, E)."}],"comment_id":"656588","content":"Selected Answer: CD\nDiscarded questions:\n\n B. Update Azure Cosmos DB to use the Strong consistency level. Add indexed properties to the container to indicate region. --> MAKES NO SENSE\n E. Update Azure Cosmos DB to use the Session consistency level. Send the SessionToken property value from the FeedResponse object of the write action to the end-user by using a cookie. --> MAKES NO SENSE","upvote_count":"4","poster":"Dani_ac7","timestamp":"1662059040.0"}],"choices":{"A":"Update the ConnectionPolicy class for the Cosmos client and populate the PreferredLocations property based on the geo-proximity of the application.","C":"Update the ConnectionPolicy class for the Cosmos client and set the UseMultipleWriteLocations property to true.","D":"Create and deploy a custom conflict resolution policy.","E":"Update Azure Cosmos DB to use the Session consistency level. Send the SessionToken property value from the FeedResponse object of the write action to the end-user by using a cookie.","B":"Update Azure Cosmos DB to use the Strong consistency level. Add indexed properties to the container to indicate region."},"timestamp":"2022-09-01 21:04:00","url":"https://www.examtopics.com/discussions/microsoft/view/79154-exam-az-204-topic-3-question-28-discussion/","question_id":182,"answers_community":["AC (83%)","CD (17%)"],"answer_images":[],"exam_id":48,"answer":"AC","answer_description":"","question_text":"You are developing a .Net web application that stores data in Azure Cosmos DB. The application must use the Core API and allow millions of reads and writes.\nThe Azure Cosmos DB account has been created with multiple write regions enabled. The application has been deployed to the East US2 and Central US regions.\nYou need to update the application to support multi-region writes.\nWhat are two possible ways to achieve this goal? Each correct answer presents part of the solution.\nNOTE: Each correct selection is worth one point."},{"id":"5mnVKSqc96CPo3S0JP18","discussion":[{"comment_id":"657295","timestamp":"1662114540.0","content":"right\nAzure Blob Index tags: https://docs.microsoft.com/en-us/azure/storage/blobs/storage-blob-index-how-to?tabs=azure-portal\nAzure Cognitive Search: Search inside documents","upvote_count":"21","poster":"jeanfmc"},{"upvote_count":"8","content":"Did my exam on 15th November 2022. This question was on it.","timestamp":"1668520140.0","comment_id":"718778","poster":"TheExamMaster2020"},{"content":"1. Search and filter by customer identifier:\nSolution: Azure Blob index tags\nReason: Azure Blob index tags allow you to tag blobs with metadata such as a customer identifier. These tags make it easy to search and filter blobs based on specific attributes without the need to load or examine the entire content of the blob. This solution is efficient for filtering blobs by customer identifier.\n\n2. Search information inside documents:\nSolution: Azure Cognitive Search\nReason: Azure Cognitive Search is the appropriate solution for searching within the content of documents. It allows you to index the content of blobs stored in Azure Blob Storage, including PDFs, CSVs, Microsoft Office formats, and more. Cognitive Search extracts text and metadata from the documents, enabling advanced search functionality.","upvote_count":"1","poster":"ns4098","comment_id":"1287819","timestamp":"1727019720.0"},{"comment_id":"1203413","poster":"neelkanths","upvote_count":"2","content":"Got it on 20 April 2024...Marks > 900...All questions from examtopics 400 questions...\nanswer is correct...","timestamp":"1714287240.0"},{"poster":"raymond_abcd","timestamp":"1705998840.0","comment_id":"1129317","content":"Answer is correct but keep in mind that Azure Cognitive Search is renamed to Azure AI Search. See: https://learn.microsoft.com/en-us/azure/search/search-what-is-azure-search","upvote_count":"4"},{"upvote_count":"7","comments":[{"timestamp":"1699600920.0","comments":[{"poster":"Ciupaz","content":"Yes, now is present in ExamTopics.","comment_id":"1127261","upvote_count":"2","timestamp":"1705754280.0"}],"poster":"dddddd111","upvote_count":"6","comment_id":"1067011","content":"Farmers and Distributors is that a new case study?"}],"content":"On exam 9 Nov 2023, went with given answer, socre 865. Case Study: Farmers and Distributors","timestamp":"1699511700.0","comment_id":"1066164","poster":"Vukile"},{"content":"As per Goodle Bard this is correct ans.\nAzure Blob index tags\nAzure Cognitive Search","timestamp":"1696173060.0","poster":"RikinPatel","comment_id":"1022400","upvote_count":"1"},{"comment_id":"950536","poster":"[Removed]","timestamp":"1689242940.0","upvote_count":"2","content":"1. metadata\n2. cognitive search"},{"poster":"MysticalSam","content":"This question was in today's exam on 10-June-2023","comment_id":"919880","upvote_count":"3","timestamp":"1686382980.0"},{"poster":"Videira","timestamp":"1677618480.0","comment_id":"825291","upvote_count":"3","content":"On my exam 2023-02-25"},{"comment_id":"824797","poster":"trini99","timestamp":"1677588360.0","upvote_count":"2","content":"This question was on the 24/02/2023"},{"timestamp":"1676669040.0","poster":"tmuras","upvote_count":"3","comment_id":"812393","content":"This question was on exam on 17/02/23."},{"timestamp":"1674197700.0","content":"Given answers are correct \nAzure blob index tags\nCognitive serach\nhttps://learn.microsoft.com/en-us/azure/search/search-blob-storage-integration","comment_id":"781947","upvote_count":"4","poster":"Esward"},{"poster":"ks1586","timestamp":"1671811260.0","upvote_count":"3","comment_id":"754346","content":"Did my exam on 17th December 2022. This question was on it.","comments":[{"timestamp":"1671981480.0","comments":[{"content":"Also follow some course on Udemy (or Pluralsight), just to see actions, and read all the discussions here on ExamTopics. Then, if you have time/energy, study Microsoft docs.","comment_id":"1020559","poster":"Ciupaz","timestamp":"1695970920.0","upvote_count":"2"},{"content":"No - you need a lot of other resources in order to get a better chance. The Microsoft exams are no joke.","timestamp":"1672492500.0","upvote_count":"4","poster":"HellBaby","comment_id":"762656"}],"comment_id":"755767","poster":"uditrm12","upvote_count":"2","content":"examtopic questions are enough to pass ?"}]},{"comment_id":"740980","poster":"OPT_001122","upvote_count":"2","content":"1. index tag\n2. cognitive search","timestamp":"1670676840.0"}],"answers_community":[],"answer_images":["https://www.examtopics.com/assets/media/exam-media/04273/0026400001.png"],"question_id":183,"question_text":"HOTSPOT -\nYou are developing a solution to store documents in Azure Blob storage. Customers upload documents to multiple containers. Documents consist of PDF, CSV,\nMicrosoft Office format and plain text files.\nThe solution must process millions of documents across hundreds of containers. The solution must meet the following requirements:\n✑ Documents must be categorized by a customer identifier as they are uploaded to the storage account.\n✑ Allow filtering by the customer identifier.\n✑ Allow searching of information contained within a document\n✑ Minimize costs.\nYou create and configure a standard general-purpose v2 storage account to support the solution.\nYou need to implement the solution.\nWhat should you implement? To answer, select the appropriate options in the answer area.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","answer_description":"Box 1: Azure Blob index tags -\nAs datasets get larger, finding a specific object in a sea of data can be difficult. Blob index tags provide data management and discovery capabilities by using key- value index tag attributes. You can categorize and find objects within a single container or across all containers in your storage account. As data requirements change, objects can be dynamically categorized by updating their index tags. Objects can remain in-place with their current container organization.\n\nBox 2: Azure Cognitive Search -\nOnly index tags are automatically indexed and made searchable by the native Blob Storage service. Metadata can't be natively indexed or searched. You must use a separate service such as Azure Search.\nAzure Cognitive Search is the only cloud search service with built-in AI capabilities that enrich all types of information to help you identify and explore relevant content at scale. Use cognitive skills for vision, language, and speech, or use custom machine learning models to uncover insights from all types of content.\nReference:\nhttps://docs.microsoft.com/en-us/azure/storage/blobs/storage-manage-find-blobs https://azure.microsoft.com/en-us/services/search/","unix_timestamp":1662114540,"answer_ET":"","question_images":["https://www.examtopics.com/assets/media/exam-media/04273/0026300001.png"],"topic":"3","timestamp":"2022-09-02 12:29:00","answer":"","isMC":false,"url":"https://www.examtopics.com/discussions/microsoft/view/79375-exam-az-204-topic-3-question-29-discussion/","exam_id":48},{"id":"NupYQSBAPFWainyPpt5E","question_text":"HOTSPOT -\nYou are developing a ticket reservation system for an airline.\nThe storage solution for the application must meet the following requirements:\n✑ Ensure at least 99.99% availability and provide low latency.\n✑ Accept reservations even when localized network outages or other unforeseen failures occur.\n✑ Process reservations in the exact sequence as reservations are submitted to minimize overbooking or selling the same seat to multiple travelers.\n✑ Allow simultaneous and out-of-order reservations with a maximum five-second tolerance window.\nYou provision a resource group named airlineResourceGroup in the Azure South-Central US region.\nYou need to provision a SQL API Cosmos DB account to support the app.\nHow should you complete the Azure CLI commands? To answer, select the appropriate options in the answer area.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","answer_images":["https://www.examtopics.com/assets/media/exam-media/04273/0021100001.jpg"],"question_id":184,"timestamp":"2020-11-09 09:24:00","answer_ET":"","discussion":[{"upvote_count":"73","comment_id":"228571","content":"Answer is correct.","poster":"sasisang","timestamp":"1606425000.0","comments":[{"content":"Last option is correct as well\nhttps://stackoverflow.com/questions/51197375/creating-cosmosdb-with-azure-cli-in-powershell","poster":"cbn","timestamp":"1613267040.0","comments":[{"timestamp":"1613267160.0","comment_id":"289907","content":"I guess there is a typo on quotes though.","upvote_count":"5","poster":"cbn"}],"upvote_count":"7","comment_id":"289906"}]},{"timestamp":"1627985400.0","comment_id":"419170","upvote_count":"65","poster":"ning","content":"No need to overthink here, max-interval, indicates this must be bounded-slateness, enable-automatic-failover, indicated this must be multi-region","comments":[{"comment_id":"740127","timestamp":"1670591580.0","poster":"OPT_001122","upvote_count":"2","content":"this is best explanation"}]},{"poster":"examtopics44556677","content":"Confused how most of the people here scored same score - 927.\nI see 927 everywhere.","timestamp":"1710332400.0","comment_id":"1172535","comments":[{"upvote_count":"2","timestamp":"1723525680.0","comment_id":"1264995","content":"Bots, buddy. They're bots.","poster":"0cc50bf"}],"upvote_count":"4"},{"upvote_count":"3","timestamp":"1692270600.0","poster":"jakobste","comment_id":"983539","content":"It's important to carefully read the entire question."},{"upvote_count":"1","poster":"Dianahu","timestamp":"1690272300.0","comment_id":"962492","content":"I think that enable-automatic-failover = true option does not make any sense without other regions specified but given syntax for regions and priorities is wrong and does not work"},{"timestamp":"1681774080.0","content":"I think ans should be using chat gpt:\n1. Eventual : maintain high availability and low latency\n2. enable-automatic-failover = true\n3. locations \"South Central US\"=0 : This is primary region","comments":[{"timestamp":"1688291220.0","poster":"IvanIco","content":"Eventual is definitely not correct","upvote_count":"10","comment_id":"940724"}],"comment_id":"873165","poster":"Dats1987","upvote_count":"2"},{"poster":"AzSimuz","content":"BoundedStaleness doesn't guarantee the order of the order, that's session consistency. Where am I wrong?","upvote_count":"2","comment_id":"832687","timestamp":"1678263720.0"},{"comment_id":"807408","content":"It was there in 13 Feb 2023 exam","upvote_count":"5","timestamp":"1676293200.0","poster":"Esward"},{"upvote_count":"2","content":"got this on 2022-12-7","comment_id":"738093","poster":"mdg3501","timestamp":"1670429160.0"},{"poster":"leandrocantiero","timestamp":"1647452580.0","upvote_count":"4","comment_id":"569223","content":"esse aqui ta tudo errado"},{"poster":"glam","content":"correct","timestamp":"1620973200.0","comment_id":"356948","upvote_count":"2"},{"comments":[{"content":"Ad. 2 - it is not true that it implies writes to multiple regions. In this case there is single write region with automatic failover configured (which provides write availability). Besides with write to multiple regions BoundedStaleness minimum time is 300 seconds, while requirement is 5 seconds (which is actually a minimum for BoundedStaleness with single write region)","comment_id":"359808","upvote_count":"3","timestamp":"1621279500.0","poster":"Spooky7"}],"poster":"crepatata","content":"The strong consistency doesn't work here:\n1) there is a --max-interval property which is being used with bounded staleness only\n2) there is a requirement \"Accept reservations event when localized network outages or other unforeseen failures occur.\" which points us to multiple writes for multiple regions which is not being supported by the Strong consistency.\n--locations syntax looks like obsolete as for late march 2021","timestamp":"1619525160.0","upvote_count":"11","comment_id":"343961"},{"comment_id":"340396","poster":"Ralph","content":"Answer is wrong .. \"strong\" instead of \"boundedStaleness\"","upvote_count":"4","comments":[{"timestamp":"1621072560.0","comment_id":"357730","upvote_count":"8","poster":"TakumaK","content":"Are you sure? If then, elaborate why. Does this option --max-interval work for strong?"}],"timestamp":"1619017200.0"},{"upvote_count":"3","comment_id":"264106","comments":[{"comment_id":"267565","upvote_count":"3","content":"I agree with you.... 99,99 can be reached with only one region.\nWhy it's not the right solution (someone can helps please) ?","timestamp":"1610678040.0","comments":[{"comment_id":"278277","poster":"Brak","content":"Because of the need for high availability during local network outages. Hence the auto failover selection.","upvote_count":"5","timestamp":"1611806400.0"}],"poster":"agcertif"},{"comment_id":"300458","timestamp":"1614459600.0","upvote_count":"2","content":"Agreed, also according to the documentation, multiple regions have a min T of 300s:\n\"For a single region account, the minimum value of K and T is 10 write operations or 5 seconds. For multi-region accounts the minimum value of K and T is 100,000 write operations or 300 seconds.\"","poster":"NikB"}],"poster":"[Removed]","content":"I think this should be \"locations southcentralus\". The requirement for 99.99% availability is covered by a single region and the syntax for providing multiple regions is wrong.\nhttps://docs.microsoft.com/en-us/azure/cosmos-db/high-availability\nhttps://docs.microsoft.com/en-us/cli/azure/cosmosdb?view=azure-cli-latest#az_cosmosdb_check_name_exists-optional-parameters","timestamp":"1610295180.0"},{"upvote_count":"4","timestamp":"1610200500.0","content":"Given Answer is Correct","poster":"RaviKS","comment_id":"263241"},{"content":"--locations : Add a location to the Cosmos DB database account.\n Usage: --locations KEY=VALUE [KEY=VALUE ...]\n Required Keys: regionName, failoverPriority\n Optional Key: isZoneRedundant\n Default: single region account in the location of the specified resource group.\n Failover priority values are 0 for write regions and greater than 0 for read regions. A\n failover priority value must be unique and less than the total number of regions.\n Multiple locations can be specified by using more than one `--locations` argument.","comments":[{"poster":"diligent176","upvote_count":"4","comment_id":"264118","content":"You are correct about this - none of the given options will work (all wrong syntax).\nBut I think they \"meant\" to use the 3 regions answer.","timestamp":"1610296140.0"}],"upvote_count":"8","comment_id":"260224","timestamp":"1609849260.0","poster":"tomis"},{"content":"Tried the CLI in the portal's Cloud Shell:\n--locations has wrong syntax in the options.\naz cosmosdb create -n myaccount4 --enable-automatic-failover true --max-interval 5 -g myRG --locations regionname=eastus --default-consistency-level=BoundedStaleness\n\n--locations needs regionname. Because it also takes in failoverPriority and isZoneRedundant params.\n\nSo either the option with just the SouthCentralUS should work or if the rest of the regions need to be mentioned, then it's a deprecated syntax which makes no sense to answer now.","poster":"Cornholioz","comment_id":"250563","upvote_count":"2","timestamp":"1608685320.0"},{"content":"If the last answer is correct (multi-region) than the consistency level cannot be strong (not possible for multi-region), and not Bounded Staleness because multi-region minimal values are 100.000 writes or 300 seconds. But then again, Bounded Staleness is the best option you can select, because the other options are worse (given that strong is not possible).","comments":[{"comment_id":"264120","poster":"diligent176","content":"the CLI command did not use \"--enable-multiple-write-locations\", therefore this will configure a single write region for this CosmosDB. Others will be read regions.","upvote_count":"3","timestamp":"1610296320.0"}],"upvote_count":"1","comment_id":"242636","timestamp":"1607869020.0","poster":"Tealon"},{"timestamp":"1605069420.0","comment_id":"217080","poster":"Zakh","content":"Because of this condition:\nAllow simultaneous and out-of-order reservations with a maximum five-second tolerance window","upvote_count":"3"},{"poster":"User11","comments":[{"upvote_count":"12","comments":[{"upvote_count":"3","timestamp":"1617359880.0","content":"Why Bounded-Staleness? \nIt requests to:\n ✑ Allow simultaneous and out-of-order reservations with a maximum five-second tolerance window.\nBut in the documentation it says:\n For a single region account, the minimum value of K and T is 10 write operations or 5 seconds. \n For multi-region accounts the minimum value of K and T is 100,000 write operations or 300 seconds.\n\nSouth Central Us, East Us and West Us are in different regions, right? Making the minimum time 300 seconds, instead of maximum of 5 seconds as \nrequested in the question.","poster":"titombo","comment_id":"326528"}],"comment_id":"216969","timestamp":"1605047580.0","poster":"bixafok","content":"Because of a maximum five-second tolerance"},{"timestamp":"1605091920.0","content":"https://docs.microsoft.com/en-us/azure/cosmos-db/consistency-levels#strong-consistency-and-multiple-write-regions\n\n\"Cosmos accounts configured with multiple write regions cannot be configured for strong consistency as it is not possible for a distributed system to provide an RPO of zero and an RTO of zero.\"","upvote_count":"8","poster":"Leandromellor","comment_id":"217218"},{"content":"Agreed with bixafok, another hint is --max-interval parameter which is used by the Bounded Staleness consistency level only.\nhttps://docs.microsoft.com/en-us/cli/azure/cosmosdb?view=azure-cli-latest#az_cosmosdb_create","upvote_count":"10","timestamp":"1605078960.0","comment_id":"217124","poster":"LoGA80","comments":[{"timestamp":"1613266680.0","comment_id":"289903","content":"Good catch!","upvote_count":"3","poster":"cbn"}]}],"comment_id":"215756","upvote_count":"5","content":"Why isn't the consistency level 'Strong'? In question, it is mentioned that 'Process reservations in the exact sequence as reservations are submitted to minimize overbooking or selling the same seat to multiple travelers'","timestamp":"1604910240.0"}],"unix_timestamp":1604910240,"answer":"","topic":"3","url":"https://www.examtopics.com/discussions/microsoft/view/36534-exam-az-204-topic-3-question-3-discussion/","isMC":false,"answer_description":"Box 1: BoundedStaleness -\nBounded staleness: The reads are guaranteed to honor the consistent-prefix guarantee. The reads might lag behind writes by at most \"K\" versions (that is,\n\"updates\") of an item or by \"T\" time interval. In other words, when you choose bounded staleness, the \"staleness\" can be configured in two ways:\nThe number of versions (K) of the item\nThe time interval (T) by which the reads might lag behind the writes\nIncorrect Answers:\n\nStrong -\nStrong consistency offers a linearizability guarantee. Linearizability refers to serving requests concurrently. The reads are guaranteed to return the most recent committed version of an item. A client never sees an uncommitted or partial write. Users are always guaranteed to read the latest committed write.\nBox 2: --enable-automatic-failover true\\\nFor multi-region Cosmos accounts that are configured with a single-write region, enable automatic-failover by using Azure CLI or Azure portal. After you enable automatic failover, whenever there is a regional disaster, Cosmos DB will automatically failover your account.\nQuestion: Accept reservations event when localized network outages or other unforeseen failures occur.\nBox 3: --locations'southcentralus=0 eastus=1 westus=2\nNeed multi-region.\nReference:\nhttps://docs.microsoft.com/en-us/azure/cosmos-db/consistency-levels https://github.com/MicrosoftDocs/azure-docs/blob/master/articles/cosmos-db/manage-with-cli.md","answers_community":[],"question_images":["https://www.examtopics.com/assets/media/exam-media/04273/0020900001.jpg"],"exam_id":48},{"id":"6Cai5TE0i9ej3fPEwg2i","timestamp":"2022-09-02 15:41:00","answer_images":["https://img.examtopics.com/az-204/image596.png"],"question_images":["https://www.examtopics.com/assets/media/exam-media/04273/0026600001.png"],"answer_ET":"","exam_id":48,"topic":"3","answers_community":[],"answer_description":"","discussion":[{"timestamp":"1662462060.0","comments":[{"comment_id":"1254991","content":"i agree , good explanation.","timestamp":"1721910900.0","poster":"Christian_garcia_martin","upvote_count":"1"},{"upvote_count":"4","content":"I agree with you. (ETag + If-Match)\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Match","poster":"Tenk14","timestamp":"1662837120.0","comment_id":"665632"}],"upvote_count":"45","poster":"tcybu","comment_id":"661124","content":"I think it should be:\n- ETag - server returns this tag for a resource to ensure we operate on the same version of the resource in subsequent API calls\n- If-Match - update is processed by the server only if the ETag provided matches the latest resource version ETag \n\nThe reason for that is we want to make sure we update the latest version of a resource:\n\"Update operations must use the latest data changes when writing\" \nSo, when using Last-Modified with If-Modified-Since, the operation executes only when another client modifies the resource between our READ and WRITE operations.\nIf we wanted to use Last-Modified instead, we would need If-Unmodified-Since instead."},{"content":"I referred to the documentation also and I cannot convince my mind I care enough to even understand this because there is no chance I will ever have to know these options in details unless I have to use it. Who reads and understands all these information when this is available as documentation and with Microsoft documentation it is all about trial and error and hoping for the best","upvote_count":"23","timestamp":"1664519640.0","comment_id":"683273","poster":"[Removed]"},{"poster":"ns4098","comment_id":"1287718","content":"Based on the scenario where you need to implement update operations for a web application accessing data in a zone-redundant BlockBlobStorage storage account, the application must ensure it uses the latest data by checking whether the data has changed since it was last read. Here are the appropriate choices:\n\n1. HTTP Header value:\nETag\nReason: The ETag (Entity Tag) is a unique identifier assigned to a specific version of a resource. It is used to determine if the data has changed since the last request. When you read the data, you get the ETag, and when performing update operations, you can compare the ETag to ensure you are working with the latest version of the data.\n\n2. Conditional header:\nIf-Match\nReason: The If-Match header is used to perform operations only if the ETag of the resource matches the one specified in the request. This ensures that updates happen only if the resource hasn't been modified since it was last read, preventing overwrites of more recent updates.","timestamp":"1727010480.0","upvote_count":"2"},{"content":"Got examn 28/09/23","poster":"richardc7","upvote_count":"4","timestamp":"1695908760.0","comment_id":"1019921"},{"timestamp":"1695381000.0","poster":"Nitin23","content":"both are wrong in given solution. \nCorrect anser - etag and If-match","comment_id":"1014021","upvote_count":"2"},{"comment_id":"983379","poster":"LxstInNxght","content":"It's ETag and If-Match.\n\nThe ETag (Entity Tag) is an HTTP header that represents a unique identifier for a version of the resource. When sending an update request, you can include the If-Match header with the ETag value of the data you previously read. If the current ETag of the resource matches the provided ETag, it means the data hasn't changed.","timestamp":"1692260760.0","upvote_count":"2"},{"content":"Correct answer","comment_id":"950545","poster":"[Removed]","upvote_count":"1","timestamp":"1689243480.0"},{"comment_id":"891721","poster":"calmriver44","upvote_count":"2","content":"It is Etag and If-Match\n\ncheck this page https://learn.microsoft.com/en-us/rest/api/storageservices/specifying-conditional-headers-for-blob-service-operations for conditional header \"If-Match\" - We can specify ETag value. Specify this header to perform the operation only if the resource's ETag matches the value specified.","timestamp":"1683502200.0"},{"comment_id":"857521","poster":"adilkhan","upvote_count":"1","timestamp":"1680314460.0","content":"Etag and if-match ChatGPT"},{"content":"Since we also need the update to work which is a PUT operation the correct answer is ETag/If-Match","comment_id":"819082","timestamp":"1677149100.0","poster":"kandrew5","upvote_count":"1"},{"timestamp":"1676584440.0","poster":"mmdex","upvote_count":"3","content":"ETag\nIf-Match\n\nThere are 2 possible options to validate an update against unwanted changes:\n - ETag + If-Match\n - Last-Modified + If-Unmodified-Since\n\nThe second option is not available here, so it must be the first one. Besides, even if it was available, it would still be better to check ETag, because Last-Modified is weaker (it has only 1-second resolution, so it does not detect 2 changes within 1 second, so you cannot ensure you have the latest version) and I guess the zone-redundancy may also play some role in how Last-Modified is handled.","comment_id":"811133"},{"timestamp":"1676536860.0","poster":"tmndungu","comments":[{"comment_id":"863428","upvote_count":"7","timestamp":"1680832920.0","content":"You should trust the discussions and other users experiencies. The default answers in the questions might be right or wrong.","poster":"rgullini"}],"upvote_count":"5","comment_id":"810457","content":"For those who have taken AZ-204 test, should I trust ExamTopics answers or the Community's answers?"},{"poster":"Esward","timestamp":"1674465420.0","comment_id":"785169","content":"Etag, If-Match are correct answers as per MS docs\nOptimistic concurrency: An application performing an update will, as part of its update, determine whether the data has changed since the application last read that data. For example, if two users viewing a wiki page make an update to that page, then the wiki platform must ensure that the second update does not overwrite the first update. It must also ensure that both users understand whether their update was successful. This strategy is most often used in web applications.\nhttps://learn.microsoft.com/en-us/azure/storage/blobs/concurrency-manage?tabs=dotnet","upvote_count":"4"},{"content":"I think it should be E-tag and if-none-match.\nSee the following source on how e-tag works: https://en.wikipedia.org/wiki/HTTP_ETag","comment_id":"776554","poster":"Dotar","upvote_count":"1","timestamp":"1673786940.0"},{"timestamp":"1673212020.0","comment_id":"769834","upvote_count":"2","content":"I think the answer is correct. The question is asking explicitly if \"data changed since the application last read the data\", so we must evaluate against the date, hence If-Modified-Since.","poster":"Skelletcz"},{"content":"Answer is correct - in my opinion.\n\n- ETag - The ETag (or entity tag) HTTP response header is an identifier for a specific version of a resource. (Version!)\n- Last-Modified - The Last-Modified response HTTP header contains a date and time when the origin server believes the resource was last modified. (Date and Time!)\n(Source: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers)\n\nIn Question: The application must determine whether the data has changed since the application last read the data. \nMy understanding: We are working on dates, not versions! So, Last-Modified and If-Modified-Since are better options.\n\nPS: I honestly have no idea why I need to know this for Azure Certification Exam :((","poster":"AsuraX","comment_id":"759573","upvote_count":"7","timestamp":"1672216200.0"},{"content":"Got this question in the exam 27/11/2022, anyone, please mention the correct answer and explain","upvote_count":"1","poster":"capable","comment_id":"730620","timestamp":"1669739100.0"},{"comment_id":"708568","comments":[{"comment_id":"1127264","content":"Correct.","upvote_count":"1","timestamp":"1705754400.0","poster":"Ciupaz"}],"timestamp":"1667233920.0","poster":"OPT_001122","content":"(ETag + If-Match) is correct?","upvote_count":"1"},{"poster":"finnishr","content":"Correct!","upvote_count":"2","comment_id":"657479","timestamp":"1662126060.0"}],"question_id":185,"isMC":false,"unix_timestamp":1662126060,"answer":"","url":"https://www.examtopics.com/discussions/microsoft/view/79433-exam-az-204-topic-3-question-30-discussion/","question_text":"HOTSPOT -\nYou are developing a web application by using the Azure SDK. The web application accesses data in a zone-redundant BlockBlobStorage storage account.\nThe application must determine whether the data has changed since the application last read the data. Update operations must use the latest data changes when writing data to the storage account.\nYou need to implement the update operations.\nWhich values should you use? To answer, select the appropriate option in the answer area.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//"}],"exam":{"numberOfQuestions":452,"provider":"Microsoft","isMCOnly":false,"lastUpdated":"12 Apr 2025","isImplemented":true,"id":48,"isBeta":false,"name":"AZ-204"},"currentPage":37},"__N_SSP":true}