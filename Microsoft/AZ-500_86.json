{"pageProps":{"questions":[{"id":"Owpsi6baR67PpChSrgoL","url":"https://www.examtopics.com/discussions/microsoft/view/82704-exam-az-500-topic-5-question-53-discussion/","answer_images":[],"question_id":426,"discussion":[{"upvote_count":"10","content":"For server 4 you do need sql azure arc enabled this is not stated in the question.\nI will go for Awnser C. If Arc is there it would be D","comment_id":"792634","poster":"erikb77","timestamp":"1675074060.0","comments":[{"upvote_count":"1","poster":"pentium75","timestamp":"1722509040.0","content":"It is also not stated that Arc is NOT enabled. So the correct answer for sql4 would be \"it depends\" but as this isn't a choice I'd assume ARC is enabled or can be enabled. (There are lots of other questions where 'enable ARC' is part of the solution.)","comment_id":"1259316"},{"comments":[{"content":"Not really.\n\nThe question says \"WILL BE PROTECTED\", and not \"CAN BE PROTECTED\".\n\nThe question really is garbage, but what can we do.","comment_id":"1113113","upvote_count":"3","poster":"epomatti","timestamp":"1704314880.0"}],"upvote_count":"2","timestamp":"1702139220.0","poster":"ITFranz","content":"Hello. You right. Erikb77. Azure ARC is not explicitly stated in the question, it is just \"assumed\". The answer to server 4 is on this link.\nhttps://learn.microsoft.com/en-us/sql/sql-server/azure-arc/overview?view=sql-server-ver16\nSQL Server enabled by Azure Arc extends Azure services to SQL Server instances hosted outside of Azure: in your data center, in edge site locations like retail stores, or any public cloud or hosting provider.","comment_id":"1091902"}]},{"timestamp":"1683035280.0","poster":"zellck","content":"Selected Answer: D\nD is the answer.\n\nhttps://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-sql-introduction#availability\nProtected SQL versions: Read-write replicas of:\n- Azure SQL single databases and elastic pools\n- Azure SQL Managed Instance\n- Azure Synapse Analytics (formerly SQL DW) dedicated SQL pool\n\nhttps://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-sql-usage#availability\nProtected SQL versions: SQL Server version: 2012, 2014, 2016, 2017, 2019, 2022\n- SQL on Azure virtual machines\n- SQL Server on Azure Arc-enabled servers\n- On-premises SQL servers on Windows machines without Azure Arc","upvote_count":"10","comment_id":"887440"},{"timestamp":"1741081740.0","poster":"859b41f","content":"Selected Answer: D\nDefender for Servers provides a number of security benefits.\n\nProtect multicloud and on-premises machines: Defender for Servers protects Windows and Linux machines in multicloud environments (Azure, AWS, GCP), and on-premises.","upvote_count":"1","comment_id":"1364834"},{"poster":"ITFranz","timestamp":"1734045120.0","content":"Selected Answer: C\nTo support answer should be C.\nMicrosoft Defender for SQL can protect the following SQL Server instances:\nAzure SQL Database servers\nSQL Server on Azure Virtual Machines\nOn-premises SQL servers\nAzure Arc-enabled SQL servers\nSQL Server running on Windows machines without Azure Arc\nSQL Server versions 2012, 2014, 2016, 2017, 2019, and 2022\nIt's important to note that Microsoft Defender for SQL is only supported for SQL Server instances on Windows machines and does not work for SQL Server on Linux machines\nNote\nMicrosoft Defender for Cloud is only supported for SQL Server instances on Windows machines. This will not work for SQL Server on Linux machines.","upvote_count":"1","comment_id":"1325900"},{"poster":"Pamban","content":"Selected Answer: D\nanswer is D\n\nlink https://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-sql-usage","timestamp":"1714959180.0","comment_id":"1207119","upvote_count":"1"},{"poster":"ACSC","comment_id":"1186217","upvote_count":"1","content":"Selected Answer: B\nSQL Server version: 2012, 2014, 2016, 2017, 2019, 2022\n- SQL on Azure virtual machines\n- SQL Server on Azure Arc-enabled servers","timestamp":"1711819020.0"},{"timestamp":"1711818780.0","comment_id":"1186214","upvote_count":"1","comments":[{"content":"Sorry, explanation is for sql1, sql2, sql3, so B","poster":"ACSC","comment_id":"1186216","upvote_count":"1","timestamp":"1711818960.0"}],"poster":"ACSC","content":"Selected Answer: C\nhttps://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-sql-usage#availability. Protected SQL versions: SQL Server version: 2012, 2014, 2016, 2017, 2019, 2022\n- SQL on Azure virtual machines\n- SQL Server on Azure Arc-enabled servers"},{"content":"Selected Answer: B\nServer 4 cannot be managed with Arc which is missing from the description of the machine. Therefore Server 4 should not be included.","timestamp":"1695380400.0","poster":"BigShot0","comment_id":"1014004","upvote_count":"3"},{"comment_id":"1004869","timestamp":"1694439960.0","poster":"ESAJRR","upvote_count":"2","content":"Selected Answer: D\nD. sql1, sql2, sql3, and sql4"},{"timestamp":"1677953400.0","content":"Selected Answer: D\nD. sql1, sql2, sql3, and sql4","comment_id":"829233","poster":"majstor86","upvote_count":"2"},{"content":"https://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-sql-usage","poster":"Ajdlfasudfo0","upvote_count":"1","comment_id":"771281","timestamp":"1673345040.0"},{"content":"https://www.microsoft.com/security/blog/2020/12/02/protect-your-sql-server-on-premises-in-azure-and-in-multi-cloud/#:~:text=2%20min%20read-,Protect%20your%20SQL%20Server%20on%2Dpremises,in%20Azure%2C%20and%20in%20multicloud&text=Azure%20Defender%20for%20SQL%20is,in%20virtual%20machines%20on%20Azure.","upvote_count":"1","poster":"wyindualizer","timestamp":"1664700600.0","comment_id":"684707"},{"content":"# In Exam 01-Oct-2022, correct answer.","timestamp":"1664577780.0","upvote_count":"3","comment_id":"683870","poster":"Amit3"},{"comment_id":"672644","content":"Pretty straightforward","upvote_count":"1","timestamp":"1663523820.0","poster":"Prince27"}],"answer":"D","answer_description":"","answer_ET":"D","topic":"5","question_images":["https://www.examtopics.com/assets/media/exam-media/04258/0053500001.png"],"unix_timestamp":1663523820,"exam_id":56,"answers_community":["D (73%)","B (18%)","9%"],"isMC":true,"choices":{"B":"sql1, sql2, and sql3 only","D":"sql1, sql2, sql3, and sql4","A":"sql1 and sql2 only","C":"sql1, sql2, and sql4 only"},"timestamp":"2022-09-18 19:57:00","question_text":"You have an on-premises network and an Azure subscription.\nYou have the Microsoft SQL Server instances shown in the following table.\n//IMG//\n\nYou plan to implement Microsoft Defender for SQL.\nWhich SQL Server instances will be protected by Microsoft Defender for SQL?"},{"id":"AVsarjG9t46mmZ121sdL","topic":"5","isMC":false,"question_id":427,"timestamp":"2023-01-16 07:54:00","exam_id":56,"answers_community":[],"answer_images":["https://img.examtopics.com/az-500/image591.png"],"answer":"","url":"https://www.examtopics.com/discussions/microsoft/view/95507-exam-az-500-topic-5-question-54-discussion/","question_images":["https://img.examtopics.com/az-500/image590.png"],"unix_timestamp":1673852040,"answer_description":"","question_text":"HOTSPOT\n-\n\nYou have a Microsoft Sentinel deployment.\n\nYou need to connect a third-party security solution to the deployment. The third-party solution will send Common Event Format (CEF)-formatted messages.\n\nWhat should you include in the solution? To answer, select the appropriate options in the answer area.\n\nNOTE: Each correct selection is worth one point.\n\n//IMG//","answer_ET":"","discussion":[{"comment_id":"884892","timestamp":"1682830860.0","poster":"zellck","content":"1. Linux server and a Syslog forwarder daemon\n2. Azure Log Analytics agent\n\nhttps://learn.microsoft.com/en-us/azure/sentinel/connect-log-forwarder?tabs=rsyslog\nTo ingest Syslog and CEF logs into Microsoft Sentinel, particularly from devices and appliances onto which you can't install the Log Analytics agent directly, you'll need to designate and configure a Linux machine that will collect the logs from your devices and forward them to your Microsoft Sentinel workspace. This machine can be a physical or virtual machine in your on-premises environment, an Azure VM, or a VM in another cloud.\n\nThis machine has two components that take part in this process:\n- A syslog daemon, either rsyslog or syslog-ng, that collects the logs.\n- The Log Analytics Agent (also known as the OMS Agent), that forwards the logs to Microsoft Sentinel.","upvote_count":"11"},{"comment_id":"1288899","upvote_count":"2","poster":"NeoTactics","content":"Is this question probably outdated?\nNowadays Azure Monitor Agent is used instead of Log Analytics Agent and deployed by first onboarding a machine to Azure Arc using connected Machine Agent/Azure Arc Agent. Then AMA is installed as a VM extension to the machine.","timestamp":"1727244180.0"},{"poster":"Johnvic","content":"Exam.6 case studies. 3 true/false questions. 47 multiple questions and no simulations. Alot of new questions thats not up here. Second box is Microsoft monitor agent","upvote_count":"1","timestamp":"1682123160.0","comment_id":"876939"},{"content":"Deploy: A Linux server and a syslog forwarder deamon\nForward events to Microsoft Sentinel: An Azure log analytics agent","upvote_count":"4","poster":"majstor86","timestamp":"1677953640.0","comment_id":"829238"},{"upvote_count":"4","comment_id":"777384","poster":"AzureJobsTillRetire","content":"It seems to be correct.\nhttps://docs.microsoft.com/en-us/azure/sentinel/connect-common-event-format","timestamp":"1673852040.0"}]},{"id":"7WgjKgvj3AdSxeKv0uIn","url":"https://www.examtopics.com/discussions/microsoft/view/94751-exam-az-500-topic-5-question-55-discussion/","question_text":"You have an Azure subscription that contains an Azure SQL Database logic server named SQL1 and an Azure virtual machine named VM1. VM1 uses a private IP address only.\n\nThe Firewall and virtual networks settings for SQL1 are shown in the following exhibit.\n\n//IMG//\n\n\nYou need to ensure that VM1 can connect to SQL1. The solution must use the principle of least privilege.\n\nWhat should you do?","question_id":428,"isMC":true,"answers_community":["C (79%)","D (17%)","5%"],"topic":"5","question_images":["https://img.examtopics.com/az-500/image592.png"],"answer_images":[],"choices":{"A":"Set Connection Policy to Proxy.","C":"Add an existing virtual network.","D":"Create a new firewall rule.","B":"Set Allow Azure services and resources to access this server to Yes."},"discussion":[{"content":"Selected Answer: C\nThe Azure SQL Database firewall allows you to specify IP address ranges from which communications are accepted into SQL Database. This approach is fine for stable IP addresses that are outside the Azure private network. However, virtual machines (VMs) within the Azure private network are configured with dynamic IP addresses. Dynamic IP addresses can change when your VM is restarted and in turn invalidate the IP-based firewall rule. It would be folly to specify a dynamic IP address in a firewall rule, in a production environment.\nYou can work around this limitation by obtaining a static IP address for your VM. For details, see Create a virtual machine with a static public IP address using the Azure portal. However, the static IP approach can become difficult to manage, and it's costly when done at scale.\nVirtual network rules are easier alternative to establish and to manage access from a specific subnet that contains your VMs.","timestamp":"1673963520.0","comment_id":"778983","poster":"Nick66","upvote_count":"17"},{"upvote_count":"12","timestamp":"1681075560.0","poster":"sylarcas","comment_id":"865827","content":"Selected Answer: C\nC is the correct answer.\nIn the answer D. You can add public IPs but in this case VM1 use private ip only."},{"timestamp":"1722329580.0","content":"You cannot use D to create a firewall rule because VM needs a public IP. \nThe next best thing if D is not possible is C - add an existent VNET...","comment_id":"1258044","poster":"xRiot007","upvote_count":"3"},{"poster":"saira23","comment_id":"1251506","content":"In Exam20/07/2024\nAnswer is C","upvote_count":"2","timestamp":"1721444520.0"},{"comment_id":"1235753","upvote_count":"1","content":"Selected Answer: C\nCant be D, as per bellow. so C.\n\n D. Create a new firewall rule. (Cant be as it clearly says VM only has Private IP no PIP)","timestamp":"1719132600.0","poster":"datz"},{"timestamp":"1699128960.0","content":"Selected Answer: C\nIn exam 4th November","upvote_count":"1","poster":"BMF","comment_id":"1062349"},{"upvote_count":"2","poster":"TheProfessor","timestamp":"1696782120.0","content":"Selected Answer: D\nD. Create a new firewall rule.","comment_id":"1028151"},{"upvote_count":"2","poster":"BigShot0","comment_id":"1014010","timestamp":"1695380580.0","content":"Selected Answer: D\nYou should authorize the Machine not the VNET. The question specifically says Least Privilege therefore the VNET may allow many machines to connect."},{"timestamp":"1693962420.0","content":"Selected Answer: C\nC. Add an existing virtual network.","comment_id":"1000045","upvote_count":"2","poster":"ESAJRR"},{"comments":[{"poster":"Mnguyen0503","content":"FW rules only apply to Public IP. VM1 only has Private IP. C is the answer.","timestamp":"1705121760.0","upvote_count":"2","comment_id":"1121303"}],"upvote_count":"2","poster":"heatfan900","timestamp":"1691596500.0","content":"Allow Azure services and resources to access this server not enabled, you need to create individual firewall rule entries to add IP addresses. D is right. B does NOT provide LEAST PRIV","comment_id":"976817"},{"poster":"billo79152718","timestamp":"1684754940.0","content":"Selected Answer: C\nC. Add an existing virtual network","upvote_count":"1","comment_id":"903989"},{"poster":"zellck","upvote_count":"6","timestamp":"1682830680.0","comment_id":"884891","content":"Selected Answer: C\nC is the answer.\n\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/network-access-controls-overview?view=azuresql\nYou can also allow private access to the database from virtual networks via:\n- Virtual network firewall rules: Use this feature to allow traffic from a specific virtual network within the Azure boundary"},{"poster":"stepman","upvote_count":"3","timestamp":"1682616360.0","comment_id":"882888","content":"I forgot what I chose, but this was On exam 4/27 with the new exam experience. No Sim or lab."},{"poster":"Potato123Psasas","content":"Selected Answer: B\nTested in lab\n\nThe setting allows connection from VMs. VM is a trusted service for SQL database.\n\nWhen Allow Azure services and resources to access this server is enabled, your server allows communications from all resources inside the Azure boundary, that may or may not be part of your subscription.\n\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/network-access-controls-overview?view=azuresql","upvote_count":"3","comment_id":"841832","timestamp":"1679044440.0","comments":[{"content":"B gives TOO MUCH access. You need to allow access only for the VM or the resource in the encompassing scope (which is VNET), not to any resource. Correct answer is C - add an existing VNet (the one with the VM in it)","poster":"xRiot007","timestamp":"1722329700.0","upvote_count":"1","comment_id":"1258049"},{"poster":"sapthami","comment_id":"869492","upvote_count":"1","content":"B is the correct answer as per the above article.","timestamp":"1681396680.0"},{"poster":"Br1cKd","content":"That does not meet the principle of least privilege.","comment_id":"847212","upvote_count":"7","timestamp":"1679499600.0"}]},{"upvote_count":"7","poster":"Manu1986","timestamp":"1678985280.0","content":"Selected Answer: C\nBest idea would be private endpoint, but here we need setting under \"Public access\" and then select there \"Add a virtual network rule\" and select your vnet there","comment_id":"841192"},{"upvote_count":"3","comment_id":"831441","poster":"tutonata","content":"Selected Answer: D\nFW rule with a singleton IP address representing the VM private IP","timestamp":"1678150500.0","comments":[{"comment_id":"1259319","upvote_count":"1","poster":"pentium75","content":"Can add only public IPs to FW rules","timestamp":"1722509220.0"}]},{"timestamp":"1677953820.0","poster":"majstor86","content":"Selected Answer: C\nC. Add an existing virtual network.","upvote_count":"5","comment_id":"829241"},{"comment_id":"773135","content":"i am not 100% about it but i think it should be add a virtual network","poster":"Nickname01","upvote_count":"4","timestamp":"1673499420.0"},{"timestamp":"1673401320.0","comments":[{"content":"no, with that one you would also have to deploy a NAT gateway so that you know the IP that the VM will use to access the SQL DB","comment_id":"779874","poster":"Ajdlfasudfo0","upvote_count":"3","timestamp":"1674038400.0"},{"timestamp":"1674837420.0","upvote_count":"3","comment_id":"789790","poster":"AzureJobsTillRetire","content":"Sorry I think I'm wrong. I will go with C in the exam."}],"content":"Selected Answer: D\nAdd a firewall rule with both Start IP and End IP being the same VM private IP address","comment_id":"771948","poster":"AzureJobsTillRetire","upvote_count":"4"}],"exam_id":56,"unix_timestamp":1673401320,"answer_ET":"C","answer_description":"","timestamp":"2023-01-11 02:42:00","answer":"C"},{"id":"qp7IFozCBkukGYi6utm8","answer":"C","answer_description":"","exam_id":56,"timestamp":"2023-01-10 13:01:00","question_images":[],"topic":"5","answer_images":[],"question_id":429,"answers_community":["C (100%)"],"unix_timestamp":1673352060,"discussion":[{"timestamp":"1682830380.0","content":"Selected Answer: C\nC is the answer.\n\nhttps://learn.microsoft.com/en-us/azure/active-directory/authentication/concept-authentication-methods-manage#authentication-methods-policy\nThe Authentication methods policy is the recommended way to manage authentication methods, including modern methods like passwordless authentication. Authentication Policy Administrators can edit this policy to enable authentication methods for all users or specific groups.","comment_id":"884888","poster":"zellck","upvote_count":"8"},{"upvote_count":"3","timestamp":"1727245500.0","poster":"NeoTactics","content":"I think nowadays the answer should be B.\nYou define the methods the users group can use for setting up MFA with the Authentication Methods. But actually enforcing MFA is done using Conditional Access (or Security Defaults).","comment_id":"1288904"},{"upvote_count":"3","timestamp":"1693962480.0","poster":"ESAJRR","content":"Selected Answer: C\nC. Configure the Microsoft Authenticator authentication method policy.","comment_id":"1000047"},{"timestamp":"1678453440.0","content":"Selected Answer: C\nCorrect, when using the right settings from within the policy;\nhttps://learn.microsoft.com/en-us/azure/active-directory/authentication/howto-authentication-passwordless-phone","poster":"ITTesters","upvote_count":"4","comment_id":"835004"},{"timestamp":"1678452420.0","poster":"ITTesters","upvote_count":"1","comment_id":"834987","content":"Selected Answer: C\nCorrect, when using the right settings from within the policy;\nhttps://learn.microsoft.com/en-us/azure/active-directory/authentication/howto-authentication-passwordless-phone"},{"upvote_count":"2","content":"Selected Answer: C\nC. Configure the Microsoft Authenticator authentication method policy.","timestamp":"1677953820.0","comment_id":"829242","poster":"majstor86"},{"timestamp":"1675148040.0","poster":"Nick66","upvote_count":"1","comment_id":"793740","content":"Selected Answer: C\nAuthentication methods policy\nTo check settings in the Authentication methods policy, sign in as an Authentication Policy Administrator and go to Azure Active Directory > Security > Authentication methods > Policies. A new tenant has all methods Off by default, which makes migration easier because legacy policy settings don't need to be merged with existing settings."},{"timestamp":"1673499840.0","upvote_count":"3","content":"you need to ensure that they login with passwordless i think it should be a conditional access policy but this is still in preview at the moment.\nhttps://learn.microsoft.com/en-us/azure/active-directory/authentication/concept-authentication-strengths","poster":"Nickname01","comment_id":"773137"},{"poster":"juandmi","comment_id":"771371","upvote_count":"3","timestamp":"1673352060.0","content":"correct.\nMicrosoft [...] offer the following three passwordless authentication options that integrate with Azure Active Directory (Azure AD):\n* Windows Hello for Business\n* Microsoft Authenticator\n* FIDO2 security keys\nhttps://learn.microsoft.com/en-us/azure/active-directory/authentication/concept-authentication-passwordless"}],"isMC":true,"answer_ET":"C","url":"https://www.examtopics.com/discussions/microsoft/view/94674-exam-az-500-topic-5-question-56-discussion/","choices":{"C":"Configure the Microsoft Authenticator authentication method policy.","A":"Configure the sign-in risk policy.","D":"Configure the certificate-based authentication (CBA) policy.","B":"Create a Conditional Access policy."},"question_text":"You have an Azure Active Directory (Azure AD) tenant that contains a group named Group1.\n\nYou need to ensure that the members of Group1 sign in by using passwordless authentication.\n\nWhat should you do?"},{"id":"MF3k2DQkBlfFQSNCesed","url":"https://www.examtopics.com/discussions/microsoft/view/94675-exam-az-500-topic-5-question-57-discussion/","answers_community":["A (74%)","C (23%)","3%"],"question_images":["https://img.examtopics.com/az-500/image593.png"],"choices":{"A":"Add-AzKeyVaultflanagedStorageAccount","B":"Set-AzStorageAccountManagementPolicy","D":"Add-AzStorageAccountManagementPolicyAction","C":"Set-AzStorageAccount"},"exam_id":56,"answer":"A","unix_timestamp":1673352540,"question_id":430,"question_text":"You have an Azure subscription that contains the resources shown in the following table.\n\n//IMG//\n\n\nYou need to configure storage1 to regenerate keys automatically every 90 days.\n\nWhich cmdlet should you run?","answer_description":"","answer_images":[],"answer_ET":"A","isMC":true,"discussion":[{"content":"If you get here you notice that there are a lot of trolls or people who does not have idea about anything. Don loose your time and find different questions since mostly of these ones are wrongly wording, bad answers , outdated and with a lot of trolling people who i dont understand what is their intention to confuse students.","timestamp":"1681719000.0","poster":"jvallespin","upvote_count":"20","comment_id":"872472"},{"poster":"majstor86","timestamp":"1677953940.0","upvote_count":"9","content":"Selected Answer: A\nA. Add-AzKeyVaultflanagedStorageAccount","comments":[{"poster":"majstor86","timestamp":"1677954000.0","upvote_count":"8","comment_id":"829247","content":"Add-AzKeyVaultManagedStorageAccount","comments":[{"poster":"_punky_","upvote_count":"3","content":"Example: \n$regenerationPeriod = [System.Timespan]::FromDays(90)\nAdd-AzKeyVaultManagedStorageAccount -VaultName 'myvault' -AccountName 'mystorageaccount' -AccountResourceId '/subscriptions/<subscription id>/resourceGroups/myresourcegroup/providers/Microsoft.Storage/storageAccounts/mystorageaccount' -ActiveKeyName 'key1' -RegenerationPeriod $regenerationPeriod","timestamp":"1697191200.0","comment_id":"1042539"}]}],"comment_id":"829244"},{"content":"Selected Answer: A\nA is correct ans: https://learn.microsoft.com/en-us/azure/key-vault/secrets/overview-storage-keys-powershell#:~:text=Enable%20key%20regeneration,the%20active%20key.","poster":"randy0077","comment_id":"1409867","timestamp":"1742868360.0","upvote_count":"1"},{"poster":"golitech","timestamp":"1738598700.0","content":"Selected Answer: B\nB. Set-AzStorageAccountManagementPolicy\nThis cmdlet is used to configure management policies for the Storage Account, including the ability to set policies like key regeneration.\n\nExplanation of other options:\nA. Add-AzKeyVaultflanagedStorageAccount: This cmdlet is not a valid cmdlet and seems to be a typo. I could not find it in any document\n\nC. Set-AzStorageAccount: This cmdlet is used to configure general settings for the storage account but doesn’t include key regeneration settings.\n\nD. Add-AzStorageAccountManagementPolicyAction: This cmdlet is used to add actions to an existing management policy but doesn’t directly configure key regeneration for the storage account.","comment_id":"1350991","upvote_count":"1"},{"upvote_count":"2","comment_id":"1326146","content":"Selected Answer: A\nTo support the answer.\nNo, you cannot use Add-AzKeyVaultManagedStorageAccount to automatically regenerate keys every 90 days. The Add-AzKeyVaultManagedStorageAccount cmdlet is used to add a managed storage account to a key vault,\nTo automatically rotate storage account keys, you should use Azure Key Vault's key rotation policy feature. \nSet-AzKeyVaultKeyRotationPolicy `\n -VaultName \"your-key-vault-name\" `\n -KeyName \"your-key-name\" `\n -ExpiresIn (New-TimeSpan -Days 90) `\n -KeyRotationLifetimeAction @{Action=\"Rotate\"; TimeAfterCreate=(New-TimeSpan -Days 90)}","timestamp":"1734098040.0","poster":"ITFranz"},{"timestamp":"1722509760.0","poster":"pentium75","upvote_count":"1","comment_id":"1259320","content":"Confused because question says \"you need to configure STORAGE1 to regenerate keys automatically every 90 days …\" while documentation of Add-AzKeyVaultManagedStorageAccount says \"If you want KEY VAULT to regenerate your storage account keys periodically …\""},{"content":"B. Set-AzStorageAccountManagementPolicy\n\n\n\n\n\nB. Set-AzStorageAccountManagementPolicy\n\n\n\n\n\n\nB. Set-AzStorageAccountManagementPolicy\n\n\n\n\n\n\nB. Set-AzStorageAccountManagementPolicy","timestamp":"1706571660.0","poster":"da","upvote_count":"2","comment_id":"1135365"},{"poster":"Ginairo214","comment_id":"1116259","content":"The answer is A. Read the link below.\nhttps://learn.microsoft.com/en-us/azure/key-vault/secrets/overview-storage-keys-powershell#enable-key-regeneration","timestamp":"1704672360.0","upvote_count":"3"},{"timestamp":"1703190360.0","comment_id":"1102949","upvote_count":"1","content":"A Add-AzKeyVaultManagedStorageAccount\nAdds an existing Azure Storage Account to the specified key vault for its keys to be managed by the Key Vault service.","poster":"[Removed]"},{"content":"Selected Answer: C\nTo configure storage account keys to regenerate automatically every 90 days in Azure, you should use the Set-AzStorageAccount cmdlet. The Set-AzStorageAccount cmdlet allows you to update various properties of a storage account, including the key regeneration policy.\nThe Add-AzKeyVaultManagedStorageAccount cmdlet is not used for this purpose. It is typically used to link a storage account to an Azure Key Vault for managing keys securely.","comment_id":"1101014","timestamp":"1703022360.0","upvote_count":"1","poster":"handstand"},{"content":"To configure storage1 to regenerate keys automatically every 90 days, you should run the cmdlet Add-AzKeyVaultManagedStorageAccount. \n\nSets up an existing Azure Storage Account with Key Vault for Storage Account keys to be managed by Key Vault. The Storage Account must already exist. The Storage Keys are never exposed to caller. Key Vault auto regenerates and switches the active key based on the regeneration period.\n\nhttps://learn.microsoft.com/en-us/powershell/module/az.keyvault/add-azkeyvaultmanagedstorageaccount","timestamp":"1698761580.0","poster":"OrangeSG","comment_id":"1058870","upvote_count":"4"},{"timestamp":"1696782480.0","content":"Selected Answer: C\nC. Set-AzStorageAccount\n\nI don't understand why people are talking about Add-AzKeyVaultflanagedStorageAccount","comments":[{"content":"To create a key expiration policy with PowerShell, use the Set-AzStorageAccount command and set the -KeyExpirationPeriodInDay parameter to the interval in days until the access key should be rotated.","poster":"TheProfessor","comment_id":"1028159","upvote_count":"2","timestamp":"1696782480.0"}],"upvote_count":"1","poster":"TheProfessor","comment_id":"1028158"},{"poster":"AzureAdventure","comment_id":"1012779","upvote_count":"1","content":"Add-AzKeyVaultManagedStorageAccount\n\nAn example here\nhttps://learn.microsoft.com/en-us/powershell/module/az.keyvault/add-azkeyvaultmanagedstorageaccount?view=azps-10.3.0#:~:text=set%0A%24regenerationPeriod%20%3D%20%5BSystem.Timespan%5D%3A%3AFromDays(90)-,Add%2DAzKeyVaultManagedStorageAccount,-%2DVaultName%20%27myvault%27%20%2DAccountName%20%27mystorageaccount%27%20%2DAccountResourceId%20%27/subscriptions/%3Csubscription","timestamp":"1695271260.0"},{"comments":[{"content":"HERE IS THE WHOLE COMMAND FROM MICRSOFT:\nAdd-AzKeyVaultManagedStorageAccount -VaultName 'myvault' -AccountName 'mystorageaccount' -AccountResourceId '/subscriptions/<subscription id>/resourceGroups/myresourcegroup/providers/Microsoft.ClassicStorage/storageAccounts/mystorageaccount' -ActiveKeyName 'Primary' -RegenerationPeriod $regenerationPeriod","upvote_count":"1","timestamp":"1694625180.0","comment_id":"1006833","poster":"heatfan900"}],"upvote_count":"3","comment_id":"1006832","poster":"heatfan900","timestamp":"1694625120.0","content":"Add-AzKeyVaultManagedStorageAccount IS THE CORRECT COMMAND. NOT THAT MISPELLED MESS IN (a\n\nStill, (a is correct"},{"upvote_count":"2","comment_id":"1000050","poster":"ESAJRR","timestamp":"1693962600.0","content":"Selected Answer: A\nA. Add-AzKeyVaultflanagedStorageAccount"},{"upvote_count":"1","poster":"_fvt","comment_id":"977634","timestamp":"1691669940.0","content":"Selected Answer: C\nWhat is the point of KeyVault answers here ? \nWe want the storage account to rotate the keys itself, this is what is asked.. Not to store the the keys in key vault and have it rotating them for the storage account... \nhttps://learn.microsoft.com/en-us/azure/storage/common/storage-account-keys-manage?tabs=azure-powershell#create-a-key-expiration-policy"},{"timestamp":"1688918580.0","content":"Selected Answer: C\nSet-AzStorageAccount -ResourceGroupName <resource-group-name> -Name storage1 -RegenerateKeyPolicyType periodic -RegenerateKeyPeriodInDays 90","comment_id":"947403","comments":[{"timestamp":"1688919000.0","comment_id":"947410","upvote_count":"2","content":"A also correct : \nAdd-AzKeyVaultManagedStorageAccount -VaultName <key-vault-name> -AccountName storage1 -ResourceGroupName <resource-group-name> -KeyName key1 -KeyAutoRegenerateKeyInterval 90","poster":"Ario"}],"poster":"Ario","upvote_count":"2"},{"poster":"zellck","comment_id":"884886","timestamp":"1682830260.0","upvote_count":"5","content":"Selected Answer: A\nA is the answer.\n\nhttps://learn.microsoft.com/en-us/powershell/module/az.keyvault/add-azkeyvaultmanagedstorageaccount?view=azps-9.7.0#description\nSets up an existing Azure Storage Account with Key Vault for Storage Account keys to be managed by Key Vault. The Storage Account must already exist. The Storage Keys are never exposed to caller. Key Vault auto regenerates and switches the active key based on the regeneration period."},{"upvote_count":"1","content":"Set-AzKeyVaultKeyRotationPolicy","poster":"saturation97","comment_id":"847209","timestamp":"1679499180.0"},{"comment_id":"831443","content":"Selected Answer: A\nhttps://learn.microsoft.com/en-us/powershell/module/az.keyvault/add-azkeyvaultmanagedstorageaccount?view=azps-9.3.0","upvote_count":"2","timestamp":"1678151100.0","poster":"tutonata"},{"content":"the right command is Add-AzKeyVaultflanagedStorageAccount -RegenerationPeriod\nhttps://learn.microsoft.com/en-us/powershell/module/az.keyvault/add-azkeyvaultmanagedstorageaccount?view=azps-9.3.0","timestamp":"1674034500.0","upvote_count":"2","comment_id":"779815","poster":"Fcnet"},{"content":"Selected Answer: A\nIf you want Key Vault to regenerate your storage account keys periodically, you can use the Azure PowerShell Add-AzKeyVaultManagedStorageAccount cmdlet to set a regeneration period. In this example, we set a regeneration period of thirty days. When it is time to rotate, Key Vault regenerates the key that is not active, and then sets the newly created key as active. Only one of the keys are used to issue SAS tokens at any one time. This is the active key.","timestamp":"1673963880.0","upvote_count":"2","poster":"Nick66","comment_id":"778990"},{"timestamp":"1673852940.0","content":"Selected Answer: C\nSet-AzStorageAccount -ResourceGroupName $rgName -Name `\n $accountName -KeyExpirationPeriodInDay 90\nhttps://learn.microsoft.com/en-us/azure/storage/common/storage-account-keys-manage?tabs=azure-powershell","comments":[{"comment_id":"777411","upvote_count":"3","timestamp":"1673853540.0","poster":"AzureJobsTillRetire","content":"Sorry please disregard. The command above is the manual way of doing it.\n\nThe given answer is correct, but there is a typo in the answer. The correct command is as below.\nAdd-AzKeyVaultManagedStorageAccount -VaultName 'myvault' -AccountName 'mystorageaccount' -AccountResourceId '/subscriptions/<subscription id>/resourceGroups/myresourcegroup/providers/Microsoft.Storage/storageAccounts/mystorageaccount' -ActiveKeyName 'key1' -RegenerationPeriod $regenerationPeriod\n\nhttps://learn.microsoft.com/en-us/powershell/module/az.keyvault/add-azkeyvaultmanagedstorageaccount?view=azps-8.3.0"}],"comment_id":"777394","poster":"AzureJobsTillRetire","upvote_count":"2"},{"upvote_count":"2","comment_id":"771377","comments":[{"comments":[{"content":"this is correct - Add-AzKeyVaultManagedStorageAccount","timestamp":"1673452140.0","comment_id":"772692","poster":"skr123","upvote_count":"1"}],"content":"sorry, I believe this is the correct command: Add-AzKeyVaultManagedStorageAccount\nhttps://learn.microsoft.com/en-us/azure/key-vault/secrets/overview-storage-keys-powershell#enable-key-regeneration","poster":"juandmi","upvote_count":"2","comment_id":"771401","timestamp":"1673353800.0"}],"poster":"juandmi","timestamp":"1673352540.0","content":"Set-AzKeyVaultKeyRotationPolicy\nhttps://learn.microsoft.com/en-us/azure/key-vault/keys/how-to-configure-key-rotation#azure-powershell"}],"timestamp":"2023-01-10 13:09:00","topic":"5"}],"exam":{"isImplemented":true,"provider":"Microsoft","isMCOnly":false,"id":56,"name":"AZ-500","isBeta":false,"numberOfQuestions":505,"lastUpdated":"12 Apr 2025"},"currentPage":86},"__N_SSP":true}