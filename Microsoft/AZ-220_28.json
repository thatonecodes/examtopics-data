{"pageProps":{"questions":[{"id":"8Gh4VW9wgKNEFDu8jiFE","isMC":true,"exam_id":49,"topic":"5","question_images":[],"answers_community":[],"question_text":"You have 1,000 devices that connect to an Azure IoT hub.\nYou are performing a scheduled check of deployed IoT devices.\nYou plan to run the following command from the Azure CLI prompt. az iot hub query --hub-name hub1 --query-command \"SELECT * FROM devices WHERE connectionState = 'Disconnected'\"\nWhat does the command return?","answer":"B","url":"https://www.examtopics.com/discussions/microsoft/view/22126-exam-az-220-topic-5-question-6-discussion/","choices":{"D":"the device credentials","B":"the device twins","C":"the Connections logs","A":"the Device Disconnected events"},"answer_description":"Device twin queries: IoT Hub exposes the device twins as a document collection called devices. For example, the following query retrieves the whole set of device twins:\n\nSELECT * FROM devices -\nReference:\nhttps://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-query-language#device-and-module-twin-queries","unix_timestamp":1591303620,"timestamp":"2020-06-04 22:47:00","answer_images":[],"answer_ET":"B","discussion":[{"content":"seems like it should return the device twins of the disconnected devices","comment_id":"102636","timestamp":"1591303620.0","poster":"blackdog","upvote_count":"20","comments":[{"content":"correct, confirmed here (see connectionState)> \nhttps://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-identity-registry#device-heartbeat","poster":"tita_tovenaar","upvote_count":"1","comment_id":"394059","timestamp":"1624985520.0"}]},{"upvote_count":"14","comment_id":"109253","timestamp":"1592032740.0","content":"should be device twins.","poster":"Yong2020"},{"timestamp":"1614357660.0","upvote_count":"3","poster":"SanjuB","comment_id":"299858","content":"the Device Disconnected events"},{"timestamp":"1612511640.0","upvote_count":"2","comment_id":"284033","poster":"Bob","content":"Question says what does command return ? device twin is not something (telemetry or event or signal)\n which device return to hub. In my opinion A is correct."},{"upvote_count":"4","poster":"cup","timestamp":"1606395540.0","content":"Indeed B...Tested with production data","comment_id":"228346"},{"comment_id":"216488","poster":"getazusername","timestamp":"1605001620.0","upvote_count":"1","content":"Device twin\nIoT Hub exposes the device twins as a document collection called devices. For example, the following query retrieves the whole set of device twins:\nSQL\nSELECT * FROM devices\nSource: https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-query-language"},{"content":"It will be Device Twin only for the disconnected Device","upvote_count":"3","comment_id":"183553","poster":"Sudipta3009","timestamp":"1600679580.0"},{"upvote_count":"5","timestamp":"1598357640.0","comment_id":"165962","poster":"ripin_aggarwal","content":"Correct option is B. \nThe command returns the Device twin of the disconnected devices."},{"poster":"not_a_robot","comment_id":"140660","content":"Device twins","timestamp":"1595370360.0","upvote_count":"5"},{"content":"Not disconnected devices\n\nThe IoT Hub identity registry contains a field called connectionState. Only use the connectionState field during development and debugging. IoT solutions should not query the field at run time. For example, do not query the connectionState field to check if a device is connected before you send a cloud-to-device message or an SMS.","poster":"meriadoc71","timestamp":"1592479260.0","upvote_count":"1","comment_id":"113113"},{"content":"Yes. It should be Device twins.\nhttps://docs.microsoft.com/en-us/cli/azure/ext/azure-cli-iot-ext/iot/hub?view=azure-cli-latest#ext-azure-cli-iot-ext-az-iot-hub-query-examples","poster":"theiotguy","comments":[{"comment_id":"195545","content":"Review the section labeled Device and module twin queries, displaying arbitrary JSON objects, which IoT Hub enables you to query device twins and module twins. Such as; \"connectionState\"\n\nhere is the article: https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-query-language#device-and-module-twin-queries","poster":"valkyrieShadow","upvote_count":"1","timestamp":"1602104220.0"}],"upvote_count":"5","timestamp":"1592443020.0","comment_id":"112831"}],"question_id":136},{"id":"26qD74BEPWi0WPNnxLsx","question_text":"You have an Azure IoT solution that includes several Azure IoT hubs.\nA new alerting feature was recently added to the IoT devices. The feature uses a new device twin reported property named alertCondition.\nYou need to send alerts to an Azure Service Bus queue named MessageAlerts. The alerts must include alertCondition and the name of the IoT hub.\nWhich two actions should you perform? Each correct answer presents part of the solution.\nNOTE: Each correct selection is worth one point.","discussion":[{"upvote_count":"22","content":"The correct answer are: C & D","timestamp":"1591261860.0","poster":"Yanzhi","comment_id":"102261"},{"upvote_count":"11","timestamp":"1591734960.0","content":"agree with C & D","poster":"blackdog","comment_id":"106253"},{"comment_id":"693619","poster":"S0vere1gn","upvote_count":"1","timestamp":"1665636660.0","content":"Selected Answer: CD\nagree with CD"},{"timestamp":"1648188120.0","content":"Selected Answer: CD\nAgree with CD","comment_id":"574820","poster":"liberty123","upvote_count":"2"},{"timestamp":"1598360760.0","poster":"ripin_aggarwal","upvote_count":"1","content":"B & D is surely not the correct option. As Message Enrichment require unique property name . In B & D options, the property name is provided same as 'iotHubName'.","comment_id":"165990"},{"upvote_count":"3","content":"The correct options should be C & D","poster":"ripin_aggarwal","comment_id":"162822","timestamp":"1598000040.0"},{"upvote_count":"8","content":"C&D are right","comments":[{"poster":"valkyrieShadow","comment_id":"195591","timestamp":"1602109980.0","content":"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-messages-d2c#:~:text=For%20example%2C%20if%20a%20route%20is%20created%20with,indicating%20whether%20the%20device%20was%20deleted%20or%20created.\n\nmessage routing also enables sending device twin change events, device lifecycle events, and digital twin change events. For example, if a route is created with data source set to device twin change events, IoT Hub sends messages to the endpoint that contain the change in the device twin","upvote_count":"1"}],"timestamp":"1595262420.0","poster":"EyeeyeeyeeyeeyeeyeeyeeyeSPIDER","comment_id":"139692"}],"question_id":137,"topic":"5","answer_ET":"CD","exam_id":49,"question_images":[],"answer_description":"","url":"https://www.examtopics.com/discussions/microsoft/view/22084-exam-az-220-topic-5-question-7-discussion/","isMC":true,"choices":{"C":"Create an IoT Hub routing rule that has a data source of Device Twin Change Events and select the endpoint for MessageAlerts.","D":"Add the following message enrichments: Name = iotHubName Value = $iothubname Endpoint = MessageAlerts","B":"Add the following message enrichments: Name = iotHubName Value = $twin.tag.location Endpoint = MessageAlerts","A":"Configure File upload for each IoT hub. Configure the device to send a file to an Azure Storage container that contains the device name and status message.","E":"Create an IoT Hub routing rule that has a data source of Device Telemetry Messages and select the endpoint for MessageAlerts."},"answer_images":[],"unix_timestamp":1591261860,"answers_community":["CD (100%)"],"answer":"CD","timestamp":"2020-06-04 11:11:00"},{"id":"XaMxN4qZ2OrqZZTkbQAu","answer_images":["https://www.examtopics.com/assets/media/exam-media/04123/0014600002.jpg"],"unix_timestamp":1595544240,"answer":"","timestamp":"2020-07-24 00:44:00","discussion":[{"poster":"angelsrp","upvote_count":"3","comment_id":"142370","timestamp":"1595544240.0","content":"Ans is correct:\n\n1. Enable Security Center (this is a requirement for all the scenarios)\n2. SecurityGroups\n3. Create a rule.\n\nhttps://docs.microsoft.com/en-us/azure/asc-for-iot/quickstart-create-custom-alerts"}],"url":"https://www.examtopics.com/discussions/microsoft/view/26528-exam-az-220-topic-5-question-8-discussion/","answer_ET":"","exam_id":49,"question_text":"DRAG DROP -\nYou have 100 devices that connect to an Azure IoT hub.\nYou need to be notified about failed local logins to a subset of the devices.\nWhich three actions should you perform in sequence? To answer, move the appropriate actions from the list of actions to the answer area and arrange them in the correct order.\nSelect and Place:\n//IMG//","question_id":138,"answers_community":[],"answer_description":"Step 1: Enable Azure Security Center for IoT\nSecurity alerts, such as failed local IoT hub logins, are stored in AzureSecurityOfThings.SecurityAlert table in the Log Analytics workspace configured for the\nAzure Security Center for IoT solution.\nStep 2: Select a device security group\nUpdate a device security group..\nStep 3: Create a custom alert rule\n..by creating a custom alert rule\nReference:\nhttps://docs.microsoft.com/bs-latn-ba/azure/asc-for-iot/how-to-security-data-access https://docs.microsoft.com/en-us/rest/api/securitycenter/devicesecuritygroups/createorupdate","topic":"5","isMC":false,"question_images":["https://www.examtopics.com/assets/media/exam-media/04123/0014600001.jpg"]},{"id":"SuisaD3E5cvUqKLtJmR8","exam_id":49,"answer":"AE","discussion":[{"comment_id":"484523","content":"- From Hub1, create a new IoT device.\n- On the new Raspberry Pi device, modify the connection string.","upvote_count":"2","timestamp":"1637611080.0","poster":"Marusyk"}],"isMC":true,"question_images":[],"choices":{"C":"Upgrade Hub1 to the standard tier.","D":"From Hub1, create a new consumer group.","E":"From Hub1, create a new IoT device.","B":"From Hub1, modify the device shared access policy.","A":"On the new Raspberry Pi device, modify the connection string."},"answer_images":[],"url":"https://www.examtopics.com/discussions/microsoft/view/66561-exam-az-220-topic-5-question-9-discussion/","answers_community":[],"answer_ET":"AE","question_text":"You have an Azure IoT solution that includes a basic tier Azure IoT hub named Hub1 and a Raspberry Pi device named Device1. Device1 connects to Hub1.\nYou back up Device1 and restore the backup to a new Raspberry Pi device.\nWhen you start the new Raspberry Pi device, you receive the following error message in the diagnostic logs of Hub1: \"409002 LinkCreationConflict.\"\nYou need to ensure that Device1 and the new Raspberry Pi device can run simultaneously without error.\nWhich two actions should you perform? Each correct answer presents part of the solution.\nNOTE: Each correct selection is worth one point.","unix_timestamp":1637611080,"timestamp":"2021-11-22 20:58:00","topic":"5","answer_description":"Note: Symptoms -\nYou see the error 409002 LinkCreationConflict in logs along with device disconnection or cloud-to-device message failure.\n\nCause -\nGenerally, this error happens when IoT Hub detects a client has more than one connection. In fact, when a new connection request arrives for a device with an existing connection, IoT Hub closes the existing connection with this error.\nReference:\nhttps://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-troubleshoot-error-409002-linkcreationconflict#symptoms https://devblogs.microsoft.com/iotdev/understand-different-connection-strings-in-azure-iot-hub/","question_id":139},{"id":"A5Nk61zx2pNfoMB8qMHo","exam_id":49,"answers_community":[],"answer_images":[],"answer_ET":"D","question_text":"You have an Azure IoT hub that is being taken from prototype to production.\nYou plan to connect IoT devices to the IoT hub. The devices have hardware security modules (HSMs).\nYou need to use the most secure authentication method between the devices and the IoT hub. Company policy prohibits the use of internally generated certificates.\nWhich authentication method should you use?","discussion":[{"timestamp":"1634705100.0","upvote_count":"1","content":"I like this website. Keep it up.\nhttps://saadahsan.com/","poster":"amina67542","comment_id":"464918"},{"poster":"kisskeo","upvote_count":"2","content":"D - Correct","timestamp":"1634674140.0","comment_id":"464813"}],"topic":"6","question_images":[],"question_id":140,"answer_description":"Purchase X.509 certificates from a root certificate authority (CA). This method is recommended for production environments.\nThe hardware security module, or HSM, is used for secure, hardware-based storage of device secrets, and is the most secure form of secret storage. Both X.509 certificates and SAS tokens can be stored in the HSM\nReference:\nhttps://docs.microsoft.com/en-us/azure/iot-dps/concepts-security","url":"https://www.examtopics.com/discussions/microsoft/view/64369-exam-az-220-topic-6-question-10-discussion/","timestamp":"2021-10-19 22:09:00","isMC":true,"answer":"D","unix_timestamp":1634674140,"choices":{"B":"a certificate thumbprint","D":"An X.509 certificate signed by a root certification authority (CA).","A":"an X.509 self-signed certificate","C":"a symmetric key"}}],"exam":{"numberOfQuestions":174,"isMCOnly":false,"provider":"Microsoft","isImplemented":true,"isBeta":false,"id":49,"lastUpdated":"12 Apr 2025","name":"AZ-220"},"currentPage":28},"__N_SSP":true}