{"pageProps":{"questions":[{"id":"Umngc1rbgtS0Bt2AsZHJ","answer":"B","exam_id":68,"answers_community":["B (56%)","D (44%)"],"topic":"2","answer_ET":"B","url":"https://www.examtopics.com/discussions/microsoft/view/100177-exam-dp-300-topic-2-question-30-discussion/","question_images":[],"discussion":[{"comment_id":"1332465","poster":"voodoo_sh","timestamp":"1735312980.0","upvote_count":"1","content":"Selected Answer: B\nThe account used for the SQL Server Agent service needs the \"Log on as a service\" user right. This permission allows the account to run as a service, which is essential for the SQL Server Agent to function properly.\n\nThe \"Log on as a batch job\" user right is not required for the SQL Server Agent service. It is typically used for accounts that need to run batch jobs, such as scheduled tasks or scripts."},{"upvote_count":"2","content":"Selected Answer: B\nI believe this to be B because of this:\nhttps://learn.microsoft.com/en-us/sql/ssms/agent/select-an-account-for-the-sql-server-agent-service?view=sql-server-ver16#windows-domain-account-permissions","timestamp":"1730852160.0","comment_id":"1207089","poster":"JJJR"},{"upvote_count":"1","timestamp":"1710272820.0","comment_id":"1005964","content":"For improved security, select This account, which specifies a Windows domain account. The Windows domain account that you specify must have the following permissions:\n\nIn all Windows versions, permission to log on as a service (SeServiceLogonRight)\n\nhttps://learn.microsoft.com/en-us/sql/ssms/agent/select-an-account-for-the-sql-server-agent-service?view=sql-server-ver16","poster":"igorclapa"},{"content":"Selected Answer: B\n\"Log on as a service\" is the minimum for the SQL Server Agent. And it is not specified if the rebuild will be in a batch or SQL script.","timestamp":"1709218020.0","upvote_count":"1","comment_id":"995117","poster":"[Removed]"},{"timestamp":"1709185020.0","content":"Selected Answer: B\nSQL Agent services needs \"log on as a service\" local security policy to up and run SQL agent services which can be utilized to trigger any job including index job","comment_id":"992751","upvote_count":"1","poster":"bsk1983"},{"timestamp":"1706279220.0","comment_id":"963703","upvote_count":"1","poster":"zafara55","content":"D is correct."},{"content":"https://learn.microsoft.com/en-us/azure/azure-sql/managed-instance/job-automation-managed-instance?view=azuresql-mi\nif index-related task is a scheduled task, then batch user is the correct answer.","comment_id":"949250","upvote_count":"1","poster":"vcloudpmp","timestamp":"1705007040.0"},{"content":"To perform its functions, SQL Server Agent must be configured to use the credentials of an account that is a member of the sysadmin fixed server role in SQL Server. The account must have the following Windows permissions:\n- Log on as a service (SeServiceLogonRight)\nhttps://learn.microsoft.com/en-us/sql/ssms/agent/configure-sql-server-agent?view=sql-server-ver16","poster":"viktor1229","timestamp":"1701937080.0","upvote_count":"4","comment_id":"916941"},{"poster":"amazonalex","upvote_count":"3","timestamp":"1698304560.0","comment_id":"881228","content":"B is correct, because Log On as a Service is a required privilege for sql agent account.\nhttps://learn.microsoft.com/en-us/sql/ssms/agent/select-an-account-for-the-sql-server-agent-service?view=sql-server-ver16"},{"timestamp":"1697471340.0","poster":"PMiao","content":"Selected Answer: D\nTo configure a SQL Server Agent job on an instance of SQL Server on Azure Virtual Machines (VMs) to rebuild indexes of the databases hosted on the VM, you need to assign the Log on as a batch job user right to the account that will be used by the agent.\n\nTherefore, the correct answer is D. Log on as a batch job.","comments":[{"comment_id":"1058182","content":"The answer is false.\nTo configure a SQL Server Agent job on an instance of SQL Server on Azure Virtual Machines (VMs) to rebuild indexes of the databases hosted on the VM, you must assign the \"Log on as a service\" permission to the account that will be used by the agent.\nThe \"Log on as a batch job\" permission is not required to run a SQL Server Agent job. It allows a user to log on as a batch job, which is not required to run SQL Server Agent jobs.\nTherefore, the correct answer is (B) Log on as a service.","poster":"VikJo1978","timestamp":"1714495500.0","upvote_count":"2"}],"upvote_count":"4","comment_id":"871891"},{"upvote_count":"4","content":"Log on as a service: It determines which service accounts can register a process as a service.\n\nLog on as a batch job: When executing scheduled tasks in the context of a different user, SQL Server Agent will first create a new “batch logon session” that runs in the security context of this user. A batch logon session is a session created without any interaction from the user, as opposed to an “interactive” logon session, which is created when a user physically logs on to the machine. This permission enables SQL Server Agent to create a batch logon session.\n\nD is the correct answer.","poster":"U_C","timestamp":"1696387200.0","comment_id":"860563"},{"comment_id":"823251","content":"But the account should be a service account which will make sense \"Log on as a service\" B is correct","timestamp":"1693108260.0","upvote_count":"2","poster":"HENRYARDILA"},{"poster":"HENRYARDILA","comments":[{"comment_id":"858620","content":"Who is Bach, the singer?","comments":[{"content":"He's a composer, not a singer","upvote_count":"2","poster":"asduta","comments":[{"poster":"ofzrgrz","comment_id":"1002013","timestamp":"1709869800.0","content":"but at least J. Sebastian Batch was filling his audio data pipelines like crazy","upvote_count":"1"}],"timestamp":"1702607460.0","comment_id":"923620"}],"upvote_count":"2","timestamp":"1696233300.0","poster":"tsatsos"}],"timestamp":"1693108140.0","content":"Log as a Bach job is the way to proceed here.","comment_id":"823249","upvote_count":"2"},{"upvote_count":"2","poster":"kkkiet","timestamp":"1692589620.0","comment_id":"816255","content":"D. Log on as a batch job","comments":[{"content":"The \"Log on as a batch job\" user right is required for a user account to be able to run batch files or scripts, which is what SQL Server Agent uses to perform index rebuilds. By granting this right, the account will have sufficient privileges to perform the necessary actions, but no more than what is required for the specific task.\n\nThe other user rights listed - \"Increase scheduling priority\", \"Log on as a service\", and \"Profile system performance\" - are not required for this particular task and would provide more privileges than necessary, violating the principle of least privilege.","upvote_count":"7","poster":"kkkiet","timestamp":"1692589680.0","comment_id":"816256"}]}],"question_id":116,"timestamp":"2023-02-21 06:47:00","unix_timestamp":1676958420,"choices":{"B":"Log on as a service","A":"Increase scheduling priority","D":"Log on as a batch job","C":"Profile system performance"},"answer_description":"","question_text":"You have an instance of SQL Server on Azure Virtual Machines named VM1.\n\nYou plan to schedule a SQL Server Agent job that will rebuild indexes of the databases hosted on VM1.\n\nYou need to configure the account that will be used by the agent. The solution must use the principle of least privilege.\n\nWhich operating system user right should you assign to the account?","isMC":true,"answer_images":[]},{"id":"LFmmIfIMv1vcqn6N0YZ7","question_images":[],"question_text":"You have an Azure subscription that contains an instance of SQL Server on an Azure virtual machine named SQLVM1 and a user named User1. SQLVM1 hosts a database named DB1.\n\nYou need to ensure that User1 can create a scheduled task to perform a full backup of DB1. The solution must use the principle of least privilege.\n\nWhich built-in database role should you assign to User1?","choices":{"C":"SQLAgentUserRole","D":"SQLAgentOperatorRole","B":"SQLAgentReaderRole","A":"db_owner"},"answer_description":"","exam_id":68,"question_id":117,"answer_images":[],"topic":"2","isMC":true,"unix_timestamp":1674286380,"answer_ET":"C","answer":"C","answers_community":["C (82%)","Other"],"timestamp":"2023-01-21 08:33:00","url":"https://www.examtopics.com/discussions/microsoft/view/96270-exam-dp-300-topic-2-question-31-discussion/","discussion":[{"comments":[{"poster":"Pranava_GCP","comment_id":"871282","content":"Tested the same, the answer is C, SQLAgentUserRole which the least privilege apply.","upvote_count":"1","timestamp":"1697404200.0"}],"poster":"U_C","comment_id":"862580","upvote_count":"7","content":"As Gocsan said, I tested by using his settings. Yes, SQLAgentUserRole can successfully backup the database from a scheduled job.\n\nThe answer is C, SQLAgentUserRole.","timestamp":"1696549260.0"},{"content":"Selected Answer: C\nThe SQLAgentUserRole allows users to create and manage their own jobs but does not grant them access to jobs created by others. This role provides the necessary permissions without giving excessive privileges.","upvote_count":"1","poster":"voodoo_sh","comment_id":"1332558","timestamp":"1735320780.0"},{"poster":"erz","timestamp":"1722578820.0","comment_id":"1138284","upvote_count":"1","content":"Selected Answer: A\nUnfortunately user need \"to perform a full backup of DB1\" and this is only possible with \"db_owner\" role. If the goal is to strictly adhere to the principle of least privilege, you would ideally create a custom role or grant specific permissions tailored to the exact needs of User1. User need write permision for backup.\nSo, yes, question is successfully made confusing!"},{"poster":"NiazDawar","comments":[{"comment_id":"1136754","upvote_count":"1","poster":"NiazDawar","content":"Question is not clear well. but its seems the job is not belong to user1 hence user will be given \"D-SQLAgentOperatorRole\" permission to manage local jobs. \n\nRegarding \"C - SQLAgentUserRole\" if the jobs belong to user1 than it means that user1 already have SQLAgentUserRole role.","timestamp":"1722422940.0"}],"comment_id":"1136752","upvote_count":"2","timestamp":"1722422640.0","content":"Selected Answer: C\nSQLAgentUserRole \nControl permission for job and schedules that they own.\n\nSQLAgentReaderRole \nAll permission of SQLAgentUserRole plus permission to view the list of all available jobs and schedules.\n\nSQLAgentOperatorRole \nPermission to manage local jobs and schedules. View properties for operators and proxies and enumerate all available proxies and alerts"},{"comment_id":"1115117","content":"Selected Answer: C\nQuestion is about least permissions. So Answer is C\n\nSQLAgentUserRole is the least privileged of the SQL Server Agent fixed database roles.\n\nSQLAgentOperatorRole is the most privileged of the SQL Server Agent fixed database roles.","poster":"yyc585","upvote_count":"1","timestamp":"1720255440.0"},{"timestamp":"1709218200.0","content":"Selected Answer: C\nSQLAgentUserRole can create jobs and schedules. It will miss db_owner or db_backupoperator to create the backup.","comment_id":"995121","poster":"[Removed]","upvote_count":"2"},{"upvote_count":"2","poster":"klayytech","comment_id":"985027","timestamp":"1708333680.0","content":"Selected Answer: C\nOperator for receiving the notifications, the answer is C"},{"poster":"klayytech","upvote_count":"2","timestamp":"1707243420.0","comment_id":"974002","content":"Selected Answer: C\nC, SQLAgentUserRole (least privilege)"},{"content":"Operator for receiving the notifications, the answer is C","timestamp":"1706338200.0","upvote_count":"3","poster":"hussamAlHunaiti","comment_id":"964343"},{"comment_id":"928344","poster":"SHABbirmohammed","timestamp":"1703075280.0","content":"C, SQLAgentUserRole I did test this in the SQL server on Azure VM, You have to assign the user the db-Backupoperate role on the target database. SQLAgentUserRole is sufficient to create/schedule a sql agent job","upvote_count":"3"},{"upvote_count":"4","poster":"Antonee","comment_id":"873353","content":"Selected Answer: C\nC, SQLAgentUserRole (least privilege)","timestamp":"1697612340.0"},{"upvote_count":"3","comment_id":"861657","timestamp":"1696468020.0","poster":"U_C","content":"I just did real tests. All of these 3 roles, SQLAgentReaderRole, SQLAgentUserRole, and SQLAgentOperatorRole can NOT create a database backup if the user is NOT in the \"db_backupoperator\" role on the target DB. Those 3 roles only give the user to create a scheduled job but the user doesn't have the permission to create a DB backup. I got the following error:\n\nExecuted as user: TESTER. The server principal \"TESTER\" is not able to access the database \"sysdb\" under the current security context. [SQLSTATE 08004] (Error 916) BACKUP DATABASE is terminating abnormally. [SQLSTATE 42000] (Error 3013). The step failed.\n\nYou have to assign the user the db-Backupoperate role on the target database.\n\nIf the user is in the db_owner role, the user can do the database backup but the user can not set up a scheduled job if it is not in one of those 3 SQLAgent Roles.\n\nIt is supprise to me. If I am wrong, please let me know. Thanks"},{"poster":"Gocsan","content":"I've tested this out by actually setting up a test user that has db_backupoperator role on a test DB and has the SQLAgentUserRole role on the msdb DB. I then logged in as the test user to set up a scheduled job that performs a backup of the test DB. It succeeds, so the SQLAgentUserRole is all that is needed, which is the least privilege role.","timestamp":"1694894940.0","comment_id":"841388","upvote_count":"3"},{"upvote_count":"2","poster":"KIET2131","content":"Selected Answer: D\nD. SQLAgentOperatorRole","timestamp":"1693700940.0","comment_id":"827606"},{"upvote_count":"1","poster":"kkkiet","timestamp":"1692589920.0","comment_id":"816262","content":"D. SQLAgentOperatorRole\nThe \"SQLAgentOperatorRole\" role allows the user to perform various SQL Server Agent operations, including creating and modifying jobs and schedules. This role provides the necessary permissions for User1 to create a scheduled task to perform a full backup of DB1, but no more than what is needed."},{"content":"If you use windows scheduled task for the backup effort, then the provided answer will make sense. But I am not sure if this is where this question is intended to go.","timestamp":"1690202520.0","poster":"alexatl","upvote_count":"1","comment_id":"786616"},{"content":"Correction: Ans: C","poster":"Daemon69","comment_id":"783092","upvote_count":"2","timestamp":"1689917640.0"},{"content":"Ans B. SQLAgentUserRole allows users to create jobs and to manage jobs that they create. It didn't say that you need to run other jobs that you don't own.","timestamp":"1689917580.0","comment_id":"783091","poster":"Daemon69","comments":[{"content":"SQLAgentUserRole = Answer B. \nAnyway it is correct. \n\n\"To configure a user to create or execute Microsoft SQL Server Agent jobs, you must first add an existing SQL Server login or msdb role to one of the following SQL Server Agent fixed database roles in the msdb database: SQLAgentUserRole, SQLAgentReaderRole, or SQLAgentOperatorRole.\" .... where SQLAgentUserRole has the least privilege\n\nhttps://learn.microsoft.com/en-us/sql/ssms/agent/configure-a-user-to-create-and-manage-sql-server-agent-jobs?view=sql-server-ver16","comment_id":"785505","timestamp":"1690117020.0","poster":"licna","upvote_count":"1","comments":[{"poster":"licna","upvote_count":"1","content":"Sorry, I meant 'SQLAgentUserRole = Answer C. '","comment_id":"785508","timestamp":"1690117080.0"}]}],"upvote_count":"2"}]},{"id":"guJILzLS3zuYUVnXm9pc","answer_images":["https://img.examtopics.com/dp-300/image231.png"],"answer_ET":"","isMC":false,"topic":"2","question_text":"HOTSPOT\n-\n\nYou have an Azure subscription that contains a logical SQL server. The server hosts two databases named db1 and db2 and an Azure AD service principal named app1.\n\nYou need to ensure that app1 can access db1. The solution must use the principle of least privilege.\n\nHow should you complete the Transact-SQL statement? To answer, select the appropriate options in the answer area.\n\nNOTE: Each correct selection is worth one point.\n\n//IMG//","answer_description":"","discussion":[{"timestamp":"1691068320.0","comments":[{"poster":"voodoo_sh","comment_id":"1332562","content":"CREATE USER FOR LOGIN and CREATE USER FROM LOGIN are both correct syntax, but in the answer you would need to pick just one.\n\nSo I would go with FROM EXTERNAL PROVIDER, since question asks about principle of least privilege.","upvote_count":"1","timestamp":"1735321320.0"}],"comment_id":"797133","upvote_count":"15","poster":"BrenFa101","content":"Actually, rereading the question it says that the logical SQL server hosts the user app1, this means tha app1 has a login on the server. This in turn means that the best way to give app1 permissions to db1 is to create user app1 from login app1"},{"timestamp":"1699935120.0","comment_id":"897194","upvote_count":"8","poster":"Cococo","content":"\"Create the service principal user in Azure SQL Database - Create the user AppSP in the SQL Database using the following T-SQL command:\n\nCREATE USER [AppSP] FROM EXTERNAL PROVIDER\nGO\n\"\nLogical server is a default container for Azure SQL Database.\n\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/authentication-aad-service-principal-tutorial?view=azuresql"},{"poster":"Dalamain","content":"As BrenFa101 pointed out... the server login already exists so we just need to create the database user linked to the server login... thus CREATE USER [app1] FROM LOGIN app1\n\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/authentication-azure-ad-logins?view=azuresql#create-user-from-login","timestamp":"1728905880.0","upvote_count":"2","comment_id":"1195469"},{"content":"Answer correct.","timestamp":"1691068080.0","poster":"BrenFa101","upvote_count":"1","comment_id":"797130"}],"exam_id":68,"answer":"","question_images":["https://img.examtopics.com/dp-300/image230.png"],"timestamp":"2023-02-03 16:08:00","url":"https://www.examtopics.com/discussions/microsoft/view/97757-exam-dp-300-topic-2-question-32-discussion/","answers_community":[],"unix_timestamp":1675436880,"question_id":118},{"id":"o1zwzlSDI9SedbT6BN0u","answer_ET":"B","question_images":[],"discussion":[{"timestamp":"1721825220.0","poster":"alexatl","upvote_count":"5","comments":[{"content":"https://learn.microsoft.com/en-us/azure/databox/data-box-overview","comment_id":"794867","timestamp":"1722482760.0","upvote_count":"2","poster":"KingChuang"}],"content":"Provided answer (B) looks right.\nDatabase bigger than 40TB, better to use Azure Data Box","comment_id":"786621"},{"timestamp":"1729027140.0","poster":"Pranava_GCP","comment_id":"871302","upvote_count":"2","content":"Selected Answer: B\nThe Microsoft Azure Data Box cloud solution lets you send terabytes of data into and out of Azure in a quick, inexpensive, and reliable way. The secure data transfer is accelerated by shipping you a proprietary Data Box storage device. Each storage device has a maximum usable storage capacity of 80 TB and is transported to your datacenter through a regional carrier. The device has a rugged casing to protect and secure data during the transit."},{"content":"Selected Answer: B\nYes The only practical solution for a db that size","comment_id":"797209","poster":"BrenFa101","timestamp":"1722695640.0","upvote_count":"2"}],"answers_community":["B (100%)"],"topic":"2","question_id":119,"answer_description":"","unix_timestamp":1674571620,"timestamp":"2023-01-24 15:47:00","answer":"B","exam_id":68,"isMC":true,"answer_images":[],"question_text":"Your on-premises network contains a server that hosts a 60-TB database named DB1. The network has a 10-Mbps internet connection.\n\nYou need to migrate DB1 to Azure. The solution must minimize how long it takes to migrate the database.\n\nWhat should you use?","url":"https://www.examtopics.com/discussions/microsoft/view/96743-exam-dp-300-topic-2-question-33-discussion/","choices":{"B":"Azure Data Box","A":"Azure Migrate","D":"Data Migration Assistant (DMA)","C":"Azure Database Migration Service"}},{"id":"zD7D1GJLFOvIoAYPw4BG","question_images":["https://img.examtopics.com/dp-300/image232.png","https://img.examtopics.com/dp-300/image233.png"],"exam_id":68,"isMC":false,"answers_community":[],"url":"https://www.examtopics.com/discussions/microsoft/view/96735-exam-dp-300-topic-2-question-34-discussion/","question_text":"HOTSPOT -\n\nYou have an Azure SQL logical server.\n\nYou run the following script.\n\n//IMG//\n\n\nFor each of the following statements, select Yes if the statement is true. Otherwise, select No.\n\nNOTE: Each correct selection is worth one point.\n\n//IMG//","answer_description":"","timestamp":"2023-01-24 13:33:00","discussion":[{"comment_id":"789615","poster":"licna","comments":[{"upvote_count":"2","timestamp":"1720256040.0","comment_id":"1115122","content":"CREATE DATABASE Database01\n (\n EDITION = 'GeneralPurpose',\n SERVICE_OBJECTIVE='GP_Gen5_2',\n MAXSIZE = 2 GB\n )\n WITH LEDGER = ON;\nGO\n\n\nhttps://learn.microsoft.com/en-us/sql/relational-databases/security/ledger/ledger-how-to-configure-ledger-database?view=sql-server-ver16&tabs=t-sql%2Ct-sql2&pivots=as1-azure-sql-database","poster":"yyc585"}],"upvote_count":"11","timestamp":"1690456080.0","content":"I think it's \nNO - as we are creating so called updatable ledger table (i.e. not append-only) , we can also delete and update rows. \nNO - the CREATE DATABASE statement does not contain \"WITH LEDGER = ON\" clause thus it can contain non-ledger tables\nNO - when the GENERATED ALWAYS columns are not specified in the CREATE statement they'll be created automatically"},{"comment_id":"881261","timestamp":"1698306120.0","upvote_count":"5","content":"I think answer is NNN:If any of the required generated always columns isn't defined in the CREATE TABLE statement and the statement includes LEDGER = ON, the system will automatically attempt to add the column...\nhttps://learn.microsoft.com/en-us/sql/t-sql/statements/create-table-transact-sql?view=sql-server-ver16#generate-always-columns","poster":"amazonalex"},{"upvote_count":"1","timestamp":"1722580620.0","poster":"erz","comment_id":"1138314","content":"ChatGPT: No, No, No\n The Orders table will allow only rows to be inserted."},{"poster":"jm2015","upvote_count":"1","timestamp":"1714032840.0","comment_id":"1053565","content":"NO\nNO\nNO, The data_type can be any integer and not datetime2"},{"comment_id":"818853","timestamp":"1692764220.0","poster":"KIET2131","content":"Answer is :NNN","upvote_count":"4"},{"timestamp":"1690697220.0","upvote_count":"1","comments":[{"comment_id":"792544","timestamp":"1690697280.0","poster":"Kanish07","content":"Answer is :\n NO \n NO\nYes","upvote_count":"2"}],"comment_id":"792542","content":"https://img.examtopics.com/dp-300/image234.png","poster":"Kanish07"},{"comment_id":"786629","upvote_count":"3","content":"answer not readable, please fix","poster":"alexatl","timestamp":"1690203360.0"},{"timestamp":"1690194780.0","upvote_count":"1","poster":"Metarineo","content":"since the image is broken, i will suggest answer: \"yes\", \"no\", \"no\"","comment_id":"786514"}],"topic":"2","answer_ET":"","question_id":120,"answer_images":["https://img.examtopics.com/dp-300/image234.png"],"answer":"","unix_timestamp":1674563580}],"exam":{"provider":"Microsoft","name":"DP-300","isImplemented":true,"numberOfQuestions":360,"isMCOnly":false,"isBeta":false,"lastUpdated":"12 Apr 2025","id":68},"currentPage":24},"__N_SSP":true}