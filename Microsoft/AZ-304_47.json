{"pageProps":{"questions":[{"id":"cPkmtxRSVyKjZOqxtNMp","discussion":[{"poster":"Ario","timestamp":"1632994980.0","comment_id":"454829","upvote_count":"30","content":"Correct Answer is B"},{"comment_id":"459069","comments":[{"comments":[{"poster":"LillyLiver","upvote_count":"2","content":"Well, we have two separate requirements for this question;\n\n1: Once App1 is migrated to Azure, you must ensure that new data can be written to the app, and the modification of new and existing data is prevented for a period of three years.\n2: On-premises users and services must be able to access the Azure Storage account that will host the data in App1.\n\nThe question is;\n\"You migrate App1 to Azure.\nYou need to ensure that the data storage for App1 meets the security and compliance requirements.\nWhat should you do?\"\n\nRBAC would surely handle the bullet 2. But I think this question is actually suggesting that the storage needs immutability enabled so 'modification of new and existing data is prevented...'.\n\nTo me, the access policy would handle the requirement of both objectives. It will prevent the modification of data, but still allow the users to access the storage account. So I would choose 'B' for this question.","comment_id":"629595","timestamp":"1657464000.0"}],"content":"But isn't this feature retention policy instead of access policy?","upvote_count":"1","comment_id":"562887","poster":"marda304","timestamp":"1646688120.0"}],"content":"\"Once App1 is migrated to Azure, you must ensure that new data can be written to the app, and the modification of new and existing data is prevented for a period of three years.\"\n\nAnswer is B","upvote_count":"11","timestamp":"1633677240.0","poster":"syu31svc"},{"timestamp":"1670901240.0","poster":"DylanCoffee","content":"I think, 1,Once App1 is migrated to Azure, you must ensure that new data can be written to the app, and the modification of new and existing data is prevented for a period of three years.\n2,On-premises users and services must be able to access the Azure Storage account that will host the data in App1.\n3,Access to the public endpoint of the Azure Storage account that will host the App1 data must be prevented.\nthese three items belong to security and compliance requirement.\nIt can be met with security settings - shared access signature - allow permissions and expiry date of storage account. So answer should be B.","upvote_count":"1","comment_id":"743548"},{"content":"security and compliance requirements = Private access policy for the storage account\nB","poster":"sapien45","comment_id":"614666","timestamp":"1654879740.0","upvote_count":"1"},{"content":"If the question is to meet the authentication and authorization requirements, the answer should be A. If it's to meet the Security and Compliance Requirements, the answer should be B, IMHO","comment_id":"585747","poster":"vuphongtran","timestamp":"1649939460.0","upvote_count":"1"},{"timestamp":"1648253820.0","comment_id":"575306","poster":"megapokerbum","upvote_count":"2","content":"I don't know if this applies but it does lend to the answer possibly being correct. On https://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/howto-assign-access-portal\nUse Azure RBAC to assign a managed identity access to another resource\n\nAfter you've enabled managed identity on an Azure resource, such as an Azure VM or Azure virtual machine scale set:\n\n Sign in to the Azure portal using an account associated with the Azure subscription under which you have configured the managed identity.\n\n Navigate to the desired resource on which you want to modify access control. In this example, we are giving an Azure virtual machine access to a storage account, so we navigate to the storage account.\n\n Select Access control (IAM).\n\n Select Add > Add role assignment to open the Add role assignment page.\n\n Select the role and managed identity. For detailed steps, see Assign Azure roles using the Azure portal."},{"poster":"therealss","comments":[{"poster":"Axial30z","comment_id":"563631","upvote_count":"2","timestamp":"1646788260.0","content":"The question says you need to meet the security and compliance requirements\n'Access to the public endpoint of the Azure Storage account that will host the App1 data must be prevented.'\n\nOn this basis I think an access policy will fit the solution."}],"upvote_count":"1","content":"I'm not so sure. The provided answer/explanation of A seems pretty compelling.\nMaybe the process of elimination might help here. Answer B saids \"Create an access policy for the blob service\". This pretty much translates to use shared access signatures (SAS tokens). But this is contradictory to the requirement which saids \"To access the resources in Azure, App1 must use the managed identity of the virtual machines that will host the app.\" SAS tokens aren't tied to IDs (except user delegated SAS, but I don't think that's what they're after here). RBAC, on the other hand, is 100% tied to a credential, such as the aforementioned managed identity. So all in all, I vote for A, \"Create Azure RBAC assignments.\"","timestamp":"1645900080.0","comment_id":"556918"},{"timestamp":"1643824680.0","upvote_count":"1","content":"Selected Answer: B\nvoting B","comment_id":"539056","poster":"icedog"},{"content":"User delegation SAS and stored access policy would seem to do it.\nhttps://docs.microsoft.com/en-us/azure/storage/common/storage-sas-overview\nhttps://docs.microsoft.com/en-us/rest/api/storageservices/create-user-delegation-sas\nhttps://docs.microsoft.com/en-us/rest/api/storageservices/define-stored-access-policy\nhttps://docs.microsoft.com/en-us/rest/api/storageservices/set-container-acl","comment_id":"527868","upvote_count":"1","poster":"yyuryyucicuryyforme","timestamp":"1642621980.0"},{"upvote_count":"1","timestamp":"1642003140.0","poster":"china5000","content":"Correct answer is: B - Create an access policy for the blob service","comment_id":"522281"},{"content":"Selected Answer: B\nthe correct is b","poster":"massnonn","comment_id":"515984","timestamp":"1641237480.0","upvote_count":"2"},{"content":"Selected Answer: B\nOnly policy will do.\n\n\"Once App1 is migrated to Azure, you must ensure that new data can be written to the app, and the modification of new and existing data is prevented for a period of three years.\n\nAnswer is B","comment_id":"513296","upvote_count":"2","poster":"mtk93","timestamp":"1640863740.0"},{"upvote_count":"1","poster":"Dpejic","comment_id":"508452","timestamp":"1640342820.0","content":"On exam 24.12.2021"},{"timestamp":"1640262420.0","upvote_count":"1","poster":"Dpejic","content":"Appere on exam 23-dec-2021","comment_id":"507864"},{"upvote_count":"2","timestamp":"1640113140.0","content":"Selected Answer: B\nAnswer is B","poster":"Seijkoh","comment_id":"506372"},{"comment_id":"463270","poster":"tteesstt","upvote_count":"5","content":"The answer is B.","timestamp":"1634414160.0"}],"topic":"8","answers_community":["B (100%)"],"answer_description":"","timestamp":"2021-09-30 11:43:00","answer":"B","url":"https://www.examtopics.com/discussions/microsoft/view/63332-exam-az-304-topic-8-question-2-discussion/","choices":{"C":"Modify the access level of the blob service.","D":"Implement Azure resource locks.","A":"Create Azure RBAC assignments.","B":"Create an access policy for the blob service."},"question_text":"You migrate App1 to Azure.\nYou need to ensure that the data storage for App1 meets the security and compliance requirements.\nWhat should you do?","isMC":true,"question_id":231,"unix_timestamp":1632994980,"answer_ET":"B","answer_images":[],"question_images":[],"exam_id":53},{"id":"WGwYIBCbTyY59FiIr1pl","url":"https://www.examtopics.com/discussions/microsoft/view/61225-exam-az-304-topic-8-question-3-discussion/","question_images":["https://www.examtopics.com/assets/media/exam-media/04027/0003300001.png"],"answer_description":"Box 1: Azure AD Identity Protection\nAzure AD Identity Protection helps you manage the roll-out of Azure AD Multi-Factor Authentication (MFA) registration by configuring a Conditional Access policy to require MFA registration no matter what modern authentication app you are signing in to.\nScenario: Users that manage the production environment by using the Azure portal must connect from a hybrid Azure AD-joined device and authenticate by using\nAzure Multi-Factor Authentication (MFA).\nBox 2: Sign-in risk policy...\nScenario: The Litware.com tenant has a conditional access policy named capolicy1. Capolicy1 requires that when users manage the Azure subscription for a production environment by using the Azure portal, they must connect from a hybrid Azure AD-joined device.\nIdentity Protection policies we have two risk policies that we can enable in our directory.\n✑ Sign-in risk policy\n✑ User risk policy\nReference:\nhttps://docs.microsoft.com/en-us/azure/active-directory/identity-protection/howto-identity-protection-configure-mfa-policy https://docs.microsoft.com/en-us/azure/active-directory/identity-protection/howto-identity-protection-configure-risk-policies","exam_id":53,"answer_ET":"","answers_community":[],"topic":"8","answer_images":["https://www.examtopics.com/assets/media/exam-media/04027/0003300002.png"],"question_id":232,"unix_timestamp":1630466940,"question_text":"HOTSPOT -\nYou need to ensure that users managing the production environment are registered for Azure MFA and must authenticate by using Azure MFA when they sign in to the Azure portal. The solution must meet the authentication and authorization requirements.\nWhat should you do? To answer, select the appropriate options in the answer area.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","timestamp":"2021-09-01 05:29:00","isMC":false,"answer":"","discussion":[{"comment_id":"436814","upvote_count":"37","poster":"pentium75","timestamp":"1630466940.0","comments":[{"content":"You may confirm?","comment_id":"438377","upvote_count":"1","timestamp":"1630653540.0","poster":"MTK94"},{"comment_id":"452052","content":"Agree with you. Grant Control in Conditional access policy is better option for 2nd question","timestamp":"1632695760.0","upvote_count":"1","poster":"leo_az300"}],"content":"I disagree. At least with the second answer.\n\nWe already have Capolicy1 that \"requires that when users manage the Azure subscription for a production environment by using the Azure portal, they must connect from a hybrid Azure AD-joined device.\"\n\nThe easiest way to achieve MFA would be modifying the modifying Grant control in Capolicy1 (just adding \"Require MFA\" there). \"Sign-in risk policy\" seems not applicable here, as the MFA requirement is not linked to any risk conditions (like 'when logging on from certain countries', 'when account is at risk' etc.).\n\nThe first answer is more complex. Enabling \"Security Default\" would meet the requirement (and enforce users to register for MFA). But it would also enforce MFA for administrative access (thus make the other question futile), and it would have other effects (like blocking legacy authentication protocols, and we don't know if that is desired).\n\nMFA Registration Policy is part of azure AD Identity Protection. So I'd go for\n\n1: Azure AD Identity Protection\n2: Grant control in capolicy1"},{"comment_id":"470612","upvote_count":"7","timestamp":"1635676680.0","content":"1: Azure AD Identity Protection\n2: Grant control in capolicy1","poster":"student22"},{"poster":"Repohunter","comments":[{"poster":"AberdeenAngus","comment_id":"623053","content":"I thought Security Defaults looked good, then I read \"If you're using Conditional Access in your environment today, security defaults won't be available to you.\"\nhttps://docs.microsoft.com/en-us/azure/active-directory/fundamentals/concept-fundamentals-security-defaults#protect-privileged-activities-like-access-to-the-azure-portal","timestamp":"1656305220.0","upvote_count":"1"}],"comment_id":"608557","content":"It says to register the users for Azure MFA\n\nSecurity defaults in Azure AD\nArticle\n04/24/2022\n8 minutes to read\n8 contributors\n\n\nMicrosoft is making security defaults available to everyone, because managing security can be difficult. Identity-related attacks like password spray, replay, and phishing are common in today's environment. More than 99.9% of these identity-related attacks are stopped by using multi-factor authentication (MFA) and blocking legacy authentication. The goal is to ensure that all organizations have at least a basic level of security enabled at no extra cost.\n\nSecurity defaults\n make it easier to help protect your organization from these identity-related attacks with preconfigured security settings:\n\nRequiring all users to register for Azure AD Multi-Factor Authentication.\nRequiring administrators to do multi-factor authentication.\nRequiring users to do multi-factor authentication when necessary.\nBlocking legacy authentication protocols.\nProtecting privileged activities like access to the Azure portal.","timestamp":"1653780300.0","upvote_count":"3"},{"comment_id":"508453","poster":"Dpejic","content":"On exam 24.12.2021","upvote_count":"3","timestamp":"1640342820.0"},{"content":"https://docs.microsoft.com/en-us/azure/active-directory/identity-protection/howto-identity-protection-configure-mfa-policy\n\n1st drop down is correct\n\nhttps://docs.microsoft.com/en-us/azure/active-directory/conditional-access/concept-conditional-access-grant\n\n2nd drop down is grant control in cappolicy1","upvote_count":"4","comment_id":"459045","timestamp":"1633673580.0","poster":"syu31svc"},{"poster":"poplovic","comment_id":"452149","content":"1. Azure AD identity protection\nAzure AD Identity Protection helps you manage the roll-out of Azure AD Multi-Factor Authentication (MFA) registration by configuring a Conditional Access policy to require MFA registration no matter what modern authentication app you are signing in to.\nSee instructions here\nhttps://docs.microsoft.com/en-us/azure/active-directory/identity-protection/howto-identity-protection-configure-mfa-policy#policy-configuration\n\n\"Per-user MFA...\" could not be used if conditional access policy is being used. See here https://docs.microsoft.com/en-us/azure/active-directory/authentication/howto-mfa-userstates\n\n\"security defaul..\" also not applicable due to the usage of conditional access policy, see https://docs.microsoft.com/en-us/azure/active-directory/fundamentals/concept-fundamentals-security-defaults\n\n2. the easiest way to configure the \"Grant control in capolicy1\" (verified in the portal)","timestamp":"1632715380.0","upvote_count":"3"},{"comment_id":"452054","poster":"leo_az300","upvote_count":"4","content":"1: Azure AD Identity Protection\nLitware.com has Conditional Access Policy. Don't enable or enforce per-user Azure AD Multi-Factor Authentication if you use Conditional Access policies.\nhttps://docs.microsoft.com/en-us/azure/active-directory/authentication/howto-mfa-userstates\nTherefor it should NOT be Per user MFA \n\n2: Grant control in capolicy1\nEnabling Azure AD Multi-Factor Authentication using Conditional Access policies is the recommended approach to protect users. Conditional Access is an Azure AD Premium P1 or P2 feature that lets you apply rules to require MFA as needed in certain scenarios. Grant Control is one step in process to enable MFA in Conditional Access Policy.","timestamp":"1632696600.0"},{"content":"came in exam on 20-sep-21, I passed, I choose given one","comment_id":"448151","poster":"nkv","timestamp":"1632134280.0","upvote_count":"4"},{"upvote_count":"1","comment_id":"439482","poster":"ravi000001","timestamp":"1630819680.0","content":"Box 1)Per user MFA as users have P2 license\nBox 2)Grant control in capolicy1","comments":[{"timestamp":"1631436420.0","content":"Per user MFA is available even on AAD free tier.","poster":"jjdevine","upvote_count":"1","comment_id":"443367"},{"comment_id":"444225","content":"per-user MFA is termed as legacy over conditional access policies.\nAs security defaults enforces additional controls as well, IDP MFA registration policy looks suitable.","poster":"J4U","timestamp":"1631576520.0","upvote_count":"1"}]}]},{"id":"qwwoprGFAQ5nOfEeS65L","topic":"8","answer":"A","question_id":233,"answer_images":[],"answers_community":["A (86%)","14%"],"url":"https://www.examtopics.com/discussions/microsoft/view/61226-exam-az-304-topic-8-question-4-discussion/","answer_description":"","isMC":true,"discussion":[{"comments":[{"upvote_count":"2","content":"Yes you are right. In substance with private peering the on-premises network is considered in azure as any other VNet so it is possible to include it in a Private Endpoint for a Storage Account.\n\nhttps://docs.microsoft.com/en-us/azure/expressroute/expressroute-circuit-peerings#routingdomains","comment_id":"493287","timestamp":"1638553440.0","poster":"rdemontis"},{"comment_id":"452125","timestamp":"1632706620.0","content":"some update for other options:\nService Endpoint:\nBy default, Service Endpoints are enabled on subnets configured in Azure virtual networks. Endpoints can't be used for traffic from your premises to Azure services. If you want to allow traffic from on-premises, you must also allow public (typically, NAT) IP addresses from your on-premises or ExpressRoute. \n\nMicrosoft Peering to ExpressRoute:\nFor Microsoft peering, the NAT IP addresses are either customer provided or provided by the service provider. To allow access to your service resources, you must allow these public IP addresses in the resource IP firewall setting.","poster":"leo_az300","upvote_count":"6"}],"comment_id":"452124","poster":"leo_az300","timestamp":"1632706560.0","content":"The answer should be Private Endpoint.\nBelow are requirements for storage account used by app1.\n\nOnce App1 is migrated to Azure, you must ensure that new data can be written to the app, and the modification of new and existing data is prevented for a period of three years.\n--immutable stoarge. not applicable in this question\n\nOn-premises users and services must be able to access the Azure Storage account that will host the data in App1\n---Private Endpoint securely connect to storage accounts from on-premises networks that connect to the VNet using VPN or ExpressRoutes with private-peering.\n\nAccess to the public endpoint of the Azure Storage account that will host the App1 data must be prevented.\n-- Private Endpoint secure your storage account by configuring the storage firewall to block all connections on the public endpoint for the storage service.","upvote_count":"22"},{"comment_id":"436816","timestamp":"1630467120.0","upvote_count":"11","comments":[{"poster":"JCE","comment_id":"440079","upvote_count":"2","content":"Agree. The company has ExpressRoute in place that means on-prem users can reach to the services in Azure.","timestamp":"1630898100.0"},{"poster":"AyoDe","comment_id":"446159","timestamp":"1631819760.0","upvote_count":"4","content":"Microsoft peering is for access to Azure public services via public endpoints like public IPs which the question clearly states should not be allowed, with this in mind the ideal solution would be a combination of private peering (which allows connectivity to azure vnets) and a private endpoint. so id go for A private endpoint"},{"comment_id":"485417","poster":"walkwolf3","timestamp":"1637701320.0","upvote_count":"5","comments":[{"upvote_count":"1","content":"thanks for explanation","comment_id":"487180","timestamp":"1637915220.0","poster":"rdemontis"}],"content":"The better answer is A. private endpoint\n\nMicrosoft peering will use public IP to access Microsoft/Azure resources\n\nIf your ExpressRoute circuit is enabled for Azure Microsoft peering, you can access the public IP address ranges used in Azure over the circuit.\n\nSupported:\nAzure Public IP addresses for IaaS (Virtual Machines, Virtual Network Gateways, Load Balancers, etc.)\n\nhttps://docs.microsoft.com/en-us/azure/expressroute/expressroute-faqs#microsoft-peering\n\nPrivate peering will be the answer. Since it's not included, private endpoint would be the choice."}],"poster":"pentium75","content":"I'd almost go for A \"Private Endpoint\" - that is definitely required here, but it is NOT a \"Network Connectivity Solution.\" So answer seems correct, D (Microsoft Peering) - though we already have ExpressRoute."},{"content":"A is correct. Read \"Private connectivity to Azure PaaS services\" here: https://azure.microsoft.com/en-us/blog/announcing-azure-private-link/\n\nIt Says:\n\n\"With today’s announcement of Azure Private Link, you can simply create a private endpoint in your VNet and map it to your PaaS resource (Your Azure Storage account blob or SQL Database server). These resources are then accessible over a private IP address in your VNet, enabling connectivity from on-premises through Azure ExpressRoute private peering and/or VPN gateway and keep the network configuration simple by not opening it up to public IP addresses.\"","comment_id":"713257","upvote_count":"1","poster":"jp_mcgee","timestamp":"1667847600.0"},{"upvote_count":"1","comment_id":"560202","content":"Selected Answer: A\nhttps://docs.microsoft.com/en-us/azure/expressroute/expressroute-circuit-peerings#privatepeering","timestamp":"1646324040.0","poster":"arun"},{"upvote_count":"1","content":"If A is answer then question is then how on-prem will connect to storage service when connectivity is only through ExpressRoute?","comment_id":"552262","poster":"altafpatel1984","timestamp":"1645389180.0"},{"poster":"us3r","timestamp":"1644493080.0","content":"Selected Answer: A\nvote A.","comment_id":"544483","upvote_count":"1"},{"upvote_count":"2","comment_id":"529768","content":"Selected Answer: A\nThe solution must meet the security and compliance requirements. Keeping public endpoint enabled is not a secure way. Hence option A comes close to the requirement.","poster":"rinjohn","timestamp":"1642849500.0"},{"timestamp":"1641381420.0","comment_id":"517391","upvote_count":"2","content":"Selected Answer: A\nA is correct. Private endpoint is needed to have prevention of App1 data from public.","poster":"[Removed]"},{"upvote_count":"2","timestamp":"1640166780.0","poster":"Dpejic","content":"On exam today 22-Dec-21","comment_id":"506916"},{"timestamp":"1639705500.0","upvote_count":"1","comment_id":"503290","content":"Selected Answer: D\nThis answer is D.\n\nThe Security and Compliance Requirements section contains the following:\n\nOn-premises users and services must be able to access the Azure Storage account that will host the data in App1. Access to the public endpoint of the Azure Storage account that will host the App1 data must be prevented.\n\nLitware has ExpressRoute connectivity to Azure. So we can configure ExpressRoute peering for virtual networks.\nYou can set up bi-directional connectivity between your core network and Azure virtual networks (VNets). This peering lets you connect to virtual machines and cloud services directly on their private IP addresses.\n\nhttps://docs.microsoft.com/en-us/azure/expressroute/expressroute-circuit-peerings","poster":"chupacabra"},{"comments":[{"content":"Sorry A, not D","poster":"student22","comment_id":"470622","timestamp":"1635678180.0","upvote_count":"3"}],"poster":"student22","comment_id":"470619","upvote_count":"1","timestamp":"1635678120.0","content":"D \n---"},{"timestamp":"1633670580.0","comment_id":"459025","upvote_count":"5","poster":"syu31svc","content":"https://docs.microsoft.com/en-us/azure/expressroute/expressroute-circuit-peerings\n\nAzure public peering has been deprecated -> C is out\n\nMicrosoft peering is to Microsoft cloud so D is out as well\n\n\"Access to the public endpoint of the Azure Storage account that will host the App1 data must be prevented\"\n\nAnswer is A"},{"comment_id":"452157","poster":"poplovic","upvote_count":"5","content":"the best answer should be \"private peering\", \nB) is not applicable\nC) Azure public peering is deprecated and replaced by Microsoft peering\nD) Microsoft Peering is for public IP. Therefore, could not satisfy the private IP storage requirement.\n\nA) is the only feasible option left.\nIt is okay because a private endpiont must use private IP and the pre-requisite is private peering. Here is an example https://docs.microsoft.com/en-aus/azure/migrate/replicate-using-expressroute#replicate-data-by-using-an-expressroute-circuit-with-private-peering\n\nThe expressroute peering is https://docs.microsoft.com/en-us/azure/expressroute/expressroute-circuit-peerings","timestamp":"1632717420.0","comments":[{"poster":"VincentZhang","content":"Why B) is not applicable? A service Endpoint can not serve the purpose?","comment_id":"464117","comments":[{"content":"Yes, B) tick all the boxes, When you configure service endpoint, storage account only accessible from subnet that has VMs and on-prem users already have access to Apps through expressroute?","upvote_count":"1","poster":"SanjSL","comment_id":"534588","timestamp":"1643363760.0"}],"upvote_count":"1","timestamp":"1634560080.0"}]},{"content":"Remember \"you plan to migrate App1 to Azure\" so Id almost go for A. private Endpoint","comment_id":"445160","poster":"fabianvera19822","timestamp":"1631704200.0","upvote_count":"3"}],"choices":{"A":"a private endpoint","C":"Azure public peering for an ExpressRoute circuit","B":"a service endpoint that has a service endpoint policy","D":"Microsoft peering for an ExpressRoute circuit"},"exam_id":53,"question_images":[],"unix_timestamp":1630467120,"answer_ET":"A","question_text":"You plan to migrate App1 to Azure.\nYou need to recommend a network connectivity solution for the Azure Storage account that will host the App1 data. The solution must meet the security and compliance requirements.\nWhat should you include in the recommendation?","timestamp":"2021-09-01 05:32:00"},{"id":"REX1iGXnJhM3edUAsWVr","question_images":[],"answer_description":"","question_id":234,"unix_timestamp":1630467300,"answer":"A","exam_id":53,"question_text":"You plan to migrate App1 to Azure. The solution must meet the authentication and authorization requirements.\nWhich type of endpoint should App1 use to obtain an access token?","timestamp":"2021-09-01 05:35:00","answers_community":["A (63%)","D (38%)"],"topic":"8","isMC":true,"answer_images":[],"url":"https://www.examtopics.com/discussions/microsoft/view/61227-exam-az-304-topic-8-question-5-discussion/","discussion":[{"timestamp":"1630585800.0","content":"I'd go with A: IMDS\n\"A managed identity, assigned by the system, can be enabled on the VM. You can also assign one or more user-assigned managed identities to the VM. You can then request tokens for managed identities from IMDS.\"\nLINK: https://docs.microsoft.com/en-us/azure/virtual-machines/windows/instance-metadata-service?tabs=windows#managed-identity","comments":[{"timestamp":"1638328860.0","poster":"Swaminathan","content":"Check this link as well. Links I shared earlier clearly say token can be retrieved from IMDS from the VM it is running on. not outside. so i go with MS identity framework.\nThe security boundary of managed identities for Azure resources, is the resource it's being used on. All code/scripts running on a virtual machine can request and retrieve tokens for any managed identities available on it.","comment_id":"491210","upvote_count":"2"},{"upvote_count":"4","timestamp":"1638553980.0","poster":"rdemontis","comment_id":"493290","content":"Totally agree with you. IMDS provides an endpoint to request an access token from the VM. App1 is hosted on the VM so answer is A: IMDS\n\nhttps://docs.microsoft.com/en-us/azure/virtual-machines/windows/instance-metadata-service?tabs=windows#endpoint-categories"}],"poster":"SpamLover","upvote_count":"27","comment_id":"437866"},{"poster":"poplovic","comment_id":"452160","timestamp":"1632717780.0","content":"A. IMDS. Tested. \nThe requirement is \"app1 must use the managed identity of the VM that will host the app\"\nsee here https://docs.microsoft.com/en-us/azure/virtual-machines/windows/instance-metadata-service?tabs=windows#managed-identity\nand then it will show the URL given by pentium75 \n\nhttps://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/how-to-use-vm-token","upvote_count":"6"},{"poster":"smosmo","timestamp":"1739369820.0","upvote_count":"1","content":"Selected Answer: A\nApp1 first contacts IMDS (169.254.169.254) to obtain the token.\nIMDS then requests the token from Azure AD, but App1 itself never directly communicates with Azure AD for authentication.\nTherefore, the correct endpoint that App1 uses to obtain an access token is IMDS.","comment_id":"1355644"},{"timestamp":"1676354220.0","upvote_count":"1","comment_id":"808126","content":"I think: D\nBecause: \nhttps://learn.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/overview#:~:text=Azure%20AD%20authentication.-,Applications%20can%20use%20managed%20identities%20to%20obtain%20Azure%20AD%20tokens%20without%20having%20to%20manage%20any%20credentials.,-The%20following%20video\n\n\" Applications can use managed identities to obtain Azure AD tokens without having to manage any credentials.\"","poster":"omerco61"},{"timestamp":"1653474960.0","poster":"Repohunter","comment_id":"607168","content":"Selected Answer: D\nHow to use managed identities for Azure resources on an Azure VM to acquire an access token.\nhttps://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/how-to-use-vm-token","upvote_count":"1"},{"timestamp":"1649962260.0","content":"This question is a bit confusing. It asks about the type of endpoint to use. IMDS is a REST API, not an endpoint. It contains multiple endpoint categories including Managed Identity endpoint which should be the answer. As there's no \"Managed Identity\" as an answer choice, D would be the closest","upvote_count":"3","poster":"vuphongtran","comment_id":"585956"},{"content":"Selected Answer: A\nIt is A. Azure Instance Metadata Service (IMDS)","poster":"icedog","comment_id":"553877","upvote_count":"1","timestamp":"1645552080.0"},{"comment_id":"544486","content":"Selected Answer: A\nvote \nA. Azure Instance Metadata Service (IMDS)","upvote_count":"1","timestamp":"1644493260.0","poster":"us3r"},{"comment_id":"527883","poster":"yyuryyucicuryyforme","timestamp":"1642623300.0","upvote_count":"2","content":"Selected Answer: A\nIt's not D) as Microsoft identity platform relates to API access (MS Graph and others)\nMicrosoft identity platform documentation https://docs.microsoft.com/en-us/azure/active-directory/develop/\nIt's A) as per others, you call the IMDS with the URI of the Azure resource to be accessed and IMDS gives you an access token to the resource.\nhttps://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/how-to-use-vm-token"},{"comments":[{"timestamp":"1639302780.0","comment_id":"499921","upvote_count":"3","content":"Its hosted on VM so A","poster":"ZodiaC"}],"timestamp":"1638312840.0","poster":"Swaminathan","comment_id":"491046","content":"Selected Answer: D\nIMDS is accessible only within the VM\nhttps://azure.microsoft.com/en-us/blog/azure-ad-managed-service-identity-updates/","upvote_count":"2"},{"poster":"student22","upvote_count":"2","comment_id":"470639","content":"A \n---","timestamp":"1635680160.0"},{"poster":"chichi0307","upvote_count":"2","timestamp":"1635041760.0","comment_id":"466792","comments":[{"timestamp":"1635042060.0","poster":"chichi0307","upvote_count":"2","content":"i belive IMDS to retrieve token using metadata for authentication only.\non the url-\nhttps://docs.microsoft.com/en-us/azure/virtual-machines/windows/instance-metadata-service?tabs=windows#managed-identity\n\"A managed identity, assigned by the system, can be enabled on the VM. You can also assign one or more user-assigned managed identities to the VM. You can then request tokens for managed identities from IMDS. Use these tokens to authenticate with other Azure services, such as Azure Key Vault.\"","comment_id":"466794"}],"content":"i think for authrntication & authrization - option D\nhttps://docs.microsoft.com/en-us/azure/active-directory/develop/"},{"upvote_count":"2","poster":"syu31svc","content":"https://docs.microsoft.com/en-us/azure/virtual-machines/windows/instance-metadata-service?tabs=windows#managed-identity\n\nAnswer is A","comment_id":"457620","timestamp":"1633428900.0"},{"content":"A is correct. question is asking for what type of endpoint\n\nthe Azure Instance Metadata Service (IMDS) endpoint\n\nAzure AD is a service\nAzure Service Management is a API\nMicrosoft Identity platform is a development platform","poster":"leo_az300","comment_id":"452123","timestamp":"1632706500.0","upvote_count":"1"},{"comment_id":"447636","upvote_count":"2","timestamp":"1632059580.0","poster":"jpvdham","content":"I also go for A: imds. Based on: To access the resources in Azure, App1 must use the managed identity of the virtual machines that will host the app, i would say that the running on this vm can only use IMDS to impersonate the managed identity assignd to the vm."},{"comment_id":"436817","upvote_count":"3","poster":"pentium75","timestamp":"1630467300.0","content":"Of course, that is somehow a part of \"Microsoft Identity Platform,\" but you'd clearly use Azure Instance Metadata service (A) to \"obtain the token.\"\n\nhttps://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/how-to-use-vm-token"}],"choices":{"B":"Azure AD","C":"Azure Service Management","D":"Microsoft identity platform","A":"Azure Instance Metadata Service (IMDS)"},"answer_ET":"A"},{"id":"pmqFAsTMu7EbUki6Fm0B","url":"https://www.examtopics.com/discussions/microsoft/view/61228-exam-az-304-topic-8-question-6-discussion/","answer_ET":"","question_id":235,"isMC":false,"answer":"","timestamp":"2021-09-01 05:36:00","discussion":[{"content":"came in exam on 20-sep-21, I passed, I choose given one","poster":"nkv","comment_id":"448152","timestamp":"1632134340.0","upvote_count":"14"},{"comment_id":"436819","poster":"pentium75","upvote_count":"10","timestamp":"1630467360.0","content":"Sounds correct. Example in MS docs, to find SQL instances with TDS disabled, uses the \"auditIfNotExists\" effect. So \"deployIfNotExists\" would then be used to enable it.","comments":[{"poster":"MrClumsy","content":"agreed, answer seems correct!","timestamp":"1643216580.0","comment_id":"533086","upvote_count":"1"}]},{"content":"Working through possible answers:\nDeployIfNotExists is definitely required, for new or existing resources. Every MS link mentions this.\nCreating a user-assigned managed identity - a managed identity is required, but can be system or user, and a system managed id will be created automatically if one doesn't exist\nInvoke remediation - this is definitely required to remediate existing resources. We are not told that the resources do not yet exist so have to assume that some may exist\nPolicy assignment - obviously required\nPolicy def for modify effect impacts tags, so not required.\nGiven this, the order must be policy definition, policy assignment, remediation task","poster":"JayBee65","timestamp":"1655145900.0","comment_id":"615909","upvote_count":"3"},{"upvote_count":"2","comments":[{"poster":"AberdeenAngus","timestamp":"1657904940.0","content":"I think after a reread I should go with the given answer, I think they mean that the managed identity is created during the policy creation","upvote_count":"2","comment_id":"631879"}],"poster":"AberdeenAngus","timestamp":"1654061880.0","comment_id":"610016","content":"I'm going with:\n1. Create a user-assigned managed identity\n2. Create an Azure policy definition that uses the deployIfNotExists effect\n3. Create an Azure policy assignment\nThe policy uses the identity to authenticate and change the resource, see https://docs.microsoft.com/en-us/azure/governance/policy/concepts/assignment-structure#identity"},{"content":"Given answer is correct.\nPolicy create > assign > invoke or execute","poster":"[Removed]","comment_id":"513974","upvote_count":"2","timestamp":"1640941620.0"},{"comment_id":"500604","content":"I am not convinced...\nRemediation of a policy would enable TDE for a database, which had been deployed without TDE before, right? But assuming, we are currently planning the migration, there is no database and remediation would have no effect.\nOn the other hand, we need an identity for a deployIfNotExist policy -- it need not necessarily be a user managed identity as it could be created as system-managed identity when creating the assignment, but it could be one.\nI think I'd go with Create Policy > Create User-Managed Identity > Create Assignment. Your thoughts...?","comments":[{"poster":"MrClumsy","content":"It looks like that you only aloud to use managed identity. Try to create policy assignment in portal or read here: https://docs.microsoft.com/en-us/azure/governance/policy/how-to/remediate-resources#how-remediation-security-works","upvote_count":"1","timestamp":"1643216340.0","comment_id":"533083"}],"timestamp":"1639400520.0","poster":"bugimachi","upvote_count":"2"},{"poster":"syu31svc","content":"Provided link supports answer given","comment_id":"457623","upvote_count":"3","timestamp":"1633429140.0"},{"timestamp":"1631454600.0","content":"This policy would achieve the effect required:\n\nhttps://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/SQL/SqlDBEncryption_Deploy.json\n\nDetails about remediation:\n\nhttps://docs.microsoft.com/en-us/azure/governance/policy/how-to/remediate-resources","poster":"jjdevine","upvote_count":"4","comment_id":"443502"}],"question_images":["https://www.examtopics.com/assets/media/exam-media/04027/0003600001.jpg"],"topic":"8","answers_community":[],"answer_description":"Scenario: All Azure SQL databases in the production environment must have Transparent Data Encryption (TDE) enabled.\nStep 1: Create an Azure policy definition that uses the deployIfNotExists identity.\nThe first step is to define the roles that deployIfNotExists and modify needs in the policy definition to successfully deploy the content of your included template.\nStep 2: Create an Azure policy assignment\nWhen creating an assignment using the portal, Azure Policy both generates the managed identity and grants it the roles defined in roleDefinitionIds.\nStep 3: Invoke a remediation task\nResources that are non-compliant to a deployIfNotExists or modify policy can be put into a compliant state through Remediation. Remediation is accomplished by instructing Azure Policy to run the deployIfNotExists effect or the modify operations of the assigned policy on your existing resources and subscriptions, whether that assignment is to a management group, a subscription, a resource group, or an individual resource.\nDuring evaluation, the policy assignment with deployIfNotExists or modify effects determines if there are non-compliant resources or subscriptions. When non- compliant resources or subscriptions are found, the details are provided on the Remediation page.\nReference:\nhttps://docs.microsoft.com/en-us/azure/governance/policy/how-to/remediate-resources","question_text":"DRAG DROP -\nYou need to configure an Azure policy to ensure that the Azure SQL databases have TDE enabled. The solution must meet the security and compliance requirements.\nWhich three actions should you perform in sequence? To answer, move the appropriate actions from the list of actions to the answer area and arrange them in the correct order.\nSelect and Place:\n//IMG//","exam_id":53,"unix_timestamp":1630467360,"answer_images":["https://www.examtopics.com/assets/media/exam-media/04027/0003700001.jpg"]}],"exam":{"isImplemented":true,"isMCOnly":false,"provider":"Microsoft","numberOfQuestions":237,"id":53,"isBeta":false,"name":"AZ-304","lastUpdated":"12 Apr 2025"},"currentPage":47},"__N_SSP":true}