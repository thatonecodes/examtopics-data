{"pageProps":{"questions":[{"id":"1hf5RLyXeQyo2ri999pY","question_id":256,"answer_images":["https://www.examtopics.com/assets/media/exam-media/04273/0036500001.jpg"],"answer_description":"Box 1: Inbound.\nA set-variable policy to store the detected user identity.\nExample:\n<policies>\n<inbound>\n<!-- How you determine user identity is application dependent -->\n<set-variable\nname=\"enduserid\"\nvalue=\"@(context.Request.Headers.GetValueOrDefault(\"Authorization\",\"\").Split(' ')[1].AsJwt()?.Subject)\" />\n\nBox 2: Inbound -\n\nA cache-lookup-value policy -\nExample:\n<inbound>\n<base />\n<cache-lookup vary-by-developer=\"true | false\" vary-by-developer-groups=\"true | false\" downstream-caching-type=\"none | private | public\" must- revalidate=\"true | false\">\n<vary-by-query-parameter>parameter name</vary-by-query-parameter> <!-- optional, can repeated several times -->\n</cache-lookup>\n</inbound>\n\nBox 3: Outbound -\nA cache-store-value policy.\nExample:\n<outbound>\n<base />\n<cache-store duration=\"3600\" />\n</outbound>\n\nBox 4: Outbound -\nA find-and-replace policy to update the response body with the user profile information.\nExample:\n<outbound>\n<!-- Update response body with user profile-->\n<find-and-replace\nfrom='\"$userprofile$\"'\nto=\"@((string)context.Variables[\"userprofile\"])\" />\n<base />\n</outbound>\nReference:\nhttps://docs.microsoft.com/en-us/azure/api-management/api-management-caching-policies https://docs.microsoft.com/en-us/azure/api-management/api-management-sample-cache-by-key","answer_ET":"","discussion":[{"poster":"Ave","comment_id":"213591","upvote_count":"185","timestamp":"1604597100.0","comments":[{"timestamp":"1720402920.0","content":"Inbound, Inbound, Outbound, Outbound.\nCache store S/B outbound.\nhttps://learn.microsoft.com/en-us/azure/api-management/cache-store-policy#examples","upvote_count":"1","poster":"1CY1","comment_id":"1244048","comments":[{"upvote_count":"1","content":"it's wrong cache-store is diferente cache-store-value. you can see it here\nhttps://learn.microsoft.com/en-us/azure/api-management/api-management-sample-cache-by-key","timestamp":"1730756280.0","comment_id":"1307095","poster":"NetoZee"}]},{"comment_id":"214178","poster":"russellg","upvote_count":"12","timestamp":"1604679480.0","comments":[{"upvote_count":"9","comments":[{"timestamp":"1610297640.0","comment_id":"264131","upvote_count":"27","comments":[{"comment_id":"282624","poster":"pac1311","content":"Think it's great that he disproved his own claim :).","timestamp":"1612346340.0","upvote_count":"6"},{"upvote_count":"1","poster":"warchoon","timestamp":"1677568200.0","content":"It's about \"userprofileresponse\" not request","comment_id":"824495"}],"content":"The example you provided is for caching user information from the incoming request. The question is about storing the outgoing response. So Inbound, Inbound, Outbound, Outbound is correct.","poster":"[Removed]"}],"comment_id":"254006","poster":"Tommy202024","content":"Look at this example\nhttps://docs.microsoft.com/en-us/azure/api-management/api-management-sample-cache-by-key#architecture","timestamp":"1609154220.0"}],"content":"how would you cache the value on an inbound request? yo don’t have the value yet!"},{"timestamp":"1640749320.0","content":"https://docs.microsoft.com/en-us/azure/api-management/api-management-sample-cache-by-key","comment_id":"511758","upvote_count":"4","comments":[{"upvote_count":"3","comment_id":"582097","poster":"Azprep","content":"Answers are \nInbound\nInbound\nInbound\nOutbound","timestamp":"1649293800.0"}],"poster":"Azprep"},{"upvote_count":"6","comments":[{"content":"Best score ever, compliments.","upvote_count":"4","poster":"Ciupaz","comment_id":"1098846","timestamp":"1702812420.0"}],"content":"looks correct, in Nov182023, scored 962","timestamp":"1700490600.0","comment_id":"1075478","poster":"SachinV"},{"upvote_count":"3","content":"Yes, correct","comment_id":"254695","timestamp":"1609239000.0","poster":"RaviKS"},{"comment_id":"597559","upvote_count":"1","timestamp":"1651813740.0","poster":"Ganesh1983","content":"cache-store-value can be used in Outbound as well. For example: https://grapespace.net/bin/view/Cloud/Azure1/Integration/API%20Management/Policies/Caching%20policy%20/\n\nSo the answer is \nInbound\nInbound\nOutbound\nOutbound"},{"upvote_count":"19","poster":"ferut","timestamp":"1621578360.0","comment_id":"362718","content":"I considering cache-store-value to be Outbound here. I'm just trying to think logically here. \nInbound:\nFirst, you'll look up the user identity and use set-variable to put it on the request.\nThen try to find the cache item in the cache using cache-lookup-value.\nIf you find the cache item, then reply directly otherwise, you'll go to the server and fetch the response.\nInbound ends here.\nOutbound:\nWith the response from the server, update the cache using cache-store-value.\nThen use find-and-replace to update the response body.","comments":[{"comment_id":"476134","poster":"alperc","upvote_count":"1","timestamp":"1636626720.0","content":"i agree, looking at: https://docs.microsoft.com/en-us/azure/api-management/api-management-caching-policies#usage-1\nstates that cache-store is set on outbound-policy","comments":[{"timestamp":"1636626960.0","upvote_count":"2","content":"delete it. I consufed by cache-store and cache-store-value","comment_id":"476136","poster":"alperc"}]},{"upvote_count":"20","comments":[{"comment_id":"595415","content":"Nice explanation","poster":"guddusudhir","upvote_count":"2","timestamp":"1651374780.0"}],"timestamp":"1638097920.0","content":"- cache-store-value is not as same as cache-value.\n\n- cache-store is Outbound- https://docs.microsoft.com/en-us/azure/api-management/api-management-caching-policies#example\n\n- cache-store-value is Inbound- https://docs.microsoft.com/en-us/azure/api-management/api-management-sample-cache-by-key#fragment-caching","comment_id":"489081","poster":"aruni_mishra"}]},{"content":"Is this how i should answer on the exam? Is it just this site that's wrong?","poster":"dbobspurfpoo","comments":[{"upvote_count":"4","content":"Newbie, you have the questions, don´t expect to have everything so easy, at least you need to understand what you are answering. The answers usually are wrong in this site so you need to understand the topic.","poster":"rgullini","comment_id":"863793","timestamp":"1680868380.0"}],"comment_id":"500148","timestamp":"1639332360.0","upvote_count":"2"},{"comment_id":"678447","timestamp":"1664082480.0","upvote_count":"3","content":"Both inbound and outbound policy sections are there for cache-store-value hence the confusion.\n\nAs per the question - The caching mechanism must detect the user ID of the client that accesses data for a given location and cache the response for that user ID.\n\nIf answer is inbound then how the response is available at that time? \n\nBecause of that I am not sure about inbound and it has to be outboud (As the response has to be cached as per the requirement here)\n\nPlease confirm","poster":"OPT_001122"},{"poster":"[Removed]","content":"Incorrect. It should be Inbound, Inbound, Outbound, Outbound","comment_id":"952194","upvote_count":"2","timestamp":"1689410880.0"},{"content":"correct! \n-> https://docs.microsoft.com/en-us/azure/api-management/api-management-sample-cache-by-key#fragment-caching","timestamp":"1638020640.0","poster":"NiceGuyAlberto","comment_id":"488172","upvote_count":"9"},{"upvote_count":"2","poster":"ks321","comment_id":"960906","content":"Here is the complete policy in MS Documentation:\nhttps://learn.microsoft.com/en-us/azure/api-management/api-management-sample-cache-by-key#:~:text=Once%20you%20combine%20these%20steps%2C%20the%20end%20result%20is%20a%20policy%20that%20looks%20like%20the%20following%20one.","timestamp":"1690152840.0"},{"content":"Agree. But...\n\"cache-store\" must be Outbound but is talking about \"cache-store-value\" that is to cache the user profile and it is available during the Inbound.\n\nI think that to have the full cache we should add a Outbound \"cache-store\" policy after the replace. Or use a external cache like Redis Cache (or rewriting the API request to add a query string based on the user ID together with a CDN cache rule)\n\nWith the question context is always performing a call to the API and only is caching the user profile as a value for me has no sense.","timestamp":"1700486100.0","poster":"AlbertoBT","comment_id":"1075412","upvote_count":"1"}],"content":"Inbound\nInbound\nInbound\nOutbound"},{"comment_id":"217229","upvote_count":"38","timestamp":"1605095880.0","poster":"taupokk","content":"The answer provided is correct.","comments":[{"comment_id":"217574","upvote_count":"8","timestamp":"1605134040.0","content":"yes is correct: <policies>\n <inbound>\n <base />\n <cache-lookup vary-by-developer=\"false\" vary-by-developer-groups=\"false\" downstream-caching-type=\"none\" must-revalidate=\"true\" caching-type=\"internal\" >\n <vary-by-query-parameter>version</vary-by-query-parameter>\n </cache-lookup>\n </inbound>\n <outbound>\n <cache-store duration=\"seconds\" />\n <base />\n </outbound>\n</policies>","poster":"robertob","comments":[{"upvote_count":"4","poster":"cbn","comment_id":"289928","content":"This is not cache-store-value. However the answer seems correct as per @profesorklaus answer below.","timestamp":"1613269020.0"}]}]},{"content":"the discussion on whether the 3rd option is inbound or outbound is valid since the cache-store-value can be used in both sections. In this case we don't want to store the result but rather which user the request is from without JWT parsing again. This saves computational effort","upvote_count":"1","timestamp":"1732050300.0","poster":"cmmr","comment_id":"1314908"},{"poster":"Sinae","upvote_count":"1","content":"Answer should be Inbound, Inbound, Inbound, Outbound.","comment_id":"1301328","timestamp":"1729554840.0"},{"timestamp":"1705568400.0","poster":"FeriAZ","content":"Set-Variable Policy\nPurpose: To store the detected user identity, which is likely extracted from the JWT token.\nPlacement: Inbound. You need to extract and store the user ID as the request comes in, before any caching logic is applied.\nCache-Lookup-Value Policy\nPurpose: To check if there's a cached response available for the specific user ID.\nPlacement: Inbound. This should happen early in the request processing to determine if a cached response can be used instead of forwarding the request to the backend.\nCache-Store-Value Policy\nPurpose: To store the response in the cache associated with the specific user ID.\nPlacement: Outbound. After the backend service generates a response, this policy stores it in the cache before sending it to the client.\nFind-and-Replace Policy\nPurpose: To update the response body with the user profile information.\nPlacement: Outbound. This modification should be done after the backend service has generated the response and just before it's sent back to the client.","comment_id":"1125649","upvote_count":"5"},{"poster":"manopeydakon","content":"The cache-store-value policy in Azure API Management (APIM) is used in the inbound policy section. This policy is typically applied before the request reaches the backend service, allowing you to cache the response based on the specified conditions or keys.\n\nIn the context of caching, the inbound policy section refers to policies that are executed before the request is sent to the backend, and the outbound policy section refers to policies that are executed before the response is sent back to the client.\n\nSo, when you use cache-store-value to cache a response, you want to do this on the inbound side, ensuring that the caching occurs before the request is forwarded to the backend service.","upvote_count":"2","timestamp":"1705496160.0","comment_id":"1124976"},{"upvote_count":"1","poster":"11_NickName_11","timestamp":"1701290760.0","comment_id":"1083803","content":"Inbound\nInbound\nInbound\nOutbound\n\nhttps://learn.microsoft.com/en-us/azure/api-management/api-management-sample-cache-by-key#fragment-caching"},{"poster":"dddddd111","upvote_count":"1","comment_id":"1074646","comments":[{"timestamp":"1700402220.0","upvote_count":"2","comment_id":"1074647","content":"Sorry, the 3rd one is Inbound.","poster":"dddddd111"}],"timestamp":"1700402220.0","content":"Inbound\nInbound\nOutbound\nOutbound\nReference: https://learn.microsoft.com/en-us/azure/api-management/api-management-sample-cache-by-key#architecture"},{"upvote_count":"4","timestamp":"1688042520.0","content":"Got this on 6/28/2023 and passed with 850. Went with highly voted answer.","poster":"JH81","comment_id":"938101"},{"timestamp":"1676744040.0","comment_id":"813370","poster":"NombreFalso","content":">> The caching mechanism must detect the user ID of the client that accesses data for a given location and *cache the response for that user ID.* \n\nThus cache store should be outbound guys","upvote_count":"3"},{"upvote_count":"4","timestamp":"1674621960.0","comment_id":"787274","content":"Given answers are correct.\nInbound\nInbound\noutbound->in general the response come in oubound section\noutbound\nhttps://learn.microsoft.com/en-us/azure/api-management/api-management-howto-cache","poster":"Esward"},{"timestamp":"1670183820.0","content":"Here is Answer:https://learn.microsoft.com/en-us/azure/api-management/api-management-sample-cache-by-key#architecture\n\ninbound,\ninbound,\ninbound\noutbound","poster":"kkop","upvote_count":"5","comment_id":"735411"},{"timestamp":"1666311900.0","comment_id":"700420","poster":"elequiel","content":"Got it in exam 20/10/2022","upvote_count":"3"},{"upvote_count":"1","poster":"Knightie","timestamp":"1661209080.0","comment_id":"650454","content":"see the xml tag of inbound and outbound\nhttps://docs.microsoft.com/en-us/azure/api-management/api-management-sample-cache-by-key"},{"timestamp":"1655680320.0","poster":"Lucky_me","upvote_count":"1","comment_id":"618881","content":"<policies>\n <inbound>\n <base />\n <cache-lookup vary-by-developer=\"false\" vary-by-developer-groups=\"false\" downstream-caching-type=\"none\" must-revalidate=\"true\" caching-type=\"internal\" >\n <vary-by-query-parameter>version</vary-by-query-parameter>\n </cache-lookup>\n </inbound>\n <outbound>\n <cache-store duration=\"seconds\" />\n <base />\n </outbound>\n</policies>"},{"comments":[{"comment_id":"613431","timestamp":"1654710360.0","poster":"kjfdzkkbsm","upvote_count":"8","content":"Your'e at the wrong question, mate"}],"upvote_count":"1","poster":"vavra","comment_id":"611031","content":"I think it's B, because of this:\nhttps://github.com/AzureAD/microsoft-authentication-library-for-dotnet/wiki/Integrated-Windows-Authentication\nFederated users only, i.e. those created in an Active Directory and backed by Azure Active Directory. Users created directly in AAD, without AD backing - managed users - cannot use this auth flow. This limitation does not affect the Username/Password flow.","timestamp":"1654252320.0"},{"timestamp":"1649604180.0","upvote_count":"3","content":"Inbound\nInbound\nInbound\nOutbound","poster":"Azprep","comment_id":"583750"},{"content":"Inbound\nInbound\nInbound\nOutbound","comment_id":"574491","comments":[{"content":"Incorrect","comment_id":"952196","poster":"[Removed]","timestamp":"1689411060.0","upvote_count":"1"}],"timestamp":"1648135980.0","poster":"Prasu69","upvote_count":"2"},{"timestamp":"1646667420.0","upvote_count":"1","comment_id":"562716","poster":"petitbilly","content":"According to this docs from Microsoft, the third box (cache-store-value) could be: inbound or outbound.\nhttps://docs.microsoft.com/en-us/azure/app-service/faq-app-service-linux#i-m-using-my-own-custom-container--i-want-the-platform-to-mount-an-smb-share-to-the---home---directory-"},{"comments":[],"content":"https://docs.microsoft.com/en-us/azure/api-management/api-management-sample-cache-by-key\n\nAnswer should be \nInbound\nInbound\nInbound\nOutbound","comment_id":"532840","upvote_count":"3","timestamp":"1643197080.0","poster":"prastogi"},{"upvote_count":"4","comments":[{"timestamp":"1646064420.0","content":"although it can be used in inbound and outbound it only makes sense as inbound","upvote_count":"2","comment_id":"558172","poster":"DonOnur"}],"timestamp":"1642581120.0","comment_id":"527324","poster":"AzureLearning","content":"Why everyone is saying Set-Variable is Inbound ? Microsoft site says it can be used in both inbound and outbound.\n\nhttps://docs.microsoft.com/en-us/azure/api-management/api-management-advanced-policies#usage-12\n\nSet-variable policy can be used in \nPolicy sections: inbound, outbound, backend, on-error"},{"content":"cache-store-value should be Outbound\nRefer: https://docs.microsoft.com/en-us/azure/api-management/api-management-sample-cache-by-key","comment_id":"508357","upvote_count":"2","timestamp":"1640328420.0","poster":"tramlong888"},{"content":"Refer Link : https://docs.microsoft.com/en-us/azure/api-management/api-management-sample-cache-by-key#fragment-caching\n1. <Inbound> <set-variable/><cache-lookup-value/><<cache-store-value/></Inbound> \n2. <Outbound><find-and-replace/></Outbound>","comment_id":"503796","timestamp":"1639759320.0","poster":"Yazhu","upvote_count":"5"},{"poster":"Pankaj78","content":"correct answer is inbound, inbound, inbound, and outbound, it is available at \n\nhttps://docs.microsoft.com/en-us/azure/api-management/api-management-sample-cache-by-key","comment_id":"476347","timestamp":"1636646640.0","upvote_count":"4"},{"content":"Cache-stores is out bound https://docs.microsoft.com/en-us/azure/api-management/api-management-caching-policies#StoreToCache see samples there please","upvote_count":"3","poster":"ning","timestamp":"1628700420.0","comment_id":"423425"},{"timestamp":"1626025380.0","upvote_count":"3","poster":"somenkr","content":"Answer is correct :\nInbound\nInbound\nOutbound\nOutbound\n<policies>\n <inbound>\n <base />\n <cache-lookup vary-by-developer=\"false\" vary-by-developer-groups=\"false\" downstream-caching-type=\"none\" must-revalidate=\"true\" caching-type=\"internal\" >\n <vary-by-query-parameter>version</vary-by-query-parameter>\n </cache-lookup>\n </inbound>\n <outbound>\n <cache-store duration=\"seconds\" />\n <base />\n </outbound>\n</policies>","comment_id":"404155"},{"poster":"kondapaturi","upvote_count":"9","timestamp":"1624796880.0","content":"A set-variable policy to store the detected user identity - Inbound - Here we need to detect the user identity in the user request and then store the data in the cache. So , we need to look at the Incoming request for this. \nA cache-lookup policy - Inbound - Here we have to see if the user data is not already present in the cache. If not, we should then set the cache value. \nA cache-store-value policy - Inbound- Here we need to store the data value in the cache if the user data is not already present. \nA find-and-replace policy - outbound - Here we need to update the response body, so it should go in the Output section.","comment_id":"392037","comments":[{"content":"This should be the best explanation.\ncache-store-value is different with cache-store.","timestamp":"1656552960.0","upvote_count":"1","comment_id":"624976","poster":"TungBui"}]},{"timestamp":"1622991600.0","content":"got this in the exam :)","comments":[{"comment_id":"465243","timestamp":"1634743920.0","upvote_count":"6","content":"So when your job interview comes up of a high paid opportunity and the interviewer ask you this question your also gonna say \"I got this in the exam\" :D good luck BUDDY","poster":"Duncan0923"}],"comment_id":"376128","poster":"francis6170","upvote_count":"2"},{"comment_id":"374983","upvote_count":"4","poster":"Gregoryhouse2020","timestamp":"1622887080.0","content":"The given answer is incorrect\nAnswer :-\nInbound \nInbound\nInbound\nOutbound"},{"upvote_count":"27","content":"Box 1: Inbound\nA set-variable policy to store the detected user identity.\nHere we need to detect the user identity in the user request and then store the data in the cache. So , we need to look at the Incoming request for this.\n\nBox 2: Inbound\nA cache-lookup-value policy\nHere we have to see if the user data is not already present in the cache. If not, we should then set the cache value.\n\nBox 3: Inbound\nA cache-store-value policy.\nHere we need to store the data value in the cache if the user data is not already present.\n\nBox 4: Outbound\nA find-and-replace policy to update the response body with the user profile information.\nHere we need to update the response body, so it should go in the Output section.","poster":"mlantonis","comments":[{"comment_id":"370174","poster":"mlantonis","timestamp":"1622376540.0","content":"Reference:\n\nhttps://docs.microsoft.com/en-us/azure/api-management/api-management-caching-policies \n\nhttps://docs.microsoft.com/en-us/azure/api-management/api-management-sample-cache-by-key","upvote_count":"3"}],"timestamp":"1622376540.0","comment_id":"370173"},{"timestamp":"1621169820.0","content":"Inbound\nInbound\nInbound\nOutbound","comment_id":"358726","upvote_count":"4","poster":"glam"},{"comment_id":"294813","content":"Inbound\nInbound\nInbound\nOutbound\n\nIf a cached value is found in the Inbound section, then there is no point caching in Outbound. Whereas, if a cached value is not found, then a request must be made for the value and cached in the Inbound section and then in Outbound, simply use the find and replace policy to apply the cached value to the response.\n\nEither way, you don't have to use the cache-store-value policy in Outbound.\nReference: https://docs.microsoft.com/en-us/azure/api-management/api-management-sample-cache-by-key#fragment-caching","timestamp":"1613803980.0","upvote_count":"3","poster":"daporh"},{"comment_id":"291231","timestamp":"1613416140.0","poster":"matejka","upvote_count":"2","content":"Am almost sure that Inbound, Inbound, Outbound, Outbound is correct."},{"poster":"profesorklaus","timestamp":"1610657040.0","comment_id":"267406","upvote_count":"16","content":"I have done the same on azure api management. The answer is correct\n<policies>\n <inbound>\n <set-variable name=\"cacheExpirationTime\" value=\"@(context.Request.Headers.GetValueOrDefault(headerName: \"cacheExpirationTime\",defaultValue: \"3600\"))\" />\n <cache-lookup-value key=\"@(context.Request.Url.Path)\" default-value=\"\" variable-name=\"speakerId\" />\n <base />\n </inbound>\n <backend>\n <base />\n </backend>\n <outbound>\n <find-and-replace from=\".NET\" to=\"[.NET]\" />\n <cache-store-value key=\"@(context.Request.Url.Path)\" value=\"@(context.Response.Body.As<string>(preserveContent: true))\" duration=\"@(int.Parse((string)context.Variables[\"cacheExpirationTime\"]))\" />\n <base />\n </outbound>\n <on-error>\n <base />\n </on-error>\n</policies>"},{"upvote_count":"3","comment_id":"263254","timestamp":"1610201520.0","poster":"RaviKS","content":"Correct Answers are \nInbound\nInbound\nInbound\nOutbound"},{"comment_id":"263253","poster":"RaviKS","content":"Correct Answers are \nInbound\nInbound\nInbound\nOutbound","upvote_count":"2","timestamp":"1610201460.0"},{"comment_id":"260238","poster":"tomis","timestamp":"1609851360.0","upvote_count":"2","content":"https://docs.microsoft.com/en-us/azure/api-management/api-management-caching-policies#usage-3\nThis policy (cache-store-value) can be used in the following policy sections and scopes .\nPolicy sections: inbound, outbound, backend, on-error\nPolicy scopes: all scopes"},{"timestamp":"1606590720.0","poster":"Ash111","upvote_count":"3","content":"the answer provided is correct. cache-store should be outbound - should fetch and store while sending out.","comment_id":"229820"},{"content":"Set-variable and Find-and-replace variable, can be used in different sections, so inbound or outbound are correct answers.\nCache-lookup: Inbound.\nCache-Storage-value: Outbound\nHere all Microsoft references about all of them:\n - Set-variable (inbound, outbound, backend, on-error): https://docs.microsoft.com/en-us/azure/api-management/api-management-advanced-policies#set-variable\n\n- Cache-Storage-value (outbound): https://docs.microsoft.com/en-us/azure/api-management/api-management-caching-policies#StoreToCache\n\n- Cache-lookup (Inbound): https://docs.microsoft.com/en-us/azure/api-management/api-management-caching-policies#GetFromCache\n\n- Find-and-replace (inbound, outbound, backend, on-error): https://docs.microsoft.com/en-us/azure/api-management/api-management-transformation-policies#Findandreplacestringinbody","poster":"Juanlu","comments":[{"timestamp":"1606517400.0","poster":"Cornholioz","upvote_count":"2","content":"Except you got the Cache-Store-Value link wrong. You are looking up cache-store. The question is about cache-store-value... which has a usage for both inbound and outbound. Hence the confusion.\nhttps://docs.microsoft.com/en-us/azure/api-management/api-management-caching-policies#StoreToCacheByKey","comment_id":"229276"}],"comment_id":"227880","timestamp":"1606340580.0","upvote_count":"2"},{"comments":[{"content":"The ambiguity is in cache-store-value... which has a usage for both inbound and outbound. Hence the confusion. The example you quoted does show an \"example\" but the usage for cache-store-value has both inbound and outbound.\nhttps://docs.microsoft.com/en-us/azure/api-management/api-management-caching-policies#StoreToCacheByKey","upvote_count":"2","poster":"Cornholioz","comment_id":"229280","timestamp":"1606517520.0"}],"comment_id":"226747","poster":"WesWeWo","upvote_count":"5","timestamp":"1606229340.0","content":"The answer is correct. 2 and 3 are literally in this example: https://docs.microsoft.com/en-us/learn/modules/improve-api-performance-with-apim-caching-policy/4-configure-a-caching-policy"},{"upvote_count":"5","poster":"LoGA80","timestamp":"1605081660.0","comment_id":"217138","content":"Agreed with russellg: the answer is correct. In the examples - also linked - the user data cached is based on the request only but here the response is expected to be cached which definitely cannot be done before generating the response by the backend. So outbound is correct for the third point."},{"upvote_count":"2","comments":[{"poster":"kwaazaar","upvote_count":"1","content":"not responses but variables are cached here.","timestamp":"1617694200.0","comment_id":"329407"}],"content":"By comparing the suggested explanation for specified answers with question options, it seems that the options listed in question text are incorrect i.e. \"cache-lookup-value\" should become \"cache-lookup\" and \"cache-store-value\" should become \"cache-store\". \"cache-lookup\" can be used only in inbound section. \"cache-store\" can be used only in outbound section. Both \"cache-lookup-value\" and \"cache-store-value\" can be used in both inbound and outbound sections of APIM policy definition.\n\nReference : https://docs.microsoft.com/en-us/azure/api-management/api-management-caching-policies","timestamp":"1605010020.0","comment_id":"216581","poster":"Ananth2020"},{"upvote_count":"11","timestamp":"1604650020.0","comments":[{"upvote_count":"9","poster":"russellg","timestamp":"1604679900.0","content":"the article you linked to talks about calling out to get a user profile and caching it. this question is about caching the response from the backend service.","comment_id":"214180"},{"timestamp":"1622113740.0","upvote_count":"1","content":"correct","poster":"anu94","comment_id":"367837"}],"poster":"AnnaJ","comment_id":"213919","content":"Inbound\nInbound\nInbound\nOutbound\n\nReference: https://docs.microsoft.com/en-us/azure/api-management/api-management-sample-cache-by-key"}],"topic":"4","unix_timestamp":1604597100,"url":"https://www.examtopics.com/discussions/microsoft/view/36174-exam-az-204-topic-4-question-26-discussion/","answer":"","exam_id":48,"question_text":"DRAG DROP -\nContoso, Ltd. provides an API to customers by using Azure API Management (APIM). The API authorizes users with a JWT token.\nYou must implement response caching for the APIM gateway. The caching mechanism must detect the user ID of the client that accesses data for a given location and cache the response for that user ID.\nYou need to add the following policies to the policies file:\n✑ a set-variable policy to store the detected user identity\n✑ a cache-lookup-value policy\n✑ a cache-store-value policy\n✑ a find-and-replace policy to update the response body with the user profile information\nTo which policy section should you add the policies? To answer, drag the appropriate sections to the correct policies. Each section may be used once, more than once, or not at all. You may need to drag the split bar between panes or scroll to view content.\nNOTE: Each correct selection is worth one point.\nSelect and Place:\n//IMG//","timestamp":"2020-11-05 18:25:00","question_images":["https://www.examtopics.com/assets/media/exam-media/04273/0036400001.jpg"],"isMC":false,"answers_community":[]},{"id":"nziQ50Lbu6eQ4ve1w7qd","answers_community":[],"topic":"4","url":"https://www.examtopics.com/discussions/microsoft/view/53975-exam-az-204-topic-4-question-27-discussion/","answer_description":"Box 1: SecretClient -\n\nBox 2: DefaultAzureCredential -\nIn below example, the name of your key vault is expanded to the key vault URI, in the format \"https://<your-key-vault-name>.vault.azure.net\". This example is using 'DefaultAzureCredential()' class from Azure Identity Library, which allows to use the same code across different environments with different options to provide identity. string keyVaultName = Environment.GetEnvironmentVariable(\"KEY_VAULT_NAME\"); var kvUri = \"https://\" + keyVaultName + \".vault.azure.net\"; var client = new SecretClient(new Uri(kvUri), new DefaultAzureCredential());\nReference:\nhttps://docs.microsoft.com/en-us/azure/key-vault/secrets/quick-create-net","answer_ET":"","answer_images":["https://www.examtopics.com/assets/media/exam-media/04273/0036700002.png"],"unix_timestamp":1622481540,"exam_id":48,"discussion":[{"upvote_count":"79","poster":"mlantonis","comments":[{"timestamp":"1706158080.0","poster":"Esward","comment_id":"787275","content":"Agreed","upvote_count":"1"},{"comment_id":"1075480","timestamp":"1732113060.0","poster":"SachinV","upvote_count":"2","content":"Agreed looks correct, in Nov182023, scored 962"}],"timestamp":"1654017540.0","comment_id":"371257","content":"Answer is correct.\n\nstring keyVaultName = Environment.GetEnvironmentVariable(\"KEY_VAULT_NAME\");\nvar kvUri = \"https://\" + keyVaultName + \".vault.azure.net\";\nvar client = new SecretClient(new Uri(kvUri), new DefaultAzureCredential());\n\nBox 1: SecretClient\nBox 2: DefaultAzureCredential\n\nReference:\nhttps://docs.microsoft.com/en-us/azure/key-vault/secrets/quick-create-net"},{"upvote_count":"9","content":"Got this one 02/2022. Went with most voted","timestamp":"1675767480.0","poster":"oescm","comment_id":"542302"},{"comment_id":"938102","content":"Got this on 6/28/2023 and passed with 850. Went with answer.","timestamp":"1719664980.0","poster":"JH81","upvote_count":"2"},{"timestamp":"1711792320.0","comment_id":"855447","content":"Question was on exam 2023-03-30","upvote_count":"1","poster":"Saluk_DE"},{"comment_id":"796260","poster":"mabdo","timestamp":"1706893680.0","upvote_count":"1","content":"on exam 02/23"},{"poster":"kociuba","timestamp":"1703935440.0","comments":[{"upvote_count":"2","comment_id":"776028","poster":"adilkhan","content":"are all these questions enough to pass the exam?","timestamp":"1705275300.0"}],"content":"got it on my exam 30-12-2022\nscore: 818","upvote_count":"3","comment_id":"761872"},{"comment_id":"744003","upvote_count":"2","content":"1: SecretClient\n2: DefaultAzureCredential","poster":"OPT_001122","timestamp":"1702470960.0"},{"upvote_count":"2","poster":"vcfvct","timestamp":"1697900280.0","content":"Had this question on 10/21/22","comment_id":"701009"},{"upvote_count":"2","comment_id":"621481","poster":"Eltooth","content":"Secret\nDefault","timestamp":"1687590540.0"},{"upvote_count":"8","timestamp":"1670798280.0","content":"DefaultAzureCredential\nDefaultAzureCredential is appropriate for most scenarios where the application is intended to run in the Azure Cloud. This is because the DefaultAzureCredential determines the appropriate credential type based of the environment it is executing in. It supports authenticating both as a service principal or managed identity, and can be configured so that it will work both in a local development environment or when deployed to the cloud.\n\nThe DefaultAzureCredential will first attempt to authenticate using credentials provided in the environment. In a development environment you can authenticate as a service principal with the DefaultAzureCredential by providing configuration in environment variables as described in the next section.\n\nIf the environment configuration is not present or incomplete, the DefaultAzureCredential will then determine if a managed identity is available in the current environment. Authenticating as a managed identity requires no configuration, but does require platform support. See the managed identity documentation for more details on this.","comment_id":"499695","poster":"edengoforit"},{"comment_id":"430010","timestamp":"1661261760.0","poster":"ADJ85","upvote_count":"4","content":"Correct"}],"answer":"","question_id":257,"question_images":["https://www.examtopics.com/assets/media/exam-media/04273/0036700001.png"],"question_text":"DRAG DROP -\nYou are developing an Azure solution.\nYou need to develop code to access a secret stored in Azure Key Vault.\nHow should you complete the code segment? To answer, drag the appropriate code segments to the correct location. Each code segment may be used once, more than once, or not at all. You may need to drag the split bar between panes or scroll to view content.\nNOTE: Each correct selection is worth one point.\nSelect and Place:\n//IMG//","timestamp":"2021-05-31 19:19:00","isMC":false},{"id":"tvtebhrmeXHtUALeI0XT","answers_community":["AB (100%)"],"topic":"4","url":"https://www.examtopics.com/discussions/microsoft/view/53977-exam-az-204-topic-4-question-28-discussion/","answer_description":"","answer_ET":"AB","answer_images":[],"unix_timestamp":1622481840,"exam_id":48,"discussion":[{"comments":[{"timestamp":"1636639080.0","poster":"AndrewJB","content":"Correct. To access Graph API user must be logged in, so MSAL is required. APIM is optional and not mandatory for this scenario","comment_id":"476250","upvote_count":"7","comments":[{"content":"Furthermore the API is not intended for public use but internal use by another web app. So there is no need for APIM.","comments":[{"poster":"pazetox","upvote_count":"2","timestamp":"1657209420.0","content":"MSAL can be used to provide secure access to Microsoft Graph.\nhttps://docs.microsoft.com/en-us/azure/active-directory/develop/msal-overview","comment_id":"628411"}],"comment_id":"560562","poster":"ReniRechner","upvote_count":"6","timestamp":"1646374620.0"}]},{"content":"Agreed.\nhttps://learn.microsoft.com/en-us/graph/auth-cloudsolutionprovider?tabs=azuread","comment_id":"787284","upvote_count":"2","timestamp":"1674623040.0","poster":"Esward"}],"timestamp":"1623496020.0","comment_id":"380402","poster":"Cholo981","upvote_count":"107","content":"The Answer is Graph API and MSAL.\nAPI managment as nothing to do with the developing of the REST API..."},{"poster":"mlantonis","upvote_count":"22","comment_id":"371262","comments":[{"timestamp":"1634321400.0","poster":"ensa","comment_id":"462747","upvote_count":"9","content":"Fiest time see you are wrong.\nAAAAAAAAABBBBBBBBBB"},{"content":"So wrong, API Management is supossed to create API gateways and rules to manage API calls","comment_id":"438596","poster":"cooyoote","upvote_count":"9","timestamp":"1630681680.0"}],"timestamp":"1622481840.0","content":"Answer is correct.\n\nA: Microsoft Graph to retrieve and update user profile info from Azure AD.\n\nC: API Management (APIM)\n\n\nReference:\n\nhttps://docs.microsoft.com/en-us/graph/azuread-identity-access-management-concept-overview\n\nhttps://docs.microsoft.com/en-us/graph/overview\n\nhttps://docs.microsoft.com/en-us/azure/api-management/api-management-key-concepts"},{"poster":"f09229d","upvote_count":"1","comment_id":"1418009","content":"Selected Answer: AB\nIn exam 30/3/2025 with this answer, I scored 907/1000","timestamp":"1743515640.0"},{"comment_id":"1303827","poster":"Vichu_1607","timestamp":"1730094180.0","upvote_count":"2","content":"Selected Answer: AB\nMicrosoft Graph API: Used to interact with Azure AD to retrieve and update user profile information.\nMicrosoft Authentication Library (MSAL): Used to handle authentication and acquire tokens for accessing Microsoft Graph API."},{"timestamp":"1722167160.0","comment_id":"1256760","poster":"Christian_garcia_martin","upvote_count":"1","content":"A and B are correct."},{"content":"Selected Answer: AB\nYou don't need a APIM.","poster":"cb98160","timestamp":"1710489720.0","upvote_count":"1","comment_id":"1174143"},{"timestamp":"1705499880.0","poster":"manopeydakon","upvote_count":"1","comment_id":"1125020","content":"To configure the Azure App Service REST API to retrieve and update user profile information stored in Azure Active Directory (Azure AD), you should use the following tools:\n\nA. Microsoft Graph API: The Microsoft Graph API allows you to interact with data in Azure AD, including retrieving and updating user profile information.\n\nB. Microsoft Authentication Library (MSAL): MSAL is used for handling authentication in your application. It helps you authenticate users and acquire access tokens, which are necessary when making requests to the Microsoft Graph API.\n\nTherefore, the correct answers are A (Microsoft Graph API) and B (Microsoft Authentication Library)."},{"upvote_count":"1","content":"Selected Answer: AB\nApim???????","comment_id":"1118594","timestamp":"1704894000.0","poster":"Neckbread"},{"timestamp":"1695775260.0","comment_id":"1018305","content":"Selected Answer: AB\nIt was on my exam today (2023-09-26) - score 850","poster":"Dixavado","upvote_count":"4"},{"poster":"nikipediaa","upvote_count":"3","content":"Question was on exam 2023-09-26. The order of answers was changed.","timestamp":"1695745080.0","comment_id":"1017978"},{"comment_id":"904598","content":"Selected Answer: AB\ntrythis","poster":"deathRac3","upvote_count":"1","timestamp":"1684820640.0"},{"upvote_count":"4","timestamp":"1680664080.0","content":"Got this in exam today (5 April 2023)","comment_id":"861718","poster":"[Removed]"},{"upvote_count":"3","comment_id":"813209","poster":"NombreFalso","content":"Selected Answer: AB\nChoosing A implies using B too. APIM is totally unrelated.","timestamp":"1676734320.0"},{"upvote_count":"1","poster":"Jeff8888","content":"Graph Api, Azure APIM","timestamp":"1675143660.0","comment_id":"793695"},{"upvote_count":"1","comment_id":"790535","content":"\"The API must retrieve and update user profile information stored in Azure Active Directory (Azure AD).\nYou need to configure the API to make the updates.\"\n\nthis is a hint that you want programmatically update the user data stored in Azure AD... \nso Graph API and MSAL is the right answer :)","poster":"Michael2023","timestamp":"1674903000.0"},{"timestamp":"1662877800.0","comment_id":"665868","upvote_count":"9","poster":"serpevi","content":"Got this in 09/22 , went with MSAL and Graph, score 927."},{"upvote_count":"2","timestamp":"1649604240.0","poster":"Azprep","content":"Graph Api, Azure APIM","comment_id":"583751"},{"upvote_count":"1","comment_id":"583332","timestamp":"1649512080.0","content":"I think answer should be A and B. MSAL is needed to get the tokens and pass it in Graph API request.","poster":"svsv22"},{"poster":"iamstudying","timestamp":"1647315480.0","upvote_count":"3","comment_id":"568094","content":"Selected Answer: AB\nAB, buddies. 981Cholo, AndrweJB and ReniRechner are the mvps"},{"poster":"karthik0328","comment_id":"561137","timestamp":"1646448120.0","content":"Selected Answer: AB\nWhy is API management required for this?","upvote_count":"1"},{"timestamp":"1644244980.0","comment_id":"542468","content":"You don't need MSAL to get access to Graph API when you are a web app using azure app service in Azure. The given answer is correct","upvote_count":"3","poster":"Chiboy"},{"comment_id":"522005","upvote_count":"1","poster":"ehurfheiz","content":"Selected Answer: AB\nCorrect answer seems to be AB","timestamp":"1641977520.0"},{"poster":"vtomy","comment_id":"397451","content":"As per the question it is mentioned 'Configure'. MSAL is for process, nothing related to configuere. I guess API management could be correct.","comments":[{"comment_id":"597561","timestamp":"1651814460.0","upvote_count":"1","poster":"Ganesh1983","content":"yes, that makes sense, since the question specifically talks about configure api."}],"timestamp":"1625304060.0","upvote_count":"3"},{"comment_id":"384165","timestamp":"1623931680.0","upvote_count":"5","poster":"TakumaK","content":"I will go for Graph API and MSAL.\nMSAL is for the secure access to Microsoft Graph."},{"comments":[{"content":"I dissagree, you can read and write profile data with Microsoft Graph API. Since it says you need to configure the API to make changes, I think we need to publish the new API using APIM.","upvote_count":"1","comment_id":"607575","poster":"KOSTA007","timestamp":"1653559620.0"},{"timestamp":"1650271980.0","comment_id":"587568","poster":"ivan0590","upvote_count":"1","comments":[{"poster":"george_miscalencu","timestamp":"1660914960.0","upvote_count":"1","content":"actually I missed the \"The API must be called by an Azure App Service web app.\" part. given answer should be ok.","comment_id":"648982"},{"upvote_count":"1","comment_id":"648981","content":"what web app? you could call the API directly, even without any credentials and pass the userid in the qs. no msal is required here.","poster":"george_miscalencu","timestamp":"1660914900.0"}],"content":"I agree.\nMSAL is used in the Web App to authenticate to the API.\nMicrosoft Graph is used in the API to retrieve the Azure AD profile info."}],"content":"Correct answer is \nA --Use Microsoft Graph to read data\nB Use MSAL to update the profile\nThere is no mention of API Management in the question /requirement","poster":"jay158","comment_id":"378727","timestamp":"1623300900.0","upvote_count":"7"}],"answer":"AB","question_id":258,"question_images":[],"question_text":"You are developing an Azure App Service REST API.\nThe API must be called by an Azure App Service web app. The API must retrieve and update user profile information stored in Azure Active Directory (Azure AD).\nYou need to configure the API to make the updates.\nWhich two tools should you use? Each correct answer presents part of the solution.\nNOTE: Each correct selection is worth one point.","timestamp":"2021-05-31 19:24:00","choices":{"C":"Azure API Management","D":"Microsoft Azure Security Center","A":"Microsoft Graph API","B":"Microsoft Authentication Library (MSAL)","E":"Microsoft Azure Key Vault SDK"},"isMC":true},{"id":"tVDtRAsdbo4eG5TrkxuJ","topic":"4","question_images":[],"unix_timestamp":1622482140,"timestamp":"2021-05-31 19:29:00","url":"https://www.examtopics.com/discussions/microsoft/view/53978-exam-az-204-topic-4-question-29-discussion/","choices":{"B":"Delete the stored access policy.","A":"Revoke the delegation key.","C":"Regenerate the account key.","D":"Remove the role assignment for the security principle."},"question_id":259,"exam_id":48,"question_text":"You develop a REST API. You implement a user delegation SAS token to communicate with Azure Blob storage.\nThe token is compromised.\nYou need to revoke the token.\nWhat are two possible ways to achieve this goal? Each correct answer presents a complete solution.\nNOTE: Each correct selection is worth one point.","isMC":true,"answers_community":["AD (95%)","5%"],"answer_ET":"AD","discussion":[{"poster":"jay158","content":"Given answer is incorrect.\nCorrect answers are A , D\nhttps://docs.microsoft.com/en-us/rest/api/storageservices/create-user-delegation-sas#revoke-a-user-delegation-sas","upvote_count":"113","comments":[{"comment_id":"404357","content":"Your link literally says you're correct it should be A and D.\n\"If you believe that a SAS has been compromised, then you should revoke the SAS. You can revoke a user delegation SAS either by revoking the user delegation key, or by changing or removing RBAC role assignments for the security principal used to create the SAS.\"","upvote_count":"22","timestamp":"1626061920.0","poster":"jkes80"},{"upvote_count":"2","poster":"Esward","timestamp":"1674623400.0","comment_id":"787286","content":"I greed with A, D"},{"poster":"maukaba","timestamp":"1640024340.0","upvote_count":"3","content":"There're two ways to create a SAS: \n(1). The \"standard\" way to generate a SAS token is to use the storage account key.\n(2). by using \"managed identities\" with a technique is called a \"user delegation\" SAS, and it allows you to sign the signature with Azure AD credentials instead of with the storage account key.\nThis question is (2) hence A, D is correct\nREF: https://markheath.net/post/user-delegation-sas","comment_id":"505620"},{"upvote_count":"3","poster":"ML333","content":"Answer definitely A, D as per provided link - All exam questions answers should be as straightforward as this Microsoft! So much ambiguity in 90% of the questions.","timestamp":"1655361480.0","comment_id":"617127"},{"poster":"OPT_001122","content":"Thanks https://www.examtopics.com/user/jay158/\nno doubt after referring the ink that it is A and D","upvote_count":"5","comment_id":"648847","timestamp":"1660902180.0"}],"comment_id":"381558","timestamp":"1623647160.0"},{"content":"Answer seems correct.\n\nA: Use az storage account revoke-delegation-keys command.\nB: To revoke a stored access policy, you can either delete it, or rename it by changing the signed identifier. \n\nReference:\n\nhttps://github.com/MicrosoftDocs/azure-docs/blob/master/articles/storage/blobs/storage-blob-user-delegation-sas-create-cli.md\n\nhttps://docs.microsoft.com/en-us/rest/api/storageservices/define-stored-access-policy#modifying-or-revoking-a-stored-access-policy\n\nhttps://docs.microsoft.com/en-us/cli/azure/storage/account?view=azure-cli-latest#az_storage_account_revoke_delegation_keys","upvote_count":"16","poster":"mlantonis","comments":[{"upvote_count":"1","comment_id":"1256763","content":"No . Note that user delegation SAS token used in the scenario does not support Stored Access Policy so B is wrong and D is NOT valid too : The role assignments are not directly linked to SAS (Shared Access Signature) tokens in Blob Storage. Revoking a role wouldn't invalidate a SAS token. \nSo correct Answers are A and C.","poster":"Christian_garcia_martin","timestamp":"1722167880.0"},{"upvote_count":"1","content":"Answers should be A& D","timestamp":"1649318460.0","poster":"Azprep","comment_id":"582294"},{"comment_id":"396063","upvote_count":"3","timestamp":"1625150700.0","content":"Incorrect it should be D not B, see https://docs.microsoft.com/en-us/rest/api/storageservices/define-stored-access-policy\n\nStored access policies are not supported for the user delegation SAS or the account SAS..","poster":"Jurgen1234"}],"timestamp":"1622482140.0","comment_id":"371268"},{"poster":"Vichu_1607","content":"Selected Answer: AD\nIf you believe that a SAS has been compromised, you should revoke it. You can revoke a user delegation SAS either by revoking the user delegation key, or by changing or removing RBAC role assignments for the security principal that's used to create the SAS.","upvote_count":"1","timestamp":"1730094360.0","comment_id":"1303828"},{"upvote_count":"1","timestamp":"1724380020.0","poster":"4bd3116","comment_id":"1271019","content":"Selected Answer: AC\nRevoke, Regenerate"},{"content":"May be A and C","timestamp":"1723357020.0","comment_id":"1263810","poster":"prabhjot","upvote_count":"1"},{"upvote_count":"1","content":"Guis A and C . The role assignments are not directly linked to SAS (Shared Access Signature) tokens in Blob Storage. Removing a role wouldn't invalidate a SAS token","comment_id":"1256762","timestamp":"1722167640.0","poster":"Christian_garcia_martin"},{"timestamp":"1706036040.0","upvote_count":"4","poster":"manopeydakon","comment_id":"1129941","content":"A,C\nWhen dealing with a compromised user delegation SAS token in Azure Blob storage, you can take the following actions:\n\nA. Revoke the delegation key: User delegation SAS tokens are generated based on a delegation key. Revoking the delegation key would invalidate any tokens generated with that key.\n\nC. Regenerate the account key: Regenerating the account key would effectively invalidate all SAS tokens, including user delegation SAS tokens, associated with the storage account. This is a more drastic measure and should be carefully considered, as it affects all tokens, not just the compromised one.\n\nTherefore, the correct answers are A (Revoke the delegation key) and C (Regenerate the account key)."},{"upvote_count":"1","poster":"FeriAZ","timestamp":"1705654200.0","comment_id":"1126541","content":"A. Revoke the Delegation Key\n\nApproach: By revoking the user delegation key used to create the SAS token, you can effectively invalidate the SAS token.\nFeasibility: Azure Blob Storage allows you to revoke user delegation keys, which will invalidate any SAS tokens created with them.\nEffectiveness: This is a direct way to revoke a compromised User Delegation SAS token.\nD. Remove the Role Assignment for the Security Principle\n\nApproach: This involves removing the Azure AD role assignment that grants permissions to the user or service principal associated with the SAS token.\nFeasibility: By removing or altering the role assignment in Azure AD, you can effectively revoke access permissions that the SAS token grants.\nEffectiveness: This can be an effective way to revoke access, though it may be broader than just invalidating a specific SAS token."},{"timestamp":"1705500300.0","comment_id":"1125027","poster":"manopeydakon","upvote_count":"1","content":"A and D!"},{"comment_id":"1017979","timestamp":"1695745080.0","poster":"nikipediaa","upvote_count":"1","content":"Question was on exam 2023-09-26"},{"comment_id":"1017774","content":"If you believe that a SAS has been compromised, you should revoke it. You can revoke a user delegation SAS either by revoking the user delegation key, or by changing or removing RBAC role assignments for the security principal that's used to create the SAS.\n\nhttps://learn.microsoft.com/en-us/rest/api/storageservices/create-user-delegation-sas","poster":"Teit_examptopics","timestamp":"1695732420.0","upvote_count":"1"},{"poster":"IvanIco","content":"C By regenerating the you make the prevues key unusable why isn't that right","comment_id":"986269","timestamp":"1692601440.0","upvote_count":"1"},{"comment_id":"940018","poster":"RKyawal","upvote_count":"1","timestamp":"1688219640.0","content":"https://learn.microsoft.com/en-us/rest/api/storageservices/define-stored-access-policy\ncannot be B as per this link..not supporeted"},{"timestamp":"1674751680.0","upvote_count":"1","comment_id":"788936","poster":"DP_Bhatt","content":"Selected Answer: AD\nCorrect answers A and D"},{"comment_id":"651563","timestamp":"1661388900.0","content":"Selected Answer: AD\nIf you believe that a SAS has been compromised, then you should revoke the SAS. \nYou can revoke a user delegation SAS either by revoking the user delegation key, or by changing or removing RBAC role assignments for the security principal used to create the SAS.","upvote_count":"4","poster":"rosa_0617"},{"comment_id":"648690","timestamp":"1660874520.0","content":"Can we pass the exam just by studying questions tilll Page 22? I don't have contributor access and can't afford right now.","upvote_count":"5","poster":"nuiowmokka"},{"content":"Selected Answer: AD\nA & D for sure","comment_id":"634115","upvote_count":"2","timestamp":"1658331000.0","poster":"ASAAAAS2"},{"upvote_count":"2","comment_id":"621485","timestamp":"1656055140.0","poster":"Eltooth","content":"Selected Answer: AD\nA and D are correct answers."},{"comment_id":"614014","timestamp":"1654781760.0","upvote_count":"1","content":"AD is correct","poster":"emetos05"},{"timestamp":"1649604300.0","poster":"Azprep","content":"Correct answers are A& B","comment_id":"583752","upvote_count":"1"},{"upvote_count":"1","content":"Selected Answer: AD\nhttps://docs.microsoft.com/en-us/rest/api/storageservices/define-stored-access-policy","poster":"Prasu69","comment_id":"574533","timestamp":"1648139520.0"},{"comment_id":"574529","timestamp":"1648139460.0","content":"A and D \nStored access policies are not supported for the user delegation SAS or the account SAS..\nhttps://docs.microsoft.com/en-us/rest/api/storageservices/define-stored-access-policy","poster":"Prasu69","upvote_count":"2"},{"comment_id":"571387","timestamp":"1647749940.0","content":"Selected Answer: AD\nA and D are correct","upvote_count":"1","poster":"avanip"},{"upvote_count":"1","content":"Selected Answer: AD\nAD, buddies. @158jay is correct. shout out to maukabababa too","poster":"iamstudying","timestamp":"1647315600.0","comment_id":"568096"},{"timestamp":"1645705800.0","upvote_count":"1","poster":"Freidrich","content":"Selected Answer: AD\nThe correct answer is AD.","comment_id":"555257"},{"timestamp":"1645028760.0","poster":"nidhogg","upvote_count":"2","content":"Selected Answer: AD\nThe MS documentation offers no doubt: A, D","comment_id":"548758"},{"upvote_count":"2","content":"Selected Answer: AD\nCorrect answer seems to be AD","comment_id":"522006","timestamp":"1641977640.0","poster":"ehurfheiz"},{"content":"What if I regenerate the account key? Wouldn't that also invalidate the token?\nFor me it seems all 4 options are correct, please if anyone can explain it would be grateful.","upvote_count":"6","timestamp":"1634120520.0","comment_id":"461485","poster":"HimanshuNankani"},{"timestamp":"1628943420.0","content":"Revoke a user delegation SAS\nIf you believe that a SAS has been compromised, then you should revoke the SAS. You can revoke a user delegation SAS either by revoking the user delegation key, or by changing or removing RBAC role assignments for the security principal used to create the SAS.","comment_id":"424783","upvote_count":"2","poster":"mcbc"},{"poster":"ning","upvote_count":"1","comment_id":"423724","timestamp":"1628783280.0","content":"It seems you can only revoke all user delegate keys, but no way to specify which one to revoke based on https://docs.microsoft.com/en-us/rest/api/storagerp/storage-accounts/revoke-user-delegation-keys"},{"content":"Correct Answer is A and D","timestamp":"1624927200.0","comment_id":"393379","poster":"manojchavan","upvote_count":"2"},{"upvote_count":"6","content":"Correct answers are A, D.\nB answer is incorrect because \"Stored access policies are not supported for the user delegation SAS or the account SAS.\"\n\nMS Doc: https://docs.microsoft.com/en-us/rest/api/storageservices/define-stored-access-policy#modifying-or-revoking-a-stored-access-policy\nhttps://docs.microsoft.com/en-us/rest/api/storageservices/create-user-delegation-sas#revoke-a-user-delegation-sas","timestamp":"1624783320.0","poster":"Paolo93","comment_id":"391910"},{"poster":"TakumaK","content":"The answer is INCORRECT. It should be A and D.\nTo revoke a user delegation SAS either by revoking the user delegation key, or by changing or removing RBAC role assignments for the security principal used to create the SAS.","upvote_count":"5","timestamp":"1623845460.0","comment_id":"383359"},{"comment_id":"379464","timestamp":"1623387720.0","content":"The docs say: \"Stored access policies give you the option to revoke permissions for a service SAS without having to regenerate the storage account keys.\"\n\nSo I believe \"regenerate the account key\" might be correct, as well.\n\nhttps://docs.microsoft.com/en-us/azure/storage/common/storage-sas-overview","upvote_count":"1","poster":"julisch94"}],"answer_description":"","answer_images":[],"answer":"AD"},{"id":"WFKJLb8eLzUxfYLRvaxw","question_images":[],"topic":"4","answers_community":["A (100%)"],"answer":"A","answer_ET":"A","isMC":true,"url":"https://www.examtopics.com/discussions/microsoft/view/45926-exam-az-204-topic-4-question-3-discussion/","unix_timestamp":1614891840,"answer_images":[],"exam_id":48,"choices":{"A":"Yes","B":"No"},"discussion":[{"poster":"mlantonis","upvote_count":"47","comment_id":"370184","content":"Correct Answer: Yes\n\nReference:\nhttps://docs.microsoft.com/en-us/archive/blogs/waws/azure-app-service-authentication-aad-groups","timestamp":"1622376900.0"},{"comment_id":"391876","poster":"kondapaturi","content":"Answer – Yes, this is the correct approach. The Application manifest has a setting for groupMembershipClaims. By setting this to all, the Azure AD groups that the user belongs to will be returned as part of the claims in the JWT token.","timestamp":"1624781580.0","upvote_count":"9"},{"poster":"Vichu_1607","timestamp":"1728271800.0","upvote_count":"1","comment_id":"1293996","content":"Selected Answer: A\nYes, the solution does not meet the goal.\n\nWhile configuring the Azure Web App to allow only authenticated requests and require Azure AD log on is a necessary step for securing the application, it does not address the requirement of assigning users one of the specific permission levels (admin, normal, reader) based on their Azure AD group membership.\n\nTo meet this requirement, you would need to implement role-based access control (RBAC) in your application. This would involve mapping Azure AD groups to roles within your application, and then assigning permissions to those roles."},{"upvote_count":"1","poster":"Dixavado","content":"Selected Answer: A\nIt was on my exam today (2023-09-26) I went with the examtopics answer - score 850","timestamp":"1695775080.0","comment_id":"1018300"},{"upvote_count":"1","comment_id":"1004630","timestamp":"1694428200.0","content":"On my exam 2023sept","poster":"Tarajee"},{"poster":"NightshadeRC","comment_id":"963277","timestamp":"1690339440.0","content":"Had this question in today's exam: 2023-07-26","upvote_count":"2"},{"content":"This question was in today's exam on 10-June-2023","upvote_count":"2","poster":"MysticalSam","timestamp":"1686383220.0","comment_id":"919885"},{"poster":"sarmaria","content":"Got this on 16/03/23. Chosen yes. Make sure to prepare for case study. I got city and lights case study. No Kubernetes, Search, Logic Apps questions for me.","upvote_count":"2","timestamp":"1679256780.0","comment_id":"844196"},{"upvote_count":"2","content":"B\nSure, A would technically work but not the best solution as unauthorized users can hit the website.\nBest practice is to use groupMembershipClaims in the App Registration to restrict access at the App level.","timestamp":"1676678640.0","comment_id":"812505","poster":"BrettusMaximus"},{"timestamp":"1674543300.0","comment_id":"786234","upvote_count":"2","poster":"Esward","content":"Given answer A is correct as per MS docs\n\nhttps://docs.microsoft.com/en-us/archive/blogs/waws/azure-app-service-authentication-aad-groups"},{"timestamp":"1662877680.0","upvote_count":"4","poster":"serpevi","comment_id":"665863","content":"Got this in 09/22 , went just with this as YES, score 927."},{"poster":"Eltooth","content":"Selected Answer: A\nA is correct answer.","comment_id":"614539","timestamp":"1654863900.0","upvote_count":"3"},{"content":"Selected Answer: A\nThe answer is correct. If you do not add the groupMembershipClaims to the manifest you wont see any AD group in the auth token.","timestamp":"1647681600.0","upvote_count":"2","comment_id":"570929","poster":"PieroFranco"},{"poster":"Freidrich","timestamp":"1645692420.0","content":"Selected Answer: A\nThe answer is correct.","comment_id":"555142","upvote_count":"1"},{"comment_id":"392940","upvote_count":"1","poster":"sujitwarrier11","content":"I think the answer is no. group claims are at Azure Ad tenant level. The question mentions that the authorization should be for the app. So roles would be the better option here.","comments":[{"comment_id":"412314","poster":"ZodiaC","upvote_count":"1","timestamp":"1627018440.0","content":"thats not true, look link plz: https://docs.microsoft.com/en-us/archive/blogs/waws/azure-app-service-authentication-aad-groups"}],"timestamp":"1624885020.0"},{"content":"Answer is correct","upvote_count":"1","comment_id":"362249","poster":"UnknowMan","timestamp":"1621518720.0"},{"timestamp":"1621222920.0","poster":"glam","comment_id":"359220","upvote_count":"1","content":"A. Yes"},{"timestamp":"1618532220.0","comment_id":"336654","content":"A. Yes\nNote: Azure AD caps at 200 the number of groups that can be sent via JWT format.\nhttps://docs.microsoft.com/en-us/archive/blogs/waws/azure-app-service-authentication-aad-groups","upvote_count":"5","poster":"clarionprogrammer"},{"timestamp":"1614891840.0","comment_id":"303588","content":"Answer is correct","poster":"Marusyk","upvote_count":"4"}],"timestamp":"2021-03-04 22:04:00","question_id":260,"answer_description":"","question_text":"Note: This question is part of a series of questions that present the same scenario. Each question in the series contains a unique solution that might meet the stated goals. Some question sets might have more than one correct solution, while others might not have a correct solution.\nAfter you answer a question in this section, you will NOT be able to return to it. As a result, these questions will not appear in the review screen.\nYou are developing a website that will run as an Azure Web App. Users will authenticate by using their Azure Active Directory (Azure AD) credentials.\nYou plan to assign users one of the following permission levels for the website: admin, normal, and reader. A user's Azure AD group membership must be used to determine the permission level.\nYou need to configure authorization.\nSolution:\n✑ Create a new Azure AD application. In the application's manifest, set value of the groupMembershipClaims option to All.\n✑ In the website, use the value of the groups claim from the JWT for the user to determine permissions.\nDoes the solution meet the goal?"}],"exam":{"isMCOnly":false,"isBeta":false,"provider":"Microsoft","id":48,"name":"AZ-204","numberOfQuestions":452,"lastUpdated":"12 Apr 2025","isImplemented":true},"currentPage":52},"__N_SSP":true}