{"pageProps":{"questions":[{"id":"onnW0PqHg5wu2Q4YFiNZ","answer":"","question_images":["https://www.examtopics.com/assets/media/exam-media/04276/0009800001.jpg","https://www.examtopics.com/assets/media/exam-media/04276/0009900001.png"],"answer_description":"Box 1: ORDER BY c.name DESC, c.age DESC\nQueries that have an ORDER BY clause with two or more properties require a composite index.\nThe following considerations are used when using composite indexes for queries with an ORDER BY clause with two or more properties:\n✑ If the composite index paths do not match the sequence of the properties in the ORDER BY clause, then the composite index can't support the query.\n✑ The order of composite index paths (ascending or descending) should also match the order in the ORDER BY clause.\n✑ The composite index also supports an ORDER BY clause with the opposite order on all paths.\nBox 2: At the same time as the item creation\nAzure Cosmos DB supports two indexing modes:\n✑ Consistent: The index is updated synchronously as you create, update or delete items. This means that the consistency of your read queries will be the consistency configured for the account.\n✑ None: Indexing is disabled on the container.\nReference:\nhttps://docs.microsoft.com/en-us/azure/cosmos-db/index-policy","answer_ET":"","url":"https://www.examtopics.com/discussions/microsoft/view/117463-exam-dp-420-topic-4-question-1-discussion/","unix_timestamp":1691308500,"discussion":[{"comment_id":"991516","comments":[{"timestamp":"1720102320.0","poster":"xRiot007","upvote_count":"1","comment_id":"1113855","content":"It seems that MS has updated their page. \"If not specified, the order is ascending.\" has been replaced by \"When creating a composite index to optimize queries with multiple filters, the ORDER of the composite index will have no impact on the results. This property is optional.\""}],"timestamp":"1709052960.0","upvote_count":"5","content":"1 - ORDER BY c.name DESC, c.age DESC\n\"It's optional to specify the order. If not specified, the order is ascending.\"\nhttps://learn.microsoft.com/en-us/azure/cosmos-db/nosql/how-to-manage-indexing-policy?tabs=dotnetv3%2Cpythonv3#composite-index-defined-for-name-asc-age-asc\n\"The composite index also supports an ORDER BY clause with the opposite order on all paths.\"\nhttps://learn.microsoft.com/en-us/azure/cosmos-db/index-policy#order-by-queries-on-multiple-properties\n\n2 - at the same time as the item creation\nhttps://learn.microsoft.com/en-us/azure/cosmos-db/index-policy#indexing-mode","poster":"[Removed]"},{"timestamp":"1714136760.0","content":"The index definition didn't include order for each property, so by default it's ASC. When querying it is used even in DESC direction as long as all props direction are matched. Also the order of props matter. \nThus, only the \"ORDER BY c.name DESC, c.name DESC\" utilizes index.","poster":"Norvegec","upvote_count":"2","comment_id":"1054591"},{"timestamp":"1707213300.0","content":"The second one was easy - the index is updated on creation. The first one is potentially missing some context. name then age for ORDER BY, but I guess DESC is the same for both on the last option, and there is no ASC for both name and age, otherwise would have gone for that one.","poster":"UNIFYSolutions","upvote_count":"3","comment_id":"973627","comments":[{"content":"The first option (order by age ASC, name ASC) is not viable because for composite indexes order of the filter matters. So if the index is (name, age) that is the order in which you have to specify them in the filter","timestamp":"1720102380.0","comment_id":"1113858","upvote_count":"1","poster":"xRiot007"}]}],"question_text":"HOTSPOT -\nYou have the indexing policy shown in the following exhibit.\n//IMG//\n\nUse the drop-down menus to select the answer choice that answers each question based on the information presented in the graphic.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","question_id":86,"timestamp":"2023-08-06 09:55:00","answer_images":["https://www.examtopics.com/assets/media/exam-media/04276/0010000001.jpg"],"exam_id":69,"topic":"4","answers_community":[],"isMC":false},{"id":"sl3mwF760gaas3sFh5d6","exam_id":69,"question_text":"Note: This question is part of a series of questions that present the same scenario. Each question in the series contains a unique solution that might meet the stated goals. Some question sets might have more than one correct solution, while others might not have a correct solution.\nAfter you answer a question in this section, you will NOT be able to return to it. As a result, these questions will not appear in the review screen.\nYou have a database in an Azure Cosmos DB Core (SQL) API account that is configured for multi-region writes.\nYou need to use the Azure Cosmos DB SDK to implement the conflict resolution policy for a container. The solution must ensure that any conflicts are sent to the conflicts feed.\nSolution: You set ConflictResolutionMode to Custom and you use the default settings for the policy.\nDoes this meet the goal?","answer_ET":"A","unix_timestamp":1663408560,"question_images":[],"answers_community":["A (100%)"],"topic":"4","question_id":87,"answer_images":[],"timestamp":"2022-09-17 11:56:00","isMC":true,"answer":"A","answer_description":"","discussion":[{"poster":"DudeWheresMyCar","upvote_count":"13","content":"Selected Answer: A\nAnswer should be A. The question explicitly states that:\n1. Use the Azure Cosmos DB SDK to implement the conflict resolution policy for a container\n2. Conflicts are sent to the conflicts feed\n\nThere are three ways for conflict resolution with the SDK:\n1. Last-Writer-Wins: Conflicts do NOT show up in conflict feed\n2. Custom Conflict Resolution Policy with Stored Proc: Conflicts do NOT show up in conflict feed unlesss there's an error in your stored procedure\n3. Custom Conflict Resolution Policy: Conflicts DO show up in conflict feed.\n\nhttps://learn.microsoft.com/en-us/azure/cosmos-db/sql/how-to-manage-conflicts?tabs=dotnetv2%2Capi-async%2Casync#create-a-custom-conflict-resolution-policy","timestamp":"1679054160.0","comment_id":"671404"},{"content":"Selected Answer: A\nThis is the only answer in the series that should be YES, all other solutions do not meet the goal.","timestamp":"1730973960.0","upvote_count":"1","poster":"[Removed]","comment_id":"1207784"},{"poster":"monniq","content":"Selected Answer: A\nIf you configure your container with the custom resolution option, and you fail to register a merge procedure on the container or the merge procedure throws an exception at runtime, the conflicts are written to the conflicts feed. \n\nhttps://learn.microsoft.com/en-us/azure/cosmos-db/conflict-resolution-policies","comment_id":"1013763","upvote_count":"2","timestamp":"1711099860.0"},{"poster":"Emil_Topics","comment_id":"997516","upvote_count":"2","content":"A is the correct answer.\nhttps://learn.microsoft.com/en-us/azure/cosmos-db/sql/how-to-manage-conflicts?tabs=dotnetv2%2Capi-async%2Casync#create-a-custom-conflict-resolution-policy\n\nGive example in the documentation:\nContainer container = await createClient.GetDatabase(this.databaseName)\n .CreateContainerIfNotExistsAsync(new ContainerProperties(this.udpCollectionName, \"/partitionKey\")\n {\n ConflictResolutionPolicy = new ConflictResolutionPolicy()\n {\n Mode = ConflictResolutionMode.Custom,\n ResolutionProcedure = string.Format(\"dbs/{0}/colls/{1}/sprocs/{2}\", this.databaseName, this.udpCollectionName, \"resolver\")\n }\n });\n\nawait container.Scripts.CreateStoredProcedureAsync(\n new StoredProcedureProperties(\"resolver\", File.ReadAllText(@\"resolver.js\"))\n);","timestamp":"1709467620.0"},{"timestamp":"1702301280.0","poster":"imando","upvote_count":"2","comment_id":"920611","content":"Selected Answer: A\nA is correct"}],"choices":{"A":"Yes","B":"No"},"url":"https://www.examtopics.com/discussions/microsoft/view/82502-exam-dp-420-topic-4-question-10-discussion/"},{"id":"3wUIrpOkRWEWSLwWWdNN","question_id":88,"topic":"4","timestamp":"2022-09-17 11:58:00","isMC":true,"question_images":[],"answer":"B","url":"https://www.examtopics.com/discussions/microsoft/view/82503-exam-dp-420-topic-4-question-11-discussion/","discussion":[{"comment_id":"671408","poster":"DudeWheresMyCar","upvote_count":"10","timestamp":"1710676680.0","content":"Selected Answer: B\nAnswer should be B. The question explicitly states that:\n1. Use the Azure Cosmos DB SDK to implement the conflict resolution policy for a container\n2. Conflicts are sent to the conflicts feed\n\nThere are three ways for conflict resolution with the SDK:\n1. Last-Writer-Wins: Conflicts do NOT show up in conflict feed\n2. Custom Conflict Resolution Policy with Stored Proc: Conflicts do NOT show up in conflict feed unless there's an error in your stored procedure\n3. Custom Conflict Resolution Policy: Conflicts DO show up in conflict feed.\n\nThis question is asking about item #2, which does NOT show up in the conflict feed by default. Now, if there is an error in the stored procedure it would be, but I'm assuming the question isn't considering this, as it isn't stated.\n\nhttps://learn.microsoft.com/en-us/azure/cosmos-db/sql/how-to-manage-conflicts?tabs=dotnetv2%2Capi-async%2Casync#create-a-custom-conflict-resolution-policy"},{"upvote_count":"2","timestamp":"1733923680.0","content":"Selected Answer: B\nB is correct","comment_id":"920610","poster":"imando"}],"question_text":"Note: This question is part of a series of questions that present the same scenario. Each question in the series contains a unique solution that might meet the stated goals. Some question sets might have more than one correct solution, while others might not have a correct solution.\nAfter you answer a question in this section, you will NOT be able to return to it. As a result, these questions will not appear in the review screen.\nYou have a database in an Azure Cosmos DB Core (SQL) API account that is configured for multi-region writes.\nYou need to use the Azure Cosmos DB SDK to implement the conflict resolution policy for a container. The solution must ensure that any conflicts are sent to the conflicts feed.\nSolution: You set ConflictResolutionMode to Custom. You set ResolutionProcedure to a custom stored procedure. You configure the custom stored procedure to use the conflictingItems parameter to resolve conflicts.\nDoes this meet the goal?","answer_images":[],"answer_ET":"B","answers_community":["B (100%)"],"choices":{"A":"Yes","B":"No"},"answer_description":"","unix_timestamp":1663408680,"exam_id":69},{"id":"GJBs17Kgds4MParmtlzI","answer":"B","question_images":[],"answer_description":"","url":"https://www.examtopics.com/discussions/microsoft/view/82198-exam-dp-420-topic-4-question-12-discussion/","answer_ET":"B","unix_timestamp":1663182300,"discussion":[{"timestamp":"1694718300.0","upvote_count":"15","comments":[{"timestamp":"1721896080.0","poster":"xofowi5140","content":"If the path isn't set or it's invalid, it defaults to _ts. Conflicts resolved with this policy do not show up in the conflict feed. This policy can be used by all APIs.","comment_id":"962511","upvote_count":"1"}],"comment_id":"669293","content":"Selected Answer: B\nThe question states \"The solution must ensure that any conflicts are sent to the conflicts feed.\" Last-writer-wins explicitly states - \"Conflicts resolved with this policy do not show up in the conflict feed. \"","poster":"essdeecee"},{"timestamp":"1734211320.0","poster":"biglebowski88","content":"Selected Answer: B\nNO. https://learn.microsoft.com/en-us/azure/cosmos-db/nosql/how-to-manage-conflicts?tabs=dotnetv2%2Capi-async%2Casync%2Cv4async#create-a-last-writer-wins-conflict-resolution-policy","upvote_count":"1","comment_id":"1326615"},{"upvote_count":"1","poster":"Bviljoen","content":"The solution involves setting the ConflictResolutionMode to LastWriterWins.\n\nWhen you use the LastWriterWins mode for conflict resolution, Cosmos DB will automatically resolve conflicts based on the last timestamp without writing them to the conflicts feed. The system doesn't send these conflicts to the conflicts feed because it's automatically handling them.\n\nGiven that the goal is specifically to \"ensure that any conflicts are sent to the conflicts feed\", the solution does not meet the goal.\n\nAnswer:\nB. No","comment_id":"1028621","timestamp":"1728462000.0"},{"timestamp":"1695999360.0","comment_id":"682790","poster":"TimSss","content":"Selected Answer: B\nWhat essdeecee said. LWW doesn't send anything to the conflict feed","upvote_count":"4"}],"question_text":"Note: This question is part of a series of questions that present the same scenario. Each question in the series contains a unique solution that might meet the stated goals. Some question sets might have more than one correct solution, while others might not have a correct solution.\nAfter you answer a question in this section, you will NOT be able to return to it. As a result, these questions will not appear in the review screen.\nYou have a database in an Azure Cosmos DB Core (SQL) API account that is configured for multi-region writes.\nYou need to use the Azure Cosmos DB SDK to implement the conflict resolution policy for a container. The solution must ensure that any conflicts are sent to the conflicts feed.\nSolution: You set ConflictResolutionMode to LastWriterWins and you use the default settings for the policy.\nDoes this meet the goal?","question_id":89,"answer_images":[],"timestamp":"2022-09-14 21:05:00","exam_id":69,"topic":"4","choices":{"B":"No","A":"Yes"},"answers_community":["B (100%)"],"isMC":true},{"id":"danFgcuTC01VL3i0nipH","question_id":90,"topic":"4","timestamp":"2023-08-06 10:14:00","isMC":true,"answer":"B","question_images":["https://img.examtopics.com/dp-420/image128.png"],"url":"https://www.examtopics.com/discussions/microsoft/view/117464-exam-dp-420-topic-4-question-13-discussion/","discussion":[{"poster":"monniq","content":"Selected Answer: A\nA matches the included path: /product/category/?\nhttps://learn.microsoft.com/en-us/azure/cosmos-db/index-policy#include-exclude-paths","upvote_count":"7","timestamp":"1711108440.0","comment_id":"1013933","comments":[{"content":"it doesn't. The path \"product/category/toys\" for example would match, but not \"product/category\"","comment_id":"1113914","timestamp":"1720105260.0","poster":"xRiot007","upvote_count":"1"}]},{"comment_id":"973640","upvote_count":"6","poster":"UNIFYSolutions","content":"Selected Answer: B\nThis should be B) based on the wildcard for path inclusion which is applied before the exclusions","timestamp":"1707214440.0","comments":[{"content":"Incorrect. Wildcard is \"*\". \"?\" stands for scalar (non-complex) values.","upvote_count":"2","comment_id":"1066189","poster":"Norvegec","timestamp":"1715230380.0"}]},{"comment_id":"1222030","poster":"8fe085a","upvote_count":"1","timestamp":"1732963860.0","content":"Actualy none as the whole index policy will generate an error:\nFailed to update container products:\n Message: {\"code\":\"BadRequest\",\"message\":\"Message: {\\\"Errors\\\":[\\\"The indexing path '\\\\/product\\\\/brand' could not be accepted, failed near position '14'. ... }\nBut as this is not an accepted answer, mayby A would be the best one."},{"comment_id":"1200645","poster":"[Removed]","upvote_count":"2","timestamp":"1729676880.0","content":"Selected Answer: B\nOnly B matches the pattern"},{"timestamp":"1720105200.0","content":"Selected Answer: B\nB - product/brand/tailspin will be indexed. \nThe exclusion is on product/brand not product/brand/*","comment_id":"1113913","poster":"xRiot007","upvote_count":"4"},{"comment_id":"1080461","comments":[{"content":"Answer is B","timestamp":"1720105020.0","poster":"xRiot007","comment_id":"1113910","upvote_count":"1"}],"timestamp":"1716687060.0","upvote_count":"1","poster":"edavison","content":"A\n/brand/* is being excluded below."},{"content":"Selected Answer: B\n/product/brand/tailspin","poster":"b890yc","upvote_count":"3","comment_id":"1019369","timestamp":"1711604100.0"}],"answer_images":[],"question_text":"You have an Azure Cosmos DB database named database1 that contains a container named container1. The container1 container stores product data and has the following indexing policy.\n\nWhich path will be indexed?\n\n//IMG//","answers_community":["B (68%)","A (32%)"],"answer_ET":"B","choices":{"C":"/product/brand","A":"/product/category","D":"/product/[]/category","B":"/product/brand/tailspin"},"answer_description":"","unix_timestamp":1691309640,"exam_id":69}],"exam":{"numberOfQuestions":147,"isImplemented":true,"isBeta":false,"name":"DP-420","lastUpdated":"12 Apr 2025","provider":"Microsoft","isMCOnly":false,"id":69},"currentPage":18},"__N_SSP":true}