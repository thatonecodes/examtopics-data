{"pageProps":{"questions":[{"id":"bNaXqCRXp1IXtSnZ6AXe","choices":{"E":"Configure In-memory OLTP.","G":"Reduce the Max Degree of Parallelism value.","C":"Enable parameter sniffing.","A":"Enable query optimizer fixes.","B":"Enable Resource Governor.","D":"Create a workload group.","F":"Run the Database Engine Tuning Advisor."},"answers_community":["BD (92%)","8%"],"isMC":true,"question_id":171,"answer":"BD","answer_ET":"BD","answer_images":[],"exam_id":68,"discussion":[{"content":"Selected Answer: BD\nThe given answer is correct.","comment_id":"529513","timestamp":"1674350160.0","upvote_count":"9","poster":"Singii"},{"comment_id":"921675","poster":"ladistar","timestamp":"1718219460.0","upvote_count":"1","content":"Per ChatGPT, BD is the correct answer."},{"comment_id":"593412","upvote_count":"3","timestamp":"1682633940.0","content":"Selected Answer: BD\nThe given answer is correct.","poster":"mhmodsaid"},{"content":"Answer is B and D from what I understood.\n\nFrom Microsoft docs:\nResource Governance\nTo enforce resource limits, Azure SQL Database uses a resource governance implementation that is based on SQL Server Resource Governor, modified and extended to run in the cloud. In SQL Database, multiple resource pools and workload groups, with resource limits set at both pool and group levels, provide a balanced\nDatabase-as-a-Service. User workload and internal workloads are classified into separate resource pools and workload groups. User workload on the primary and readable secondary replicas, including geo-replicas, is classified into the SloSharedPool1 resource pool and UserPrimaryGroup.DBId[N] workload groups, where [N] stands for the database ID value. In addition, there are multiple resource pools and workload groups for various\ninternal workloads.","poster":"smaa","upvote_count":"4","comment_id":"539635","timestamp":"1675422720.0"},{"timestamp":"1672679700.0","poster":"U_C","content":"The answer is correc.","comment_id":"515098","upvote_count":"3"},{"content":"Selected Answer: BC\nResource Governor + parameter sniffing","comment_id":"496920","upvote_count":"1","poster":"stdevops","comments":[{"content":"parameter sniffing what relation have to it ??\nit means that SP could be run w/o re-compiles","comment_id":"497810","poster":"Fedor","upvote_count":"3","timestamp":"1670597580.0"}],"timestamp":"1670513640.0"},{"content":"Answer looks correct","poster":"o2091","comment_id":"477176","upvote_count":"2","timestamp":"1668289440.0"}],"url":"https://www.examtopics.com/discussions/microsoft/view/65913-exam-dp-300-topic-3-question-28-discussion/","unix_timestamp":1636753440,"question_images":[],"question_text":"You have an Azure SQL managed instance named SQL1 and two Azure web apps named App1 and App2.\nYou need to limit the number of IOPs that App2 queries generate on SQL1.\nWhich two actions should you perform on SQL1? Each correct answer presents part of the solution.\nNOTE: Each correct selection is worth one point.","topic":"3","timestamp":"2021-11-12 22:44:00","answer_description":""},{"id":"Ghh9x5CtZvc89JO5hWF5","isMC":true,"question_text":"You have an Azure SQL database named db1 on a server named server1.\nThe Intelligent Insights diagnostics log identifies queries that cause performance issues due to tempDB contention.\nYou need to resolve the performance issues.\nWhat should you do?","unix_timestamp":1651332120,"exam_id":68,"answer":"A","choices":{"D":"Run the DBCC DBREINDEX command.","A":"Implement memory-optimized tables.","C":"Replace the sequential index keys with nonsequential keys.","B":"Run the DBCC FLUSHPROCINDB command."},"answer_description":"","timestamp":"2022-04-30 17:22:00","answer_ET":"A","answer_images":[],"answers_community":["A (100%)"],"question_id":172,"discussion":[{"timestamp":"1729161300.0","poster":"Ciupaz","content":"Selected Answer: A\nTempDB contention -> memory-optimized tables or reducing temporary tables or variables.","comment_id":"697315","upvote_count":"7"},{"content":"Selected Answer: A\nTempDB contention\nThe diagnostics log outputs tempDB contention details. You can use the information as the starting point for troubleshooting. There are two things you can pursue to alleviate this kind of contention and increase the throughput of the overall workload: You can stop using the temporary tables. You also can use memory-optimized tables.","upvote_count":"4","comment_id":"595117","timestamp":"1714490520.0","poster":"eric0718"}],"topic":"3","question_images":[],"url":"https://www.examtopics.com/discussions/microsoft/view/74978-exam-dp-300-topic-3-question-29-discussion/"},{"id":"4cR0qgMoBkz8vMdJpIEL","question_id":173,"answer_images":["https://www.examtopics.com/assets/media/exam-media/04275/0014900001.png"],"answer_ET":"","exam_id":68,"isMC":false,"url":"https://www.examtopics.com/discussions/microsoft/view/41682-exam-dp-300-topic-3-question-3-discussion/","topic":"3","discussion":[{"upvote_count":"34","comment_id":"275306","timestamp":"1690199880.0","content":"sys.dm_db_resource_stats: This DMV records a snapshot of resource usage for the database every 15 seconds (kept for 1 hour). \nsys.resource_stats: This can be run in the context of the master database of the Azure SQL Database server to see resource usage for all Azure SQL Database databases associated with the server. This view is less granular and shows resource usage every 5 minutes (kept for 14 days).\n\nsys.resource_stats is the correct answer due to two reason\n1. it holds data for 14 days while the other one holds data for 1 hour only.\n2.. It has start_time column while the other one does not have it.","poster":"vicky007_87"},{"content":"Answers are correct.\n1. sys.dm_db_resource_stats can't be becuase only keep data by 1h. \nsys.resource_stats can keep by 14days.\n2.dateadd is correct","upvote_count":"20","poster":"JakubWBialystok","timestamp":"1690277400.0","comment_id":"275902"},{"content":"Answer is correct","comment_id":"594711","upvote_count":"2","timestamp":"1730246760.0","poster":"eric0718"},{"comment_id":"564757","content":"sys.resource_stats\nDATEADD\n\nFor a less granular view of this data with longer retention period, use the sys.resource_stats catalog view in Azure SQL Database, or the sys.server_resource_stats catalog view in Azure SQL Managed Instance. This view captures data every 5 minutes and maintains historical data for 14 days.\n\nDECLARE @s datetime; \nDECLARE @e datetime; \nSET @s= DateAdd(d,-7,GetUTCDate()); \nSET @e= GETUTCDATE(); \nSELECT database_name, AVG(avg_cpu_percent) AS Average_Compute_Utilization \nFROM sys.resource_stats \nWHERE start_time BETWEEN @s AND @e \nGROUP BY database_name \nHAVING AVG(avg_cpu_percent) >= 80;","poster":"reachmymind","upvote_count":"1","timestamp":"1725960600.0"},{"comment_id":"418596","content":"Answer is given correct\nhttps://docs.microsoft.com/en-us/sql/relational-databases/system-catalog-views/sys-resource-stats-azure-sql-database?view=azuresqldb-current\nsee the example section yo will understand","timestamp":"1706868420.0","upvote_count":"3","poster":"Quarantino"},{"poster":"eezzykel","content":"the first selection is correct. sys.resource_stats returns data for longer retention period:\nys.dm_db_resource_stats returns within the last 60 minutes\nhttps://docs.microsoft.com/en-us/sql/relational-databases/system-dynamic-management-views/sys-dm-db-resource-stats-azure-sql-database?view=azuresqldb-current","upvote_count":"1","comment_id":"300444","timestamp":"1693159440.0"},{"timestamp":"1689699300.0","comment_id":"270532","poster":"bearmarsh","content":"If you query sys.dm_db_resource_stats the focus has to be in the DB. the query has DB filter applied suggestion you would be outside of DB focus and the Master focus would work fine on the query.","upvote_count":"1"},{"poster":"Phund","comment_id":"264428","timestamp":"1689038700.0","upvote_count":"3","content":"Sys.dm_db_resource_stats has not got 'start time' column\nanswer is sys.resource_stats"},{"timestamp":"1688686140.0","comment_id":"261395","content":"To get results from sys.resource_stats the focus needs to be on the master database. It will give an error if run from a user database. Sys.dm_dm_resource_stats can be run in a user database and will give more granular information, but as noted in the given answer there is no start time column.","poster":"JohnCrawford","upvote_count":"2"},{"comment_id":"261392","content":"Disregard my previous comment. I don't know why I can' get data back from sys.resource_stats, but Books Online agrees with the given answer.","upvote_count":"1","timestamp":"1688685960.0","poster":"JohnCrawford"},{"timestamp":"1688685720.0","upvote_count":"1","poster":"JohnCrawford","comments":[{"poster":"captainpike","timestamp":"1711552620.0","comment_id":"452448","upvote_count":"1","content":"https://docs.microsoft.com/en-us/sql/relational-databases/system-catalog-views/sys-resource-stats-azure-sql-database?view=azuresqldb-current"}],"content":"Answer given is wrong. Correct answer is sys.dm_db_resource_stats and DATEADD. There is no sys.resource_stats dmv.","comment_id":"261391"}],"answer":"","question_text":"HOTSPOT -\nYou have an Azure SQL database named db1.\nYou need to retrieve the resource usage of db1 from the last week.\nHow should you complete the statement? To answer, select the appropriate options in the answer area.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","answers_community":[],"question_images":["https://www.examtopics.com/assets/media/exam-media/04275/0014800001.png"],"answer_description":"Box 1: sys.resource_stats -\nsys.resource_stats returns CPU usage and storage data for an Azure SQL Database. It has database_name and start_time columns.\n\nBox 2: DateAdd -\nThe following example returns all databases that are averaging at least 80% of compute utilization over the last one week.\nDECLARE @s datetime;\nDECLARE @e datetime;\nSET @s= DateAdd(d,-7,GetUTCDate());\nSET @e= GETUTCDATE();\nSELECT database_name, AVG(avg_cpu_percent) AS Average_Compute_Utilization\n\nFROM sys.resource_stats -\nWHERE start_time BETWEEN @s AND @e\n\nGROUP BY database_name -\nHAVING AVG(avg_cpu_percent) >= 80\nIncorrect Answers:\nsys.dm_exec_requests:\nsys.dm_exec_requests returns information about each request that is executing in SQL Server. It does not have a column named database_name. sys.dm_db_resource_stats: sys.dm_db_resource_stats does not have any start_time column.\nNote: sys.dm_db_resource_stats returns CPU, I/O, and memory consumption for an Azure SQL Database database. One row exists for every 15 seconds, even if there is no activity in the database. Historical data is maintained for approximately one hour.\nSys.dm_user_db_resource_governance returns actual configuration and capacity settings used by resource governance mechanisms in the current database or elastic pool. It does not have any start_time column.\nReference:\nhttps://docs.microsoft.com/en-us/sql/relational-databases/system-catalog-views/sys-resource-stats-azure-sql-database","timestamp":"2021-01-07 02:22:00","unix_timestamp":1609982520},{"id":"Rfr8mQCrYAT9Ssfo96Gt","question_id":174,"question_text":"HOTSPOT -\nYou have an Azure subscription that contains an Azure SQL database.\nThe database fails to respond to queries in a timely manner.\nYou need to identify whether the issue relates to resource_semaphore waits.\nHow should you complete the Transact-SQL query? To answer, select the appropriate options in the answer area.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","answer_images":["https://www.examtopics.com/assets/media/exam-media/04275/0017500001.jpg"],"unix_timestamp":1651332540,"exam_id":68,"discussion":[{"content":"The answer is correct!","comment_id":"1280436","upvote_count":"1","poster":"Vitos25","timestamp":"1725806460.0"},{"comment_id":"734142","upvote_count":"2","timestamp":"1670028780.0","poster":"raavilam","content":"Answer is correct\nIn addition, sys.query_store_query table does not have column session_id required for the join in the query"},{"upvote_count":"3","poster":"wyindualizer","timestamp":"1668255360.0","content":"https://www.sqlshack.com/sql-server-performance-tuning-resource_semaphore-waits/","comment_id":"716676"},{"timestamp":"1651332540.0","content":"Answer is correct","poster":"eric0718","upvote_count":"2","comment_id":"595124"}],"answer":"","timestamp":"2022-04-30 17:29:00","question_images":["https://www.examtopics.com/assets/media/exam-media/04275/0017400001.jpg"],"answer_ET":"","isMC":false,"answer_description":"If your top wait type is RESOURCE_SEMAHPORE and you don't have a high CPU usage issue, you may have a memory grant waiting issue.\nDetermine if a RESOURCE_SEMAHPORE wait is a top wait\nUse the following query to determine if a RESOURCE_SEMAHPORE wait is a top wait\nSELECT wait_type,\nSUM(wait_time) AS total_wait_time_ms\nFROM sys.dm_exec_requests AS req\nJOIN sys.dm_exec_sessions AS sess\nON req.session_id = sess.session_id\n\nWHERE is_user_process = 1 -\n\nGROUP BY wait_type -\nORDER BY SUM(wait_time) DESC;\nReference:\nhttps://docs.microsoft.com/en-us/azure/azure-sql/database/monitoring-with-dmvs","answers_community":[],"url":"https://www.examtopics.com/discussions/microsoft/view/74980-exam-dp-300-topic-3-question-30-discussion/","topic":"3"},{"id":"lKncp3xsb8PrUJu6s6Tn","discussion":[{"timestamp":"1678906620.0","upvote_count":"5","comment_id":"840203","poster":"dryd","content":"Selected Answer: B\nI think the correct answer is B), because you should have 8 data files for 8vCPU in total, but you already have some data files and you just need to add/configure extra secondary files"},{"poster":"Vitos25","comment_id":"1293501","timestamp":"1728138060.0","content":"Selected Answer: C\nC is the right answer","upvote_count":"1"},{"timestamp":"1719085560.0","upvote_count":"2","comment_id":"1235575","poster":"04db10c","content":"Selected Answer: C\nC is the right answer , please refer JerryChan and Skaeakus91 comments"},{"comment_id":"1235322","timestamp":"1719051240.0","poster":"skarakus91","upvote_count":"3","content":"Answer is: C\n\nTo reduce tempdb contention without negatively affecting server performance, it is recommended to configure as many secondary data files as there are CPU cores up to a maximum of 8. This can help distribute the workload and reduce contention on tempdb."},{"poster":"EW3772","content":"Selected Answer: C\nAnswer should be C","comment_id":"1122634","upvote_count":"2","timestamp":"1705246740.0"},{"upvote_count":"2","timestamp":"1695025380.0","comment_id":"1010390","poster":"jerrychan","content":"The number of secondary data files depends on the number of (logical) processors on the machine. As a general rule, if the number of logical processors is less than or equal to eight, use the same number of data files as logical processors. If the number of logical processors is greater than eight, use eight data files. Then if contention continues, increase the number of data files by multiples of four until the contention decreases to acceptable levels, or make changes to the workload/code.\n\nSo answer should be C.8"},{"poster":"Preetha16","upvote_count":"1","comment_id":"980344","content":"Is the question being asked is total number of tempdb files or additional tempdb files to be configured?","timestamp":"1691968560.0"},{"upvote_count":"1","poster":"dryd","timestamp":"1678906380.0","comment_id":"840200","content":"I think the correct answer is B), because you should have 8 data files for 8vCPU in total, but you already have some data files and you just need to add/configure extra secondary files."},{"timestamp":"1665501420.0","upvote_count":"2","comment_id":"692214","content":"There should be one TempDB data file for each thread/core/vCPU on the instance with a maximum of 8.","poster":"Ciupaz"}],"exam_id":68,"url":"https://www.examtopics.com/discussions/microsoft/view/85170-exam-dp-300-topic-3-question-31-discussion/","topic":"3","answers_community":["B (50%)","C (50%)"],"answer":"B","choices":{"D":"64","C":"8","B":"4","A":"2"},"isMC":true,"answer_images":[],"answer_ET":"C","timestamp":"2022-10-11 17:17:00","answer_description":"","question_text":"You have SQL Server 2019 on an Azure virtual machine that runs Windows Server 2019. The virtual machine has 4 vCPUs and 28 GB of memory.\nYou scale up the virtual machine to 8 vCPUs and 64 GB of memory.\nYou need to reduce tempdb contention without negatively affecting server performance.\nWhat is the number of secondary data files that you should configure for tempdb?","unix_timestamp":1665501420,"question_images":[],"question_id":175}],"exam":{"lastUpdated":"12 Apr 2025","isMCOnly":false,"name":"DP-300","numberOfQuestions":360,"isBeta":false,"provider":"Microsoft","id":68,"isImplemented":true},"currentPage":35},"__N_SSP":true}