{"pageProps":{"questions":[{"id":"CmKH6XScmPDh1sdFBE9A","timestamp":"2021-03-11 21:32:00","question_id":156,"exam_id":48,"question_text":"HOTSPOT -\nYou need to ensure that validation testing is triggered per the requirements.\nHow should you complete the code segment? To answer, select the appropriate values in the answer area.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","url":"https://www.examtopics.com/discussions/microsoft/view/46573-exam-az-204-topic-27-question-1-discussion/","answer":"","unix_timestamp":1615494720,"answers_community":[],"answer_images":["https://img.examtopics.com/az-204/image630.png"],"topic":"27","isMC":false,"answer_ET":"","answer_description":"","question_images":["https://www.examtopics.com/assets/media/exam-media/04273/0006400001.jpg"],"discussion":[{"comments":[{"comment_id":"316441","comments":[{"upvote_count":"3","comment_id":"367609","timestamp":"1653625620.0","poster":"jvyas","content":"\"contentanalysisservice\" is the name of the repository/service. check the line AM08 in application manifest file."},{"comments":[{"timestamp":"1650091500.0","upvote_count":"1","comment_id":"336795","comments":[{"comment_id":"337836","upvote_count":"7","timestamp":"1650232920.0","content":"An event does not have service, repository or imageCollection as top-level data, it has a topic. Regarding the repository, from the choises available, the target has only repository as property. It is all documented in the already given link:\nhttps://docs.microsoft.com/en-us/azure/event-grid/event-schema-container-registry?tabs=event-grid-event-schema","comments":[{"poster":"Pozz4ever","comment_id":"341398","timestamp":"1650692820.0","content":"thanks","upvote_count":"1"}],"poster":"kapetan"}],"content":"Sorry I Don't understand... as you said contentanalysisservice in the new of the service, I suppose, and contosoimages is the name of the ACR. so how can it be repository and topic?","poster":"Pozz4ever"}],"upvote_count":"3","content":"Okay, halmosi's answer seems possible:\nhttps://docs.microsoft.com/de-de/azure/event-grid/event-schema-container-registry?tabs=event-grid-event-schema","poster":"Shion2009","timestamp":"1648051800.0","comment_id":"318231"}],"upvote_count":"2","poster":"Shion2009","content":"I'm not sure if this is correct. Take a look at Background Overview:\n\"The ContentAnalysisService is deployed with Azure Container Instances from a private Azure Container Registry named contosoimages.\"\n\n\"contentanalysisservice\" is not the name of a repository and \"contonsoimages\" is the name of the ACR.","timestamp":"1647876840.0"},{"upvote_count":"2","content":"Yes, imho the answer should be ImagePushed, repository and topic. As the Example Event shows a Event Grid event schema, with explained the scheme. The schema of the Azure Container Registry EventGrid events doesn't contain fields like imagecollection, service, etc. Note that for eventType only ImagePushed, ImageDeleted, ChartPushed and ChartDeleted (last two raised form Helm charts) are valid. So 1 should be ImagePushed, send the json notes a data.target.repository","comment_id":"393955","timestamp":"1656517560.0","poster":"gbtest"},{"content":"On my exam 2022-12-26.\nChose：\n1. ImagePushed\n2. repository\n3. topic","comment_id":"758032","poster":"KingChuang","upvote_count":"2","timestamp":"1703640300.0"},{"comment_id":"314001","upvote_count":"6","content":"thanks for the tip! The answer indicated by the test seems to be completely \"off topic\" ;-)","timestamp":"1647599160.0","poster":"rdemontis"},{"poster":"clarionprogrammer","timestamp":"1649876640.0","content":"In English...\nhttps://docs.microsoft.com/en-us/azure/event-grid/event-schema-container-registry?tabs=event-grid-event-schema","comment_id":"334884","upvote_count":"2"}],"upvote_count":"116","content":"Incorrect... \n1. ImagePushed\n2. repository\n3. topic\n\nhttps://docs.microsoft.com/hu-hu/azure/event-grid/event-schema-container-registry?tabs=event-grid-event-schema","timestamp":"1647030720.0","poster":"halmosi","comment_id":"308320"},{"timestamp":"1698145200.0","content":"Ok, I need to start memorizing all schemes of possible event system topics:\nAzure API Management\nAzure App Configuration\nAzure App Service\nAzure Blob Storage\nAzure Cache for Redis\nAzure Communication Services\nAzure Container Registry\nAzure Event Hubs\nAzure FarmBeats\nAzure Health Data Services\nAzure IoT Hub\nAzure Key Vault\nAzure Kubernetes Service\nAzure Machine Learning\nAzure Maps\nAzure Media Services\nAzure Policy\nAzure resource groups\nAzure Service Bus\nAzure SignalR\nAzure subscriptions....","comment_id":"702938","poster":"coffecold","upvote_count":"16"},{"upvote_count":"1","content":"On my exam 2023-10 before the Update of the Exam","poster":"ENGs","timestamp":"1728116400.0","comment_id":"1025394"},{"comment_id":"1011351","content":"I would go for \n1. ImagePushed\n2. Repository\n3. Topic \n\nBased on the grid event schema example everyone has linked to \n\n[{\n \"topic\": \"/subscriptions/<subscription-id>/resourceGroups/<resource-group-name>/providers/Microsoft.ContainerRegistry/registries/<name>\",\n \"eventType\": \"Microsoft.ContainerRegistry.ImagePushed\",\n \"data\": {\n \"target\": {\n \"repository\": \"<name>\",\n },\n },\n}]","upvote_count":"1","timestamp":"1726752420.0","poster":"katrang"},{"comment_id":"963250","timestamp":"1721960400.0","comments":[{"upvote_count":"1","comment_id":"998065","content":"What did you choose then?","timestamp":"1725412320.0","poster":"macobuzi"}],"content":"Had this question today: 2023-07-26","upvote_count":"2","poster":"NightshadeRC"},{"content":"The number of questions with incorrect responses is overwhelming. ExamTopics should mark the correct answers properly to make life easier for us. :(","timestamp":"1708280100.0","upvote_count":"8","comment_id":"813372","poster":"KGi"},{"content":"Got this in 16/02/2023","timestamp":"1708068840.0","poster":"AlexeyG","upvote_count":"4","comment_id":"810365"},{"content":"ImagePushed\nRepository\nTopic","upvote_count":"2","timestamp":"1702191360.0","poster":"OPT_001122","comment_id":"740742"},{"poster":"gmishra88","timestamp":"1696770360.0","content":"How does a new image being pushed mean a new deployment. And they expect me to remember the whole schema for all the services that can send events to EventGrid? And I could even imagine a blob storage being there. This requirement itself is at the edge of darkness and using a repository event to fulfill that requirement can only be thought of really junior hello world programmers of Microsoft.","comments":[{"poster":"gmishra88","content":"EUREKA. Did you guys notice \"All Internal services must only be accessible from internal Virtual Networks (VNets).\" It NEVER said it should be connected to a vnet. It just said it should be ACCESSED from INTERNAL vnet (not Azure vnet). A nice red-herring planted by Microsoft guys (Do not be evil) \n\nTHE ANSWER SHOULD BE CONSUMPTION PLAN","comment_id":"689337","upvote_count":"1","timestamp":"1696770840.0"}],"comment_id":"689325","upvote_count":"1"},{"content":"This question is also in Udemy. \n1. ImagePushed\n2. repository\n3. topic","poster":"TMakki","timestamp":"1691695320.0","comment_id":"645129","comments":[{"timestamp":"1729185420.0","upvote_count":"1","content":"Which course?","poster":"Ciupaz","comment_id":"1046230"}],"upvote_count":"2"},{"comment_id":"617877","poster":"Sandeep12093","timestamp":"1687024800.0","comments":[{"comments":[{"timestamp":"1687025580.0","upvote_count":"1","content":"2. REPOSITORY\n\nhttps://docs.microsoft.com/en-us/azure/container-registry/container-registry-event-grid-quickstart\nCheck image it has schema written.","comment_id":"617886","poster":"Sandeep12093"}],"content":"I just checked ACR event schema \n3. Topic - since it has id,eventtype,topic,subject,data,dataversion.... there is no repository","upvote_count":"1","poster":"Sandeep12093","comment_id":"617883","timestamp":"1687025280.0"}],"content":"1. Imagepushed - acr has only 4 event types imagepushed, imagedeleted, chartpushed n chart deleted \n2. Service ?\n3. Repository - this is correct as per MS documentation","upvote_count":"1"},{"content":"100 % correct answer: Cross referenced in Udemy\nImagePushed\nRepository\nTopic","poster":"SivajiTheBoss","comment_id":"566528","timestamp":"1678679460.0","upvote_count":"3"},{"timestamp":"1678430880.0","content":"Got this one 03/2022","comment_id":"564594","poster":"petitbilly","upvote_count":"1"},{"upvote_count":"2","timestamp":"1674980460.0","comment_id":"535309","content":"ImagePushed\nRepository\nTopic\n\nhttps://docs.microsoft.com/en-us/azure/event-grid/event-schema-container-registry?tabs=event-grid-event-schema","poster":"leonidn"},{"poster":"mc0re","timestamp":"1660713900.0","comment_id":"426128","content":"\"Image pushed into a repository\" is not the same as \"image deployed, container is running\". One cannot start testing on a pushed image, only after it has been deployed.","upvote_count":"3","comments":[{"upvote_count":"1","poster":"MiraA","comment_id":"458608","content":"Hmm, maybe some multi-step task will be used so \"ImagePushed\" event means the image will be run as a container in a moment? Or is there some functionality in that private ACR which will run/deploy the updated image automatically?\n\nhttps://docs.microsoft.com/en-us/azure/container-registry/container-registry-tasks-multi-step","timestamp":"1665131280.0"}]},{"upvote_count":"4","poster":"Harichakradhar","content":"100 % correct\nImagePushed\nRepository\nTopic","timestamp":"1658885700.0","comment_id":"415057"},{"poster":"sien","comment_id":"340136","content":"Indeed,\nImagePushed\nRepository and \nTopic","timestamp":"1650524040.0","upvote_count":"7"}]},{"id":"TjBTW3x9wjlQ6eEQxBbM","question_id":157,"url":"https://www.examtopics.com/discussions/microsoft/view/56361-exam-az-204-topic-27-question-2-discussion/","timestamp":"2021-06-30 15:30:00","answer":"B","topic":"27","isMC":true,"question_images":[],"answers_community":["B (100%)"],"choices":{"A":"Premium plan","C":"Consumption plan","B":"App Service plan"},"question_text":"You need to deploy the CheckUserContent Azure Function. The solution must meet the security and cost requirements.\nWhich hosting model should you use?","exam_id":48,"answer_ET":"B","answer_description":"","discussion":[{"comment_id":"432483","timestamp":"1629996900.0","comments":[{"timestamp":"1719794280.0","poster":"1CY1","upvote_count":"2","content":"Don't understand why so many people have upvoted this. No reason has been given for excluding App Service Plan. B appears to be correct.","comment_id":"1239927"},{"comment_id":"547665","comments":[{"timestamp":"1646823180.0","comment_id":"563968","upvote_count":"2","poster":"wangga","content":"I agree, VNET and multiple regions only available for AppService plan"}],"timestamp":"1644919200.0","content":"Premium does NOT support VNET in multiple regions: https://docs.microsoft.com/en-us/azure/azure-functions/functions-scale#networking-features, i beleive it's B","upvote_count":"8","poster":"xavi1"},{"content":"Are you sure? When I compare the costs (same ACU, memory, etc.) then App Service Plan is always cheaper.","poster":"troy89","comment_id":"552240","timestamp":"1645387860.0","upvote_count":"3"},{"comment_id":"432934","content":"Too add some more stuff here, ASE(application service environment) is very different app service plan and way more expensive, in addition, those two docker images are in azure registry so, definitely can be supported by premium plan.","poster":"ning","upvote_count":"1","timestamp":"1630055460.0"},{"content":"but here will use existing app service plan, will not create new one. so using existing app service plan will be cost effective.","upvote_count":"3","timestamp":"1638860700.0","poster":"altafpatel1984","comment_id":"495703"}],"upvote_count":"26","content":"A is correct! I guess the guy gives the answer confused with which one is cheaper. Premium is cheaper than app service place. It can auto scale, warm starting and with VNET integration. In addition, it can run custom container as well, just the same as app service plan.","poster":"ning"},{"content":"I believed the answer is correct.\nhttps://docs.microsoft.com/en-us/azure/azure-functions/dedicated-plan\n\"You pay for function apps in an App Service Plan as you would for other App Service resources. This differs from Azure Functions Consumption plan or Premium plan hosting...\"\nSo.. ASE can be made available on the App service plan that hosting the function","comment_id":"429846","upvote_count":"8","timestamp":"1629710520.0","poster":"j888"},{"upvote_count":"3","poster":"8ac3742","timestamp":"1722286320.0","comment_id":"1257694","content":"The answer B) is correct: given that All services must run in multiple regions, we must choose App Service plan(dedicated plan), because the Premium plan only supports regional vNet Integration. Also, normally Premium plan is more costful than the App Service plan, premium payment is based on the compute resource allocated, and App Service plan is based on the resource allocated too with the price tier(basic, standard and premium V2), but premium plan provides more advanced scaling option and no cold start"},{"comments":[{"timestamp":"1697888040.0","content":"sorry, what do you mean by \"before the update of the Exam\"?","upvote_count":"3","poster":"MikeAWS","comments":[{"comment_id":"1069121","content":"Microsoft have recently updated AZ-204 courses. (Not that much actually, but it may have impact to some of the questions in the exam)","upvote_count":"2","timestamp":"1699860720.0","poster":"dddddd111"}],"comment_id":"1049441"}],"comment_id":"1025396","upvote_count":"3","poster":"ENGs","timestamp":"1696494060.0","content":"On my exam 2023-10 before the Update of the Exam"},{"timestamp":"1690338000.0","comment_id":"963251","poster":"NightshadeRC","upvote_count":"3","content":"Had this question today: 2023-07-26"},{"content":"Selected Answer: B\nOn My Exam:2022-12-02","comment_id":"776451","upvote_count":"1","timestamp":"1673779500.0","poster":"appieazure"},{"comment_id":"758035","poster":"KingChuang","upvote_count":"3","timestamp":"1672104420.0","content":"Selected Answer: B\nOn My Exam:2022-12-26\nMy Choice:\nB:App Service plan"},{"upvote_count":"6","poster":"OPT_001122","timestamp":"1670655720.0","content":"Selected Answer: B\nhttps://learn.microsoft.com/en-us/azure/azure-functions/functions-scale#networking-features\n\nPremium plan Vnet integration is regional hence for this question it is not the correct answer.\n\nCorrect Anser - App Service Plan","comment_id":"740745"},{"timestamp":"1665234720.0","poster":"gmishra88","upvote_count":"3","comment_id":"689333","content":"Another highly debated question. Very good points on whether Premium is costly or (dedicated) app service plan is costly. No idea. Only thing sure is it cannot be consumption because of the hidden wording for vnet integration. But I guess Microsoft guys forget that they added that vnet integration requirement and expected us to answer Consumption plan. But my intelligence will make me answer app service plan and hope for the best"},{"upvote_count":"2","content":"I tink B is correct\nThe virtual network integration feature is used in Azure App Service dedicated compute pricing tiers. If your app is in an App Service Environment, it's already in a virtual network and doesn't require use of the VNet integration feature to reach resources in the same virtual network: https://docs.microsoft.com/en-us/azure/azure-functions/functions-networking-options#:~:text=The%20virtual%20network%20integration%20feature,in%20the%20same%20virtual%20network.","poster":"naicud","timestamp":"1648627800.0","comment_id":"578139"},{"upvote_count":"1","content":"Correct Answer: A\nhttps://docs.microsoft.com/en-us/azure/azure-functions/functions-scale","poster":"SivajiTheBoss","comment_id":"563501","timestamp":"1646769660.0"},{"comment_id":"528692","content":"The given answer and explanation seem correct.","timestamp":"1642706580.0","poster":"Mev4953","upvote_count":"1"},{"content":"\"If you just want to run your function app in a virtual network, you can do this using the Premium plan.\"\n\nReference: https://docs.microsoft.com/en-us/azure/azure-functions/dedicated-plan","comment_id":"486186","poster":"altafpatel1984","upvote_count":"4","timestamp":"1637779680.0"},{"timestamp":"1635635160.0","poster":"phvogel","content":"I'm liking the App Service plan (B). It's 10 cents an hour cheaper than Premium at the S1 level (even cheaper at higher levels) and has the VNet integration the case study requires. The only thing that Premium adds is private endpoints which aren't required here.\nhttps://azure.microsoft.com/en-us/pricing/details/app-service/windows/","upvote_count":"4","comment_id":"470421"},{"poster":"Kalaisuran","comment_id":"395975","timestamp":"1625144280.0","content":"Option: A. \nReason : As per the security rule : All Internal services must only be accessible from internal Virtual Networks (VNets). Since the AZ function consumption plan does n't support vnet, So choose the next option Premium Plan","upvote_count":"3","comments":[{"poster":"ZodiaC","content":"ANY LINKS?","upvote_count":"1","comments":[{"comment_id":"415981","timestamp":"1627452960.0","upvote_count":"1","poster":"SWedig","content":"https://docs.microsoft.com/en-us/azure/azure-functions/functions-scale"}],"comment_id":"414676","timestamp":"1627303200.0"},{"comment_id":"418341","content":"https://docs.microsoft.com/en-us/azure/azure-functions/functions-scale\nwith this document, ASE provides vNet integration. So, answer should be ASE for sure.","upvote_count":"2","timestamp":"1627835280.0","poster":"JamesDC"}]},{"poster":"Jurgen1234","comments":[{"poster":"ning","comment_id":"444200","upvote_count":"1","comments":[{"comment_id":"525003","upvote_count":"1","poster":"PhilLI","content":"after choosing Docker Image you can still select an App Service Plan ....","timestamp":"1642343640.0"}],"timestamp":"1631571600.0","content":"Completely wrong! Container instance is different from app service plan, two very different ways to host container images, there is no way you can have a container instance running on top of a service plan"}],"timestamp":"1625059800.0","content":"Should'be A Imho, both the UploadService and AnalysisService run in container instances on in app service plans","comment_id":"394763","upvote_count":"1"}],"answer_images":[],"unix_timestamp":1625059800},{"id":"SPQCczBzwbEYTFW6fC7T","question_text":"DRAG DROP -\nYou need to deploy a new version of the LabelMaker application to ACR.\nWhich three actions should you perform in sequence? To answer, move the appropriate actions from the list of actions to the answer area and arrange them in the correct order.\nSelect and Place:\n//IMG//","answers_community":[],"topic":"28","timestamp":"2021-07-09 06:25:00","answer_description":"Step 1: Build a new application image by using dockerfile\nStep 2: Create an alias if the image with the fully qualified path to the registry\nBefore you can push the image to a private registry, you've to ensure a proper image name. This can be achieved using the docker tag command. For demonstration purpose, we'll use Docker's hello world image, rename it and push it to ACR.\n# pulls hello-world from the public docker hub\n$ docker pull hello-world\n# tag the image in order to be able to push it to a private registry\n$ docker tag hello-word <REGISTRY_NAME>/hello-world\n# push the image\n$ docker push <REGISTRY_NAME>/hello-world\nStep 3: Log in to the registry and push image\nIn order to push images to the newly created ACR instance, you need to login to ACR form the Docker CLI. Once logged in, you can push any existing docker image to your ACR instance.\nScenario:\nCoho Winery plans to move the application to Azure and continue to support label creation.\n\nLabelMaker app -\nAzure Monitor Container Health must be used to monitor the performance of workloads that are deployed to Kubernetes environments and hosted on Azure\nKubernetes Service (AKS).\nYou must use Azure Container Registry to publish images that support the AKS deployment.\nReference:\nhttps://thorsten-hans.com/how-to-use-a-private-azure-container-registry-with-kubernetes-9b86e67b93b6 https://docs.microsoft.com/en-us/azure/container-registry/container-registry-tutorial-quick-task","unix_timestamp":1625804700,"question_images":["https://www.examtopics.com/assets/media/exam-media/04273/0007300001.jpg"],"isMC":false,"discussion":[{"comment_id":"563574","upvote_count":"27","poster":"SivajiTheBoss","timestamp":"1662668640.0","comments":[{"poster":"OPT_001122","comment_id":"721799","timestamp":"1684470000.0","upvote_count":"1","content":"nice explanation"}],"content":"Correct answer given.\nStep 1: Build a new application image by using dockerfile\n\nFROM node:8.9.3-alpine\nRUN mkdir -p /usr/src/app\nCOPY ./app/ /usr/src/app/\nWORKDIR /usr/src/app\nRUN npm install\nCMD node /usr/src/app/index.js\n\ndocker build ./aci-helloworld -t aci-test-app\ndocker images\ndocker run -d -p 8080:80 aci-test-app\n(Example to build image only and run locally)\n\nStep 2: Create an alias if the image with the fully qualified path to the registry\ndocker tag mcr.microsoft.com/oss/nginx/nginx:1.15.5-alpine myregistry.azurecr.io/samples/nginx\n\nStep 3: Log in to the registry and push image\ndocker push myregistry.azurecr.io/samples/nginx"},{"upvote_count":"10","comment_id":"402411","poster":"jay158","content":"Correct\nhttps://docs.microsoft.com/en-us/azure/container-registry/container-registry-get-started-docker-cli?tabs=azure-cli","comments":[{"poster":"AnKiLa","upvote_count":"3","content":"Agree\nBut it's an update - so this link looks better for me:\nhttps://docs.microsoft.com/en-us/azure/container-registry/container-registry-tutorial-deploy-update","comment_id":"410693","timestamp":"1642754880.0"}],"timestamp":"1641709500.0"},{"timestamp":"1688366940.0","poster":"whiteblack","comment_id":"764338","content":"Very Useful.","upvote_count":"1"},{"comment_id":"689345","poster":"gmishra88","timestamp":"1680960300.0","upvote_count":"1","content":"You could still alias with a new build number, but yeah, not required. And, yes, the version can be a build number. But if only three can be chosen I will not select that"},{"comment_id":"566492","content":"Got it on 03/2022, I chose as below:\nStep 1: Build a new application image by using dockerfile\nStep 2: Create an alias if the image with the fully qualified path to the registry\nStep 3: Log in to the registry and push image","timestamp":"1663031160.0","upvote_count":"3","poster":"meoukg"},{"upvote_count":"4","timestamp":"1645083420.0","content":"Strange question. I realize that from the provided options this is the only solution one can assemble. But the project describes LabelMaker app to be a set of images running in AKS. Pushing a new image into ACR won't change a thing, as one needs to update the YAML deployment file for Kubernetes to pick up the image, and then tell AKS to reconcile.","comment_id":"426130","poster":"mc0re","comments":[{"content":"It is a Microsoft question. Keep intelligence out of it","timestamp":"1680960240.0","comment_id":"689344","upvote_count":"8","poster":"gmishra88"},{"comment_id":"1208997","timestamp":"1731177960.0","upvote_count":"1","content":"Question says \"You need to deploy ...to ACR\" - ACR is the registry - it does exactly that. Question does not say, that you need to update production containers.","poster":"fuji36850"}]}],"answer":"","question_id":158,"exam_id":48,"answer_ET":"","url":"https://www.examtopics.com/discussions/microsoft/view/57511-exam-az-204-topic-28-question-1-discussion/","answer_images":["https://www.examtopics.com/assets/media/exam-media/04273/0007400001.jpg"]},{"id":"XyOABJog1tWldEfQPdjB","question_id":159,"topic":"28","answer_images":[],"question_text":"You need to access data from the user claim object in the e-commerce web app.\nWhat should you do first?","isMC":true,"discussion":[{"timestamp":"1644113100.0","poster":"j888","comments":[{"poster":"Jonas_86","comment_id":"448352","upvote_count":"5","content":"your link is intersting but I think the answer you provide is FALSE.\nAs I understood from the link, if you want to access user claims from Azure Function then the C answer is OK but if you want to get it from webapp then the A answer is the good one.\nPlease, recheck the link above","timestamp":"1647802680.0","comments":[{"comment_id":"470424","poster":"phvogel","timestamp":"1651270620.0","upvote_count":"6","content":"To quote the link provided:\n\"For all language frameworks, App Service makes the claims in the incoming token (whether from an authenticated end user or a client application) available to your code by injecting them into the request headers. External requests aren't allowed to set these headers, so they are present only if set by App Service....\"\n\nSo the first thing that happens in the the Web App is to read the information from the request headers that was inserted by the App Service as part of authenticating the user in order to provide the user's claims.","comments":[{"comments":[{"upvote_count":"1","poster":"hubekpeter","content":"Exactly.","timestamp":"1685202660.0","comment_id":"728494"}],"timestamp":"1661061720.0","comment_id":"552638","poster":"troy89","content":"I would say this is correct because the JWT is sent in the header and it contains the claims. No need to access the GraphAPI","upvote_count":"1"}]},{"poster":"wsellmair","content":"in Function you can access the user clams from headers, ClaimsPrincipal\n\nFor Azure Functions, ClaimsPrincipal.Current is not populated for .NET code, but you can still find the user claims in the request headers, or get the ClaimsPrincipal object from the request context or even through a binding parameter. See working with client identities in Azure Functions for more information.\n\nhttps://docs.microsoft.com/en-us/azure/app-service/configure-authentication-user-identities","timestamp":"1659938700.0","comment_id":"542919","upvote_count":"1"}]}],"upvote_count":"28","content":"https://docs.microsoft.com/en-us/azure/app-service/configure-authentication-user-identities\nThe answer C","comment_id":"420520"},{"poster":"MiraA","upvote_count":"6","timestamp":"1649321580.0","comment_id":"458622","comments":[{"timestamp":"1680960840.0","comment_id":"689353","poster":"gmishra88","content":"The question does not ask anything but claims and does not say read profile (which has detailed information), in which case you might want to access the graphs API if given access.","upvote_count":"1"},{"upvote_count":"1","content":"Yeah, but to access the GraphAPI you need the information from the token which is sent in the header, so in both ways, the first step is to read the header values.","poster":"troy89","timestamp":"1660481640.0","comment_id":"547194"}],"content":"Answer is A.\nCheck this tutorial related to a web app accessing Microsoft Graph to get signed user's display name and his/her photo from Azure AD. It seems it corresponds to \"access data from the user claim object\" requirement. \n\nhttps://docs.microsoft.com/en-us/azure/app-service/scenario-secure-app-access-microsoft-graph-as-user\n\nNote: Reading HTTP headers (the answer C) could give basic information only - but the user claim contains more detailed data.\n\nhttps://docs.microsoft.com/en-us/azure/app-service/configure-authentication-user-identities"},{"content":"The answer C","poster":"paddy23","timestamp":"1722092700.0","upvote_count":"1","comment_id":"1133512"},{"upvote_count":"2","content":"Selected Answer: C\nApp Service makes the claims in the incoming token (whether from an authenticated end user or a client application) available to your code by injecting them into the request headers.\n\nSo from this point, you just need to read them in your code","comment_id":"1007369","timestamp":"1710412380.0","poster":"katrang"},{"content":"Selected Answer: C\n\"E-commerce application sign-ins must be secured by using Azure App Service authentication and Azure Active Directory (AAD).\" so using Microsoft Graph API call is probably what you want to do but the tricky part is the question asks what should you do first. Read the header to get the info you need to make the Graph API call would be my vote.","poster":"JH81","upvote_count":"1","timestamp":"1703079600.0","comment_id":"928409"},{"comment_id":"721801","poster":"OPT_001122","content":"Selected Answer: C\nThe answer C","upvote_count":"1","timestamp":"1684470060.0"},{"upvote_count":"1","timestamp":"1661168820.0","content":"Selected Answer: C\nhttps://docs.microsoft.com/en-us/azure/app-service/configure-authentication-user-identities","comment_id":"553715","poster":"wsellmair"},{"upvote_count":"2","comment_id":"542918","poster":"wsellmair","comments":[{"timestamp":"1697300880.0","poster":"surprise0011","comment_id":"870331","content":"Great finding! New link from learn.microsoft:\nhttps://learn.microsoft.com/en-us/azure/app-service/configure-authentication-user-identities","upvote_count":"1"}],"timestamp":"1659938640.0","content":"in Function you can access the user clams from headers, ClaimsPrincipal\n\nFor Azure Functions, ClaimsPrincipal.Current is not populated for .NET code, but you can still find the user claims in the request headers, or get the ClaimsPrincipal object from the request context or even through a binding parameter. See working with client identities in Azure Functions for more information.\n\nhttps://docs.microsoft.com/en-us/azure/app-service/configure-authentication-user-identities"},{"content":"I think it's (A) though because it's a e-commerce 'web app' which is not an 'Azure function'.","upvote_count":"6","timestamp":"1647765960.0","poster":"justyoung17","comment_id":"448024","comments":[{"upvote_count":"3","poster":"ensa","content":"But Azure function will get data from web app and App Service passes user claims to the app by using special request headers. External requests aren’t allowed to set these headers, so they are present only if set by the App Service. then \n[FunctionName(\"ClaimsDemo\")]\n public static IActionResult Run\n ([HttpTrigger(AuthorizationLevel.Anonymous, \"get\", \"post\", Route = null)]\n HttpRequest req, ILogger log)\n {\n\n //Extract User ID and Claims from the request headers\n var principal_name = req.Headers[\"X-MS-CLIENT-PRINCIPAL-NAME\"].FirstOrDefault();\n var principal_Id = req.Headers[\"X-MS-CLIENT-PRINCIPAL-ID\"].FirstOrDefault();\nSo CCCCCCCCCCCCCCCCCCCCC","comment_id":"464187","timestamp":"1650295500.0"}]},{"upvote_count":"3","comment_id":"432514","poster":"ning","timestamp":"1645906500.0","content":"I do not know if C is correct, the thing you need is https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-net-migration, you cannot read the http header directly, you need MS library, best thing I can see if graph from A ... But it is not really, the name of the library ..."}],"timestamp":"2021-08-06 02:05:00","exam_id":48,"answer":"C","answers_community":["C (100%)"],"url":"https://www.examtopics.com/discussions/microsoft/view/59347-exam-az-204-topic-28-question-2-discussion/","unix_timestamp":1628208300,"answer_ET":"C","question_images":[],"choices":{"C":"Update the e-commerce web app to read the HTTP request header values.","A":"Write custom code to make a Microsoft Graph API call from the e-commerce web app.","B":"Assign the Contributor RBAC role to the e-commerce web app by using the Resource Manager create role assignment API.","D":"Using the Azure CLI, enable Cross-origin resource sharing (CORS) from the e-commerce checkout API to the e-commerce web app."},"answer_description":""},{"id":"s1nBnCkhTCTSiQE64ktx","discussion":[{"content":"1. azure cosmos\n2. output\n3. blob storage","poster":"andrvelich","upvote_count":"56","comments":[{"upvote_count":"4","comment_id":"596121","timestamp":"1651510320.0","content":"Agreed: We need write to cosmos output, so that deals box1 and 2, and func is triggered by changes on bloob","poster":"SaintBahamut"},{"content":"Seems ok, te person who writes answers in exam topics doesn't read questions...","upvote_count":"12","comment_id":"658137","timestamp":"1662187980.0","poster":"Dani_ac7"},{"poster":"adilkhan","content":"100% correct!","timestamp":"1680996660.0","upvote_count":"1","comment_id":"865162"},{"timestamp":"1684824180.0","upvote_count":"1","poster":"UzrShkl","comment_id":"904650","content":"Correct"}],"comment_id":"594850","timestamp":"1651294140.0"},{"poster":"SenseiJC","comment_id":"732900","comments":[{"poster":"antonmelode","upvote_count":"1","content":"You're quite right. Don't really understand those suggested answers.\nEspecially when they mention immediately and CosmosDB","comment_id":"1226331","timestamp":"1717784280.0"},{"timestamp":"1693793460.0","upvote_count":"1","comment_id":"998098","poster":"macobuzi","content":"There is no EventGrid mentioned anywhere. You can simply use Azure Function Blob Trigger to get triggered from the Blob storage."},{"content":"This is the right answer and has to be highest voted","timestamp":"1690100160.0","upvote_count":"1","poster":"ks321","comment_id":"960224"}],"content":"1. (binding) = Azure CosmosDB\n reason: Azure Functions must update Azure Cosmos DB\n2. (direction) = output\n reason: all triggers are input, so we are not talking about the trigger binding. we must update Azure Cosmos DB so we need output binding. If input and output were selectable, i'd probably go for that\n3. (trigger) = EventGrid\n reason: the azure function is triggered by an EventGrid event so that processing happens immediately","timestamp":"1669916580.0","upvote_count":"36"},{"comment_id":"1279493","timestamp":"1725612840.0","content":"I think it should be:\n\n1. Azure Cosmos DB\n2. output\n3. Blob storage\n\nMy reasoning: Looking at the options we conclude that we can use only one binding. \nWe need to process the uploaded data and update the database. (one output binding to the Cosmos DB is certain)\nWith Event Grid we will receive only information about the event and nothing else. With Blob storage trigger we will have access to the blob itself. No need for additional input binding.","poster":"nnmdmm","upvote_count":"1"},{"poster":"4b6d959","timestamp":"1723014540.0","content":"The question is very confusing IMO.\nIf we choose Binding direction: Input, then \n1. HTTP\n2. Input\n3. Blob storage\nHowever, if we choose Binding direction: Output, then\n1. Azure CosmosDB\n2. Output\n3. Blob storage","upvote_count":"4","comment_id":"1261981"},{"upvote_count":"1","content":"The trigger should be Event Grid. The blob trigger is based on the poll, Event Grid trigger can lead to a timely trigger.","poster":"8ac3742","timestamp":"1722298200.0","comment_id":"1257752"},{"poster":"ProtossOR89144","content":"Why would we need trigger for output? I think it's:\nBinding: blob storage\ndirection: input\ntrigger: event grid (counting previous question at page 38 topic 21 question 1 established that pattern is blob -> event queue -> Function)?","upvote_count":"2","timestamp":"1720386360.0","comment_id":"1244007"},{"poster":"giuliohome","upvote_count":"1","timestamp":"1719989760.0","comment_id":"1241218","content":"nowhere is said that there is an Event Grid, but the requirements only speak about Blob Storage, so why not a much simpler Trigger Blob Storage - Binding Cosmos DB - direction Input ?"},{"timestamp":"1707202920.0","upvote_count":"2","content":"1. azure cosmos 2. output 3. blob storage\nFor updating Azure Cosmos DB upon processing the data, an output binding to Azure Cosmos DB is needed. This enables the function to write data directly to Cosmos DB without needing to manually implement the database connection and data insertion logic.\n\nThe trigger for this function should be Blob storage because the requirement is to start the processing immediately when data is uploaded to the Blob storage. This directly supports the scenario where store locations send data every hour to be processed.","poster":"FeriAZ","comment_id":"1141871"},{"upvote_count":"2","content":"I would say Cosmos - Output - Blob.\n\nYou have a Blob storage trigger ( Azure Functions must process data immediately when data is uploaded to Blob storage).\nAnd a Cosmos Output Binding (Azure Functions must update Azure Cosmos DB by using native SQL language queries)","poster":"katrang","comments":[{"content":"For me it is the correct answer","upvote_count":"1","poster":"ciberclon","comment_id":"1137993","timestamp":"1706830620.0"}],"timestamp":"1694680560.0","comment_id":"1007374"},{"content":"I wonder why the answer is not \nbinding - Blob\ndirection - in\ntrigger - event grid.\nexample scenario 2 - https://learn.microsoft.com/en-us/azure/azure-functions/functions-triggers-bindings?tabs=csharp","upvote_count":"3","comments":[{"upvote_count":"1","comment_id":"998106","content":"Question stated that Function must update data to Azure Cosmos DB","poster":"macobuzi","timestamp":"1693793820.0"}],"comment_id":"949375","poster":"applepie","timestamp":"1689120000.0"},{"timestamp":"1682665140.0","content":"based on the Topic 21 - Testlet 22, question #1 \nevent routing: BLOB -> EventGrid -> Function\n\n1. CosmosDB\n2. Output\n3. trigger = EventGrid","comment_id":"883292","upvote_count":"6","poster":"DenysEx"},{"poster":"AQMA","comment_id":"836561","timestamp":"1678571940.0","content":"1. Azure Cosmos DB\n2. Output\n3. Event Grid\n\nusing Event Grid Trigger for blob events instead of using Blob storage as input to function, provides low latency.\nReference: https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-storage-blob-trigger?tabs=csharp-script&pivots=programming-language-csharp\n\naccording to this reference, it says: \"If you require faster or more reliable blob processing, you should instead implement one of the following strategies:\nAdd the source parameter with a value of EventGrid to your binding definition and create an event subscription on the same container.\nOR \nReplace the Blob Storage trigger with an Event Grid trigger using an event subscription on the same container.\"","upvote_count":"3"},{"upvote_count":"2","timestamp":"1673058420.0","poster":"Nhiendo","comment_id":"768207","content":"1. azure cosmos\n2. output\n3. blob storage\nBecase \n1.Triggers cause a function to run. A trigger defines how a function is invoked and a function must have exactly one trigger. Triggers have associated data, which is often provided as the payload of the function.\n2.Binding to a function is a way of declaratively connecting another resource to the function; bindings may be connected as input bindings, output bindings, or both. Data from bindings is provided to the function as parameters.\nrefer : https://learn.microsoft.com/en-us/azure/azure-functions/functions-triggers-bindings?tabs=csharp"},{"poster":"OPT_001122","content":"1. azure cosmos\n2. output\n3. blob storage","comment_id":"740960","upvote_count":"2","timestamp":"1670674980.0"},{"content":"Can someone give a clue from which system this configuration format is? \nAzure functions : No\nCosmos DB : No\nAzure Event Grid : No\nStorage blob : No","upvote_count":"2","timestamp":"1666614600.0","poster":"coffecold","comments":[{"content":"this is more convincing !! Thanks","timestamp":"1668840000.0","comment_id":"721807","upvote_count":"1","poster":"OPT_001122"},{"content":"If it was function.json it should have been someting like:\n\n{\n \"disabled\":false,\n \"bindings\":[\n // ... bindings here\n {\n \"type\": \"EventGridTrigger\",\n \"direction\": \"in\",\n \"name\": \"inBinding\",\n // ... more depending on binding\n },\n {\n \"type\": \"CosmosDBOutput\",\n \"direction\": \"out\",\n \"name\": \"outBinding\",\n // ... more depending on binding\n }\n ]\n}","timestamp":"1666616160.0","comment_id":"703029","poster":"coffecold","comments":[{"content":"this is more convincing !! Thanks","timestamp":"1668840060.0","comment_id":"721808","upvote_count":"1","poster":"OPT_001122"}],"upvote_count":"6"}],"comment_id":"703004"},{"comments":[{"content":"Can you confirm what is the correct answer, it looks like the answer is not clear yet.","upvote_count":"1","timestamp":"1683867720.0","comment_id":"895647","comments":[{"content":"Should be:\nAzure Cosmos DB\nOutput\nEvent Grid","poster":"Ciupaz","timestamp":"1698601860.0","comment_id":"1057051","upvote_count":"1"}],"poster":"darsak10"}],"poster":"elequiel","content":"got for me in 20/10/2022","upvote_count":"4","comment_id":"700372","timestamp":"1666308480.0"},{"poster":"gmishra88","comment_id":"689356","timestamp":"1665236340.0","upvote_count":"4","content":"I do not understand this question. Binding is Azure cosmos, then the binding direction should be output. If it is trigger then binding direction should be in. So, I do not understand what this means. I just hope these kind of absurd questions are not asked by Microsoft. \nBut for the trigger I will use EventGrid because it says it should respond immediately. Blob triggers use polling, while event grid triggers are \"event-driven\" (basically Microsoft wants us to better use Event Grid for storage events)"}],"answers_community":[],"question_text":"HOTSPOT -\nYou need to implement the retail store location Azure Function.\nHow should you configure the solution? To answer, select the appropriate options in the answer area.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","timestamp":"2022-04-30 06:49:00","unix_timestamp":1651294140,"answer":"","answer_images":["https://img.examtopics.com/az-204/image631.png"],"answer_description":"","answer_ET":"","topic":"29","question_images":["https://www.examtopics.com/assets/media/exam-media/04273/0007900001.png"],"url":"https://www.examtopics.com/discussions/microsoft/view/74952-exam-az-204-topic-29-question-1-discussion/","exam_id":48,"isMC":false,"question_id":160}],"exam":{"isImplemented":true,"name":"AZ-204","lastUpdated":"12 Apr 2025","id":48,"isBeta":false,"provider":"Microsoft","isMCOnly":false,"numberOfQuestions":452},"currentPage":32},"__N_SSP":true}