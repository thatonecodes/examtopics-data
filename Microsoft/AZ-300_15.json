{"pageProps":{"questions":[{"id":"IdGn2RvG0R7qrGp4Q2xQ","question_images":[],"answer_ET":"B","topic":"1","discussion":[{"poster":"praiser","content":"A Load Balancer would not make sense - the monitoring solution will need access to all the VM's inside the Scale Set, and not to one by one in a round-robin mode.\nAnswer B should be correct.","upvote_count":"29","comment_id":"29157","timestamp":"1576182720.0"},{"content":"The correct answer is \"A\" - https://docs.microsoft.com/en-gb/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-networking#public-IPv4-per-virtual-machine - : \"Public IPv4 per virtual machine\" In general, Azure scale set virtual machines do not require their own public IP addresses. For most scenarios, it is more economical and secure to associate a public IP address to a load balancer or to an individual virtual machine (aka a jumpbox), which then routes incoming connections to scale set virtual machines as needed (for example, through inbound NAT rules).","poster":"pokerpa71","upvote_count":"12","timestamp":"1580917020.0","comment_id":"46924"},{"upvote_count":"1","comment_id":"169864","poster":"cloudcuckooland","timestamp":"1598775300.0","content":"horrible question. you could add nat rules for each of vms, if the vms remain at 6 and don't scale horizontally.if this comes up in the exam I would flag it as extremely poorly written.\nthe fact is, LB could be used with NAT rules to allow access to each vm, but it's a completely ridiculous solution., but does it meet the goal, yes it does, so answer in theory is YES. \n\nsee https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-windows-nat"},{"content":"The answer should be A\nWhen you select add load balancer to the VMSS, by default the load balancer will create NAT rules for RDP or SSH for each instance in the VMSS on a different port.","comment_id":"157997","upvote_count":"1","poster":"arseyam","timestamp":"1597398600.0"},{"comments":[{"comment_id":"161839","poster":"admins","timestamp":"1597878660.0","content":"But you can add NAT rules to a load balancer and then get access to each VM on a different port. The answer is A: Yes.","upvote_count":"2"}],"timestamp":"1595690520.0","upvote_count":"1","comment_id":"143513","poster":"exams0123456","content":"Correct answer: B\nLoad balance indeed removes the necessity of assigning public IP, but the requirement here is that the monitoring agent requires ACCESS to the VMs. This is not a purpose of a load balancer. A load balancer is only used to balance/distribute SERVICE REQUEST to underlying VMs. Its not/never used for ACCESS PROVISIONING which is the requirement here. Hence correct answer is B"},{"content":"Correct Answer B, After the scale set has been created, the backend port cannot be modified for a load balancing rule used by a health probe of the load balancer. To change the port, you can remove the health probe by updating the Azure virtual machine scale set, update the port and then configure the health probe again.","timestamp":"1595530800.0","comment_id":"142251","poster":"viplov","upvote_count":"2"},{"upvote_count":"2","timestamp":"1591533120.0","comment_id":"104513","comments":[{"content":"Exactly, you can target a specific VMSS member by mapping a port of your choice to its Private IP & RDP port","upvote_count":"1","poster":"X_L","comment_id":"131627","timestamp":"1594401360.0"}],"content":"Correct Answer is A. When you create a load balancer you can assign load balancer and the loadbalancer has NAT rules to connect to VM. After you create old balancer go to VMss instances and choose to connect in the dropdown select loadbalancer IP and they you can connect.","poster":"dumbu"},{"comment_id":"71551","upvote_count":"8","poster":"dg63","timestamp":"1586122440.0","content":"B is correct answer. You need deterministic access to individual VMs in the scaleset (e.g. you want to access vm1 out of 6 VMs). A loab balancer, even with the sticky session on, will take you to some VM based on routing rules which may not be the VM that you want to access. So load balancer is not a good solution.","comments":[{"poster":"TYT","comment_id":"74941","upvote_count":"2","content":"Exactly. You need to be able to access a specific VM in the scale set for monitoring.","timestamp":"1586970300.0"},{"poster":"praveen97","content":"Agree with dg63.","comment_id":"142358","timestamp":"1595542800.0","upvote_count":"1"},{"comment_id":"142796","upvote_count":"1","poster":"BiggusJiggus","timestamp":"1595598780.0","content":"dg63 has the correct answer"}]},{"content":"There are four solutions, three of them are \nDeploy a standalone VM that has a public IP address to the virtual network.\nImplement an Azure Load Balancer.\nDesign a scale set to automatically assign public IP addresses to all VMs.\nhttps://subscription.packtpub.com/book/virtualization_and_cloud/9781788991735/1/ch01lvl1sec17/vm-scale-sets","comment_id":"59745","timestamp":"1583470200.0","upvote_count":"5","poster":"Happiman"},{"timestamp":"1582626900.0","upvote_count":"2","comment_id":"54935","content":"Answer is A\nhttps://azure.microsoft.com/en-in/blog/virtual-machine-scale-set-insights-from-azure-monitor/","poster":"AnilV"},{"comment_id":"44005","upvote_count":"3","poster":"[Removed]","content":"The correct answer is B\nA scale set is created inside a virtual network, and individual VMs in the scale set are not allocated public IP addresses by default. This policy avoids the expense and management overhead of allocating separate public IP addresses to all the nodes in your compute grid. If you do need direct external connections to scale set VMs, you can configure a scale set to automatically assign public IP addresses to new VMs.\nhttps://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview","timestamp":"1580261700.0"},{"comments":[{"content":"No, B is correct. Who will modify NAT rules for new/deleted machines every time the VMSS scales out/in?","poster":"poohtt","comment_id":"144314","upvote_count":"2","timestamp":"1595785380.0","comments":[{"comment_id":"161843","upvote_count":"1","timestamp":"1597878840.0","poster":"admins","content":"it doesnt say anything in the question about the scale set actually scaling. It does say that there are 6 VMs though. Thats a pretty specific number and we can read that to mean it has 6 vms intentionally (and therefore won't be changing often).\nScale sets aren't always used for their automatic scaling ability, sometimes they're used because the server is stateless and we just want duplicate copies of the same image."}]}],"timestamp":"1577926320.0","poster":"wlfjck","comment_id":"34372","content":"it should be A, as load balancer + VMSS, you can configure inbound NAT rules for each VM inside of VMSS","upvote_count":"9"},{"content":"B is right since a Load Balancer is created when creating VMSS. If it was Application Gateway instead of LB","upvote_count":"1","poster":"maheshyadav","comment_id":"26915","timestamp":"1575559620.0"},{"content":"Why A is not correct ?","upvote_count":"1","timestamp":"1575113160.0","comments":[{"content":"A is indeed a valid answer, the questions is, is this the most optimal way? https://subscription.packtpub.com/book/virtualization_and_cloud/9781788991735/1/ch01lvl1sec17/vm-scale-sets","timestamp":"1575211740.0","comments":[{"comments":[{"poster":"tartar","content":"A is ok","timestamp":"1599606900.0","comment_id":"176141","upvote_count":"1"}],"timestamp":"1597878720.0","comment_id":"161841","content":"Where in the question does it say \"what is the most optimal way?\", it doesnt.\nIt does however say \"Some question sets may have more than one correct solution\". So we can choose more than one answer to be correct. This would be one of them. We can use NAT rules to connect to the VMs in the scale set.","poster":"admins","upvote_count":"1"}],"poster":"JakeCallham","comment_id":"25676","upvote_count":"1"}],"poster":"Santosh_Nalikul","comment_id":"25400"}],"url":"https://www.examtopics.com/discussions/microsoft/view/9409-exam-az-300-topic-1-question-73-discussion/","answers_community":[],"timestamp":"2019-11-30 12:26:00","question_id":71,"unix_timestamp":1575113160,"exam_id":50,"answer":"B","isMC":true,"answer_description":"","answer_images":[],"question_text":"Note: This question is part of series of questions that present the same scenario. Each question in the series contains a unique solution that might meet the stated goals. Some question sets might have more than one correct solution, while others might not have a correct solution.\nAfter you answer a question in this section, you will NOT be able to return to it. As a result, these questions will not appear in the review screen.\nYou are planning to create a virtual network that has a scale set that contains six virtual machines (VMs).\nA monitoring solution on a different network will need access to the VMs inside the scale set.\nYou need to define public access to the VMs.\nSolution: Implement an Azure Load Balancer.\nDoes the solution meet the goal?","choices":{"B":"No","A":"Yes"}},{"id":"iCgJDYPcx2nGfNX2EjTu","exam_id":50,"timestamp":"2019-11-05 07:55:00","answer_description":"","question_id":72,"url":"https://www.examtopics.com/discussions/microsoft/view/7694-exam-az-300-topic-1-question-74-discussion/","answer_ET":"B","question_text":"Note: This question is part of series of questions that present the same scenario. Each question in the series contains a unique solution that might meet the stated goals. Some question sets might have more than one correct solution, while others might not have a correct solution.\nAfter you answer a question in this section, you will NOT be able to return to it. As a result, these questions will not appear in the review screen.\nYou are planning to create a virtual network that has a scale set that contains six virtual machines (VMs).\nA monitoring solution on a different network will need access to the VMs inside the scale set.\nYou need to define public access to the VMs.\nSolution: Design a scale set to automatically assign public IP addresses to all VMs.\nDoes the solution meet the goal?","discussion":[{"upvote_count":"46","content":"Answer A. If all VM have public IP, monitoring solution will be able to reach them.","comment_id":"19276","poster":"piotr","comments":[{"comments":[{"comment_id":"176143","upvote_count":"2","timestamp":"1599607080.0","content":"A is ok","poster":"tartar"}],"comment_id":"72119","content":"Correct.\nhttps://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-faq","upvote_count":"2","timestamp":"1586265600.0","poster":"jwang"},{"content":"Agree with piotr. Answer is Yes.\nhttps://docs.microsoft.com/en-gb/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-networking#public-ipv4-per-virtual-machine","comment_id":"142364","upvote_count":"2","poster":"praveen97","timestamp":"1595543100.0"},{"content":"It can be done and it would work, but it would not be cost effective and it would let more expose de scale set. So it would not be the best solution","upvote_count":"2","timestamp":"1596551520.0","comment_id":"150491","poster":"David_986969"},{"upvote_count":"1","comments":[{"timestamp":"1597021200.0","comment_id":"154025","upvote_count":"2","poster":"macco455","content":"There is nothing in the question to be cost effective though. Therefore it should be answer A"}],"comment_id":"152902","poster":"abhishek_arya02","content":"But it will not be optimal solution as it will add extra cost","timestamp":"1596869880.0"}],"timestamp":"1572936900.0"},{"poster":"dumpmaster","timestamp":"1574272320.0","content":"In general, Azure scale set virtual machines do not require their own public IP addresses. For most scenarios, it is more economical and secure to associate a public IP address to a load balancer or to an individual virtual machine (aka a jumpbox), which then routes incoming connections to scale set virtual machines as needed (for example, through inbound NAT rules).\n\nHowever, some scenarios do require scale set virtual machines to have their own public IP addresses. An example is gaming, where a console needs to make a direct connection to a cloud virtual machine, which is doing game physics processing. Another example is where virtual machines need to make external connections to one another across regions in a distributed database.","comment_id":"23118","upvote_count":"17","comments":[{"upvote_count":"9","timestamp":"1580261580.0","poster":"[Removed]","comment_id":"44003","content":"Yes, the correct answer is A \nA scale set is created inside a virtual network, and individual VMs in the scale set are not allocated public IP addresses by default. This policy avoids the expense and management overhead of allocating separate public IP addresses to all the nodes in your compute grid. If you do need direct external connections to scale set VMs, you can configure a scale set to automatically assign public IP addresses to new VMs.\nhttps://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview"}]},{"content":"public IP@ will be changing for each VM every time there is new VM or deletetion of existing VM in the VMSS , so monitoring will not be effective","upvote_count":"1","comment_id":"172914","poster":"nabylion","timestamp":"1599163920.0"},{"upvote_count":"3","poster":"gnoamchomsky","content":"Question is really bad. Yes, this would meet the goal as you can access every machine through the public address. But, in ANY real world scenario - would you really assign a public IP address to all of the machines? That would be BIG no. So even though technically it would work, we should really select No.","timestamp":"1595681220.0","comment_id":"143404"},{"timestamp":"1594828740.0","comment_id":"135847","poster":"[Removed]","content":"There are few viable solutions to reach VMs inside Scale Set (including assigning Public IPs and using NAT) but the question is NOT to find the most suitable or least expensive solution to assign these IPs\nQuestion is - if Scale Set automatically assign Public IPs to its VMs (which is a valid option), will Monitoring Solution will be able to access these individual VMs inside Scale Set\nAnd answer for this question is Yes \nAlthough we can access these VMs through Load Balancer via NAT, this is not optimal solution for Monitoring Tool, which requires direct access to VMs it monitors\nPublic IPs can be dynamically assigned to VMs in VMSS but this is not what they are asking\nSo answer is A - Yes","upvote_count":"2"},{"content":"Public IP@ will be dynamically assigned to VMs in VMSS, so B is correct.","timestamp":"1594581660.0","poster":"nabylion","comments":[{"comment_id":"135276","upvote_count":"2","content":"Agreed on B. The key words here is \"automatically assign public IP addresses to all VMs\", what if auto scale out and scale in happens?","poster":"ExamWynner","timestamp":"1594765080.0"}],"comment_id":"133184","upvote_count":"3"},{"comment_id":"127839","poster":"tanito83","upvote_count":"2","content":"The answer is A. Please, modify it.","timestamp":"1594041360.0"},{"content":"Answer seems A.\nhttps://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-networking","comment_id":"125132","upvote_count":"2","timestamp":"1593703320.0","poster":"Clouder2020"},{"content":"Answer : B\nAll VMs do not need public IP addresses.\nPublic IP addresses are necessary because they provide the load balanced entry point for the virtual machines in the scale set. The public IP address will route traffic to the appropriate virtual machines in the scale set.","upvote_count":"1","poster":"sumedh01","comment_id":"109854","timestamp":"1592104320.0","comments":[{"comment_id":"119640","poster":"denkes","timestamp":"1593104400.0","upvote_count":"3","content":"Fully confusing explanation."}]},{"poster":"[Removed]","content":"The answer is Yes, tested and verified","comment_id":"103080","timestamp":"1591353660.0","upvote_count":"2"},{"timestamp":"1587156360.0","content":"The answer seems to be A. You can actually design a vmss with a public IP in each vm. This is what I found on Microsoft docs => To create a virtual machine scale set that assigns a public IP address to each VM, make sure the API version of the Microsoft.Compute/virtualMachineScaleSets resource is 2017-03-30, and add a publicipaddressconfiguration JSON packet to the scale set ipConfigurations section. Example: \n\"publicipaddressconfiguration\": {\n \"name\": \"pub1\",\n \"properties\": {\n \"idleTimeoutInMinutes\": 15\n }\n }\n\nLink - https://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-faq","comment_id":"75866","upvote_count":"4","poster":"DP80"},{"comment_id":"59746","upvote_count":"6","content":"There are four solutions, three of them are \nDeploy a standalone VM that has a public IP address to the virtual network.\nImplement an Azure Load Balancer.\nDesign a scale set to automatically assign public IP addresses to all VMs.\nhttps://subscription.packtpub.com/book/virtualization_and_cloud/9781788991735/1/ch01lvl1sec17/vm-scale-sets","timestamp":"1583470200.0","comments":[{"comments":[{"poster":"X_L","comment_id":"127936","upvote_count":"2","timestamp":"1594050000.0","content":"LB's support NAT rules, which can translate a particular port to a particular VMSS member. There are courses on PluralSight even showing this in detail."}],"upvote_count":"5","timestamp":"1586970480.0","comment_id":"74943","poster":"TYT","content":"Stand alone VM as a jump box works, but the load balancer may not. You need specific access to a VM to monitor. Having the scale set automatically assigning public IPs also will work."}],"poster":"Happiman"}],"isMC":true,"choices":{"B":"No","A":"Yes"},"topic":"1","answer":"B","unix_timestamp":1572936900,"answer_images":[],"question_images":[],"answers_community":[]},{"id":"sT0gmKZivguYbOrizGge","discussion":[{"timestamp":"1579113660.0","poster":"Mathew","content":"Every Azure VPN gateway consists of two instances in an active-standby configuration. For any planned maintenance or unplanned disruption that happens to the active instance, the standby instance would take over (failover) automatically, and resume the S2S VPN or VNet-to-VNet connections. The switch over will cause a brief interruption. For planned maintenance, the connectivity should be restored within 10 to 15 seconds. For unplanned issues, the connection recovery will be longer, about 1 minute to 1 and a half minutes in the worst case.\nSo I think active-standby will be good enough \none Public IP , one VPN gateway and two local gateways.","comment_id":"39453","comments":[{"timestamp":"1583423100.0","poster":"Daren","content":"Correct. I started to believe that I`m the only one thinking like this. Thanks!","comment_id":"59441","upvote_count":"3","comments":[{"poster":"Explen","timestamp":"1593495840.0","comment_id":"123240","content":"Me too, i was scrolling down looking for this same explanation.","upvote_count":"1"}]},{"comments":[{"timestamp":"1593418020.0","poster":"binroon","upvote_count":"4","comment_id":"122551","content":"wrong answer. it's 1-1-2. in the solution, it must at least use 1 VPN gateway, 2 VPN devices, thus 2 local network gateways of course. 2 PIPs for VNP devices are not Azure resources."}],"content":"I agree with your explanation. But I think it's 2 PIP (one for VPN gateway, one for local network gateway), one VPN gateway and one local gateway.","comment_id":"122544","upvote_count":"1","poster":"binroon","timestamp":"1593417660.0"},{"comment_id":"136799","timestamp":"1594943220.0","poster":"praveen97","content":"Agree with Mathew.\nSee the below link for additional details.\nhttps://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable#multiple-on-premises-vpn-devices","upvote_count":"1"},{"timestamp":"1591108860.0","content":"I suppose 3 PIP will be use. First - for VPN gateway, second and third for local network gateways.\n\"2. The local network gateways corresponding to your VPN devices must have unique public IP addresses in the \"GatewayIpAddress\" property.\"\nhttps://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable#multiple-on-premises-vpn-devices","comment_id":"100923","upvote_count":"5","poster":"hihedij"},{"timestamp":"1638633420.0","upvote_count":"1","comment_id":"493782","poster":"mohitchandan","content":"For unplanned issues, the connection recovery will be longer, about 1 to 3 minutes in the worst case https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable#about-vpn-gateway-redundancy"}],"upvote_count":"72"},{"upvote_count":"47","comments":[{"comment_id":"46369","content":"Question is \"What is the minimum number of public IP addresses, virtual network gateways, and local network gateways required in Azure?\" , which means 3 resources all in Azure.","upvote_count":"3","timestamp":"1580781900.0","poster":"simonxinyu"},{"poster":"sameer2803","timestamp":"1586979420.0","comments":[{"poster":"Shades","content":"yes, thats why 1 Public IP should be enough","comment_id":"208373","upvote_count":"1","timestamp":"1603962600.0"}],"comment_id":"75015","upvote_count":"5","content":"you are missing this line \"the failure will not cause an interruption that is longer than two minutes.\". they are ok with a downtime of 2mins so we don't have to be active-active."},{"content":"Microsoft publishes another VPN Gateway in the background for failover","poster":"vossglass","comment_id":"209871","timestamp":"1604141820.0","upvote_count":"1"}],"content":"the question said \"In Azure\" , so:\n2 Public IPs , 1 VPN Gateway in active/active config , 2 Local Network Gateways\n\nI already implemented this before.","comment_id":"29713","timestamp":"1576403700.0","poster":"Ekramy_Elnaggar"},{"timestamp":"1640413380.0","content":"The questions says required in Azure, I believe its 3 public addresses, 1 IP will be created during the LNG creation and then 2 IPS are required to configure with LNG's, seems its 3, 1, 2.","upvote_count":"1","poster":"Showkat","comment_id":"508975"},{"comments":[{"content":"correct","timestamp":"1620046020.0","poster":"nguyenhung1121990","comment_id":"348608","upvote_count":"1"}],"comment_id":"259215","timestamp":"1609748580.0","poster":"Jinder","upvote_count":"3","content":"To save time for others, Copy pasting from above and its absolutely correct answer:\n\n3-1-2 is correct answer for this.\n\n3: 2 ( 2 local gws need 1 Pubip each so, total 2) + 1 ( pubip for active instance only)\n1: just need 1 azure VPN gateway with active - passive HA (fail over takes max 1 min 30 sec)\n2: Local device needs its own local gw. so total 2 Local GW needed\n\nSo the answer is 3 IPs, 1 VPN gateway, 2 Local Gateways"},{"timestamp":"1609535040.0","comment_id":"257072","content":"Here is the correct answer : 2,1,2. refer this link\n\n https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable","poster":"OsimIndia","upvote_count":"1"},{"content":"Question is about to resource requirement in Azure; not in on-prem network. This is an Active-Standby at Azure side since 2min down time is mentioned. For Active-Standby, 1 IP, 1 Virtual Network and 2 Local Network (from two VPN Gateways) need to be created.","timestamp":"1607135760.0","upvote_count":"1","comment_id":"235365","poster":"jasu"},{"timestamp":"1603971120.0","content":"Why one public IP? Shouldn't there be two; one for the on-premise network and one for the azure network?","comment_id":"208466","poster":"ihustle","upvote_count":"1"},{"poster":"Subhijith","comment_id":"198126","timestamp":"1602476100.0","upvote_count":"3","content":"1,1,2\nEach VPN gateway has two instances, one in active and one in standby. If one instance goes down, we would still have the other one available. Hence, we just need one Virtual Network gateway resource. And for this we just need to one Public IP address resource."},{"poster":"Rajyahoo","timestamp":"1601196600.0","comments":[{"timestamp":"1607004300.0","content":"Agree question said less than 2 mins and Active -Standby is fit here so 1 PIP , 1 GW and 1 Local GW , BTW the other choices which said 2 vpn GW are wrong you can't setup more than one Virtual GW but you can have 2 instances","upvote_count":"1","comment_id":"234045","poster":"sallymaher"}],"comment_id":"188241","content":"\"What is the minimum number of public IP addresses, virtual network gateways, and local network gateways required in Azure?\"\nThe question is about resources in Azure, not both azure and on-prem.\n\nIt should be :\n1 PIP\n1 Virtual GW\n1 Local GW \n\nIf active-active is not selected when Virtual GW is created , it automatically creates in Active-standby. One pip will do here. For unplanned issues, the connection recovery will be longer, about 1 minute to 1 and a half minutes in the worst case. (well with-in SLA stated)\nRef: https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable","upvote_count":"3"},{"comment_id":"181875","timestamp":"1600451340.0","content":"Given answer correct refer - Dual-redundancy: active-active VPN gateways for both Azure and on-premises networks","poster":"andyR","upvote_count":"1"},{"timestamp":"1600436940.0","upvote_count":"1","poster":"prince_norman_maximus","content":"2,1,2\nhttps://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable#activestandby\nThe configuration described here is \"Multiple on-premises VPN devices\"","comment_id":"181687"},{"comment_id":"181132","timestamp":"1600364400.0","poster":"MMohammad","content":"The correct answer is:\n1 Public IP address\n1 Virtual network gateway\n2 Local network gateways\n\nDescription:\n1 Public IP address - Each VPN gateway has two instances, one in active and one in standby. If one instance goes down, we would still have the other one available. Hence, we just need one Virtual Network gateway resource. And for this we just need to one Public IP address resource.\n1 Virtual network gateway - Each VPN gateway has two instances, one in active and one in standby. If one instance goes down, we would still have the other one available. Hence, we just need one Virtual Network gateway resource.\n2 Local network gateways - Here we would need to have two VPN devices registered on the client side. This would ensure that if one of the client VPN devices were to fail, you would still have another one available. For this we need to register two Local network gateways.","upvote_count":"3"},{"timestamp":"1600361820.0","upvote_count":"2","comment_id":"181109","poster":"bc5468521","content":"3,1,2 is the right answer"},{"content":"3 pub IP's (2x on premise, 1 for the active/standby VPN Gateway (1 - 1.5 minute downtime, questions states max 2 minutes) and 2 local Network Gateways (one for each on premise pub IP","upvote_count":"1","comment_id":"180701","timestamp":"1600319760.0","poster":"Bart78"},{"upvote_count":"1","timestamp":"1599718140.0","poster":"saran1987","comments":[{"content":"Another reason why we dont need active-active is in the question they clearly mentioned as it shoudn't fail or interrupt not more than 2 minutes. So just active-standby mode is enough for this requirement. The answer given states the mode of active-active which is not required for a flexibility upto 2 minutes failure.","comments":[{"comment_id":"176938","upvote_count":"1","content":"Just onething, if they meant the public IP on in Azure, it should be just 1. I considered both onprem and Azure public IP so it will be 3. In the question they noted as what resources are needed in Azure so it should be 1 public IP which is for Vnet gateway","timestamp":"1599718980.0","poster":"saran1987"}],"poster":"saran1987","upvote_count":"1","timestamp":"1599718800.0","comment_id":"176937"}],"content":"Understand the existing infrastructure and the requirement. \n\nExisting: Two on prem VPN device and 1 Azure Vnet Gateway (This consists one active and standby be default) \n\nRequirement: the failure will not cause an interruption that is longer than two minutes\n\nAns: You need 2 public IP for the VPN devices so that you can configure two local network gateway. You need one public IP for your VPN gateway (it has active and standby mode by default so you dont need two VPN gateways for the failover). \n\nSo 3 public IP and 1 VPN gateway and 2 local Network Gateway","comment_id":"176933"},{"upvote_count":"1","timestamp":"1599650580.0","content":"Apologies, there was no way to edit...\n\nWe need 4 connections\n\nconnection 1 with PIP 1 to VPN A on-premises\nconnection 2 with PIP 2 to VPN A on-premises\nconnection 3 with PIP 1 to VPN B on-premises\nconnection 4 with PIP 2 to VPN B on-premises","comment_id":"176463","poster":"faozio"},{"poster":"faozio","content":"This is so wrong \n\nWhat is the minimum number of public IP addresses, virtual network gateways, and local network gateways required in Azure? \n\nThe question specifically said Azure?\n\nI have personally labbed this ... \n\nWhen active - active mode is activated on a VPN Gateway, it would have 2 PIP.\n\nTo create a highly available architecture with two on-premises devices then...\n\n 4 connections 1 with PIP 1 to VPN A on-premises\nconnections 2 with PIP 1 to VPN A on-premises\nconnections 3 with PIP 3 to VPN B on-premises\nconnections 4 with PIP 1 to VPN B on-premises\n\nSince the LNG have same public endpoint we would need only 2 of them...\n\nThe correct answer is 2 1 2\nAgain...The subscription contains an Azure virtual network named VNet1\n\nLooking at that statement, only 1 VPN gateway is allowed in a VNET","timestamp":"1599650340.0","upvote_count":"1","comment_id":"176457"},{"upvote_count":"1","poster":"matie","comment_id":"176329","timestamp":"1599636720.0","content":"For me, the answer of 1 public ip address, 2 virtual and 2 local gateways satisfies the question:\n\"What is the minimum number of public IP addresses, virtual network gateways, and local network gateways required in Azure? \" \nAnd an active passive AZ vpn gateway set up satisfies the requirement that \"The solution must ensure that is a single instance of an Azure VPN gateway fails, or a single on-premises VPN device fails, the failure will not cause an interruption that is longer than two minutes.\" \n\nhttps://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable"},{"timestamp":"1598841180.0","comment_id":"170491","poster":"VikasA","upvote_count":"2","content":"I think It should be one vpn gateway (Behind the scenes there is actually 2 used ). So only one public IP is needed in azure. When you create local gateway , you just state public ip of your on premises devices (So public ip is not utilized in azure just stated in azure).In the event of vpn gateway failure , standby instance can take over between 15 seconds to 90 seconds. So answer will be-\none VPN gateway\none public IP\nTwo local gateways.\n\nhttps://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable"},{"upvote_count":"2","poster":"groy","content":"PUBLIC IP ADDRESS: 4\nVIRTUAL N/W GATEWAY: 2\nLOCAL N/W GATEWAY: 2","timestamp":"1598813520.0","comment_id":"170270"},{"poster":"basak","content":"https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable\nseems to be 2, 1,2","timestamp":"1597482420.0","upvote_count":"1","comment_id":"158558"},{"upvote_count":"2","timestamp":"1597410540.0","comment_id":"158111","poster":"arseyam","content":"The correct answer is 1 public IP address, 1 virtual network gateway and 2 local gateways.\nSince a downtime of 2 min is accepted then an Active/Passive virtual network gateway is enough which means we need only 1 public IP address.\nAs per Microsoft, the connection recovery shouldn't take more than 1 and half minutes in the worst case scenario.\nhttps://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable"},{"poster":"macco455","upvote_count":"5","content":"It seems half the people on this thread missed the part where it says AZURE side, so we do not need to take into account the 2 Public IPs needed for the on premesis VPN devices. Just need to account for them when setting up the Local Network Gateway. WIth this said, the Correct answer is:\n\n1 (Azure) IP address\n1 Virtual network gateway (uses the IP)\n2 Local network gateways (one for each remote VPN device)","timestamp":"1597022280.0","comment_id":"154032"},{"comment_id":"153289","content":"Hi Guys I will go with;\nA: 1 Public IP address \nB: 1 VNG (Default has 2 instances active-standby)\nC: 2 Local Gateways (connects to on-prem)\nhttps://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable\n(About Azure VPN gateway redundancy) & (Multiple on-premises VPN devices)\nEvery Azure VPN gateway consists of two instances in an active-standby configuration. For any planned maintenance or unplanned disruption that happens to the active instance, the standby instance would take over (failover) automatically, and resume the S2S VPN or VNet-to-VNet connections. The switch over will cause a brief interruption. For planned maintenance, the connectivity should be restored within 10 to 15 seconds. For unplanned issues, the connection recovery will be longer, about 1 minute to 1 and a half minutes in the worst case. For P2S VPN client connections to the gateway, the P2S connections will be disconnected and the users will need to reconnect from the client machines.\nOn-Prem the failover is managed by your local VPN devices.\nThe question though is asking about Azure if I understand it correct in Active-Standby mode.\nMy thoughts welcome to correct me.","upvote_count":"2","poster":"Qudzie","timestamp":"1596933840.0"},{"content":"This link below has the solution-\nhttps://docs.microsoft.com/pt-br/azure/vpn-gateway/vpn-gateway-highlyavailable#multiple-on-premises-vpn-devices\nDowntime of 1 - 1.5 mins.\nAnswer is--\n1 Azure public IP address (other public address are for on-prem - gateway IP, BGP Peer IP )\n1 Virtual network gateway (uses the IP)\n2 Local network gateways (one for each remote VPN device)","comment_id":"151912","timestamp":"1596712500.0","poster":"dips31089","upvote_count":"2"},{"upvote_count":"3","timestamp":"1595788320.0","comment_id":"144349","poster":"poohtt","content":"1) 3\n2) 1\n3) 2\nExplanation:\n1) 1 IP for virtual network gateway which works in active-standby mode. \"The Azure VPN gateway will allocate a single IP address from the GatewaySubnet range for active-standby VPN gateways\"\n2 IP for local network gateway (BgpPeerIpAddress)\n2) As I wrote active-standby mode requires only 1 gateway.\n3) 2 local network gateways, because we have 2 on-prem vpn devices\nhttps://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-vpn-faq#what-address-does-azure-vpn-gateway-use-for-bgp-peer-ip"},{"upvote_count":"2","timestamp":"1595691840.0","poster":"exams0123456","comment_id":"143524","content":"My take: \nPublic IP Addresses : 3 \n Each on-premise VPN device has one Public IP each ( a compulsory requirement by Azure for VPN if there are two VPN devices on-premise), and the Azure-side VPN Gateway has only 1 Public IP, even though there are two instances inside it, in a simple active-standby configuration (this gives enough redundancy, remember the failover time-period is 2 minutes, without including the cost overhead of another Public IP)\nVirtual Gateway: 1 ( again as I explained before, a Gateway has one standby-instance already available, so another additional Gateway is not required)\nLocal Gateways: 2 (Each VPN on-premise acts like a separate gateway with separate public IPs)"},{"poster":"Ausias18","timestamp":"1595432160.0","comment_id":"141233","upvote_count":"2","content":"This question appeared in my AZ-104 exam"},{"poster":"nabylion","comments":[{"comments":[{"content":"active standby is correct, the maintenance window is within 90 seconds, which satify the requirement (2 min)","upvote_count":"1","poster":"KCjoe","comment_id":"142822","timestamp":"1595601480.0"},{"content":"Active/Standby - \"For unplanned issues, the connection recovery will be longer, about 1 minute to 1 and a half minutes in the worst case. \"\nhttps://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable","timestamp":"1595601660.0","poster":"KCjoe","upvote_count":"1","comment_id":"142827"}],"content":"No active standby is not enough. it has to be active active. \n\nPlease if you are not sure of your answer dont confuse people","poster":"gboyega","comment_id":"135820","upvote_count":"2","timestamp":"1594826880.0"}],"upvote_count":"1","comment_id":"133197","timestamp":"1594583160.0","content":"1:1:2. Active/standby is enough. Only critical mission solutions requires investment in highest availability and crossed tunnels."},{"comment_id":"132961","poster":"Luiza","upvote_count":"1","content":"Correct answer is: 3, 1 ,2\n\nThe question asks for a minimum of IP, VNG and LNG with a tolerance of 2 minutes of interruption. Then an active-standby would solve.\n\nhttps://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable","timestamp":"1594560540.0"},{"comments":[],"comment_id":"132653","timestamp":"1594525320.0","poster":"gboyega","content":"2\n1\n2\n\nyou only need 2 Public IP addresses from Azure\n\nWhen configuring the VPN gateway, we set it to Active Active instead of Active Passive\n\nWe then create 2 LNG for the 2 VPN devices on-prem","upvote_count":"4"},{"comment_id":"131633","content":"As a downtime of 2 minutes is acceptable, a single gateway in A/P mode will suffice, bringing the total count to: 3 PIP's / 2 LNG's / 1 VNG","poster":"X_L","upvote_count":"2","timestamp":"1594401540.0"},{"upvote_count":"1","poster":"DeveshSolanki","content":"PUBLIC IP ADDRESS: 4\nVIRTUAL N/W GATEWAY: 2\nLOCAL N/W GATEWAY: 2","timestamp":"1594197360.0","comment_id":"129585"},{"upvote_count":"4","comment_id":"122853","timestamp":"1593441660.0","content":"They can tolerate an outage up to 2 minutes. This only requires one virtual network gateway in an active/passive config. That is one IP address. They have two VPN devices at the remote site, so two local gateways are required. But these do not use any Azure IP addresses. Thus:\n\n1 (Azure) IP address\n1 Virtual network gateway (uses the IP)\n2 Local network gateways (one for each remote VPN device)\n\ni.e. there is no reason why the remote VPN devices can't go to the same VPN in Azure since they can tolerate an outage of up to 2 minutes. They just need two remote gateways in case of a *remote* failure, not an azure failure.","poster":"Barry123456"},{"upvote_count":"4","comments":[{"poster":"Gianlucag77","timestamp":"1593501840.0","comment_id":"123318","upvote_count":"1","content":"no it is wrong, active/passive (the default configuration) is enought\nsee Multiple on-premises VPN devices\nhttps://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable#activestandby"},{"poster":"Albelev","content":"3x IP, 1x VPN Gateway, 2x local VPN with public IP each.\nhttps://docs.microsoft.com/en-gb/azure/vpn-gateway/vpn-gateway-highlyavailable#multiple-on-premises-vpn-devices","upvote_count":"2","timestamp":"1593584760.0","comment_id":"124015"}],"timestamp":"1593162780.0","content":"3-1-2 is correct answer for this.\n\n3: 2 ( 2 local gws need 1 Pubip each so, total 2) + 1 ( pubip for active instance only)\n1: just need 1 azure VPN gateway with active - passive HA (fail over takes max 1 min 30 sec)\n2: Local device needs its own local gw. so total 2 Local GW needed","poster":"princeali","comment_id":"120373"},{"content":"Going over question: condition 1: minimum number (not maximum) Condition 2: required in Azure. So answer is 1 1 2","upvote_count":"3","comment_id":"111726","timestamp":"1592322720.0","poster":"Prash85"},{"comments":[{"content":"Too bad I cannot change my previous comments. I have landed (again) as 2, 2, 2. https://docs.microsoft.com/en-ca/learn/modules/connect-on-premises-network-with-vpn-gateway/2-connect-on-premises-networks-to-azure-using-site-to-site-vpn-gateways\n\nI think even in the Active - Stand By case, it will require to have each VPN Gateway to have its own Public IP and Virtual Network Gateway and Local Network gateway. Because to me VPN gateway consists of these three and when the question says the VPN Network Gateway goes down, I presume a set of these go down. and that activates the stand by. The above link explains this and this is my final take. It also says that we cannot really see the standby configuration anyway in Azure so it might give a false idea that it is running with lower number of resources.","timestamp":"1593921300.0","upvote_count":"1","comment_id":"126546","poster":"bharatgudu"}],"content":"the correct answer is 1 1 2.. Please give some thought into this and some comments above has some good links. The key is it could be achieved using Active-Standby set up and the set up at on premise are not considered Azure resources.","timestamp":"1592064540.0","comment_id":"109560","upvote_count":"2","poster":"bharatgudu"},{"comment_id":"77705","comments":[{"timestamp":"1588237080.0","poster":"ReffG","content":"as active/passive setup is sufficient you need the following things IN AZURE:\n1 Public IP for the Virtual Network Gateway\n1 Virtual Network Gateway (2min failure tolerance, always deployed with 2 instances that share the Public IP in active/passive config)\n2 Local Network Gateways (Needs the public IPs of local devices but not IN AZURE devices)","upvote_count":"6","comment_id":"81602","comments":[{"poster":"denkes","upvote_count":"3","comment_id":"104829","content":"Agree with 1, 1, 2. \nSee also Ms Docs:\n...\nTopic: Change an active-standby gateway to an active-active gateway\nThe following example converts an active-standby gateway into an active-active gateway. When you change an active-standby gateway to active-active, you create another public IP address, then add a second Gateway IP configuration....\n\nhttps://docs.microsoft.com/th-th/azure/vpn-gateway/vpn-gateway-activeactive-rm-powershell#change-an-active-standby-gateway-to-an-active-active-gateway","timestamp":"1591561920.0"}]}],"upvote_count":"2","timestamp":"1587524880.0","content":"4 2 2 for active active you can do 2 ips per gateway","poster":"joilec435"},{"comment_id":"75625","timestamp":"1587112620.0","upvote_count":"2","comments":[{"upvote_count":"1","comment_id":"169776","content":"milind8451 - you are correct","poster":"andyR","timestamp":"1598763060.0"}],"poster":"milind8451","content":"You need 4 Public IPs on Azure, as 2 needed for VPN Gateway and 2 for Local gateway (These 2 IP are actually of on-prem VPN devices). 2 VPN Gateway and 2 Local gateways are required for high availability on Azure. If they didn't mention high availability of VPN Gateway then only 1 can do the job in practical way."},{"poster":"Tino","timestamp":"1586525880.0","content":"guys, i think that 1 public IP for the active/standby setup will be enough for the requirements:\n\"For any planned maintenance or unplanned disruption that happens to the active instance, the standby instance would take over (failover) automatically, and resume the S2S VPN or VNet-to-VNet connections. The switch over will cause a brief interruption. For planned maintenance, the connectivity should be restored within 10 to 15 seconds. For unplanned issues, the connection recovery will be longer, about 1 minute to 1 and a half minutes in the worst case.\"\n\nhttps://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable\nhttps://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable#multiple-on-premises-vpn-devices\n\nWith active/active: no downtime, 2 IPs, 1 gateway and 2 local gateways\nwith active standby:a max of 1 min and a half in downtime (lesser than requirements), 1 IP, 1 gateway and 2 local gateways","comments":[{"timestamp":"1590584880.0","comments":[{"timestamp":"1598179860.0","upvote_count":"1","comment_id":"164337","poster":"SunnyAU","content":"I saw the same ambiguity in the question as well. My interpretation, while the 2 IPs for the LNG are required as configuration items in Azure, they are not PIP resources defined in Azure. So technically, in Azure you only need 1 Public IP (or PIP) for a Vpn GW in Active/Standby with regards to the amount in question."}],"comment_id":"96807","upvote_count":"2","poster":"petermogaka91","content":"the question do we factor in the 2 ips for the local gateways(this are for the on prem vpn devices). I think the question is vague here. one can argue 3ips or 1ip since we all use put them in Azure"},{"comment_id":"96808","poster":"petermogaka91","timestamp":"1590585000.0","upvote_count":"1","content":"the question allows less than 2 mins downtime hence active/standby for this case."}],"comment_id":"72975","upvote_count":"10"},{"timestamp":"1585782900.0","comments":[{"content":"Correct, except second item. We need only one gateway. Every virtual network gateway works in active-stanby mode. No need to create the second one.","upvote_count":"2","timestamp":"1595787960.0","comment_id":"144343","poster":"poohtt"}],"upvote_count":"2","content":"3 IP addresses: One for the two virtual gateways that are deployed in active-passive, when one fails the other takes over using the same IP address. Two IP addresses for the local gateways.\n2 virtual gateways, active-passive\n2 local gateways representing on premises","comment_id":"70278","poster":"Gorha"},{"content":"from doc we have : For planned maintenance, the connectivity should be restored within 10 to 15 seconds. For unplanned issues, the connection recovery will be longer, about 1 minute to 1 and a half minutes in the worst case ( so here we are in the active/passive mode we need only one public IP) + The local network gateways corresponding to your VPN devices must have unique public IP addresses in the \"GatewayIpAddress\" property ( here we need 2 public IPs) so the total is 3 IPs, one Virtual gateway + 2 local network gateways","poster":"silverdeath","timestamp":"1585179720.0","upvote_count":"2","comment_id":"68230"},{"poster":"jayrush","content":"This same question was in AZ103 and answer is 2,2,2","comment_id":"64600","upvote_count":"5","timestamp":"1584342600.0"},{"comment_id":"63927","timestamp":"1584203760.0","poster":"thirstylion","content":"Dual redundancy is the most reliable option as suggested. As per that I think the answers are correct.","upvote_count":"1"},{"poster":"Happiman","content":"1 Public IP address\n1 Active/Standby VPN Gateway\n2 Local Network Gateways","upvote_count":"18","timestamp":"1583473980.0","comment_id":"59759"},{"comment_id":"47724","upvote_count":"31","comments":[{"upvote_count":"5","timestamp":"1583422980.0","content":"This is correct. I had to read all the dumb shit above to get to this clear explanation.","comment_id":"59439","poster":"Daren"},{"content":"It also say the minimum, no most reliable, so i go with active pasive gtw which can tolerate at most 1:30 min at most","poster":"Gjferweb","upvote_count":"2","timestamp":"1585180500.0","comment_id":"68233"}],"timestamp":"1581080400.0","content":"It should be 1 Virtual network gateway (in active/stand-by mode as they can tolerate 2 minutes interruption), so one Azure IP as well. \nAnd 2 Local network Gateways. The IPs for these 2 local network gateways are not Azure IP, they are VPN device IPs. so answers is:\n1-1-2","poster":"shayer0"},{"content":"2-2-2\nBenkyoujin is correct, here is the good link\nhttps://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-activeactive-rm-powershell","upvote_count":"1","timestamp":"1578249120.0","comment_id":"35712","poster":"[Removed]"},{"comment_id":"35176","timestamp":"1578125460.0","poster":"Benkyoujin","upvote_count":"5","comments":[{"content":"Sorry, just 2 gateway. But link above shows this clearly.","timestamp":"1578125580.0","upvote_count":"1","comment_id":"35177","poster":"Benkyoujin"}],"content":"2, 2, 2 - https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-activeactive-rm-powershell"},{"comments":[{"poster":"kavvaru","content":"I would go further and say, only need 1 gateway that needs to be created. According to the doc \"Every Azure VPN gateway consists of two instances in an active-standby configuration\". This supports the failover recovery under 2 minutes. Azure manages the standby gateway instance behind the scenes, but need only one gateway created by the user. The question says how many vpn gateways, not how many gateway instances. Overall it is a terribly vaguely composed question.","comment_id":"37678","upvote_count":"5","timestamp":"1578727980.0"}],"timestamp":"1577928300.0","content":"You only need 1 public IP address in azure, refer to below\nhttps://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable\nFor planned maintenance, the connectivity should be restored within 10 to 15 seconds. For unplanned issues, the connection recovery will be longer, about 1 minute to 1 and a half minutes in the worst case. \n\nSo the correct answer should be\n1. 1 IP\n2. 2 Gateway instances","upvote_count":"3","comment_id":"34379","poster":"wlfjck"},{"comment_id":"31702","timestamp":"1577006400.0","content":"I have an active-passive VPN gateway, this requires one Public IP , one VPN gateway and two local gateways. Only thing not sure is the failover time will be 2 minutes or not","upvote_count":"9","poster":"tester18128075"},{"comment_id":"26917","upvote_count":"9","timestamp":"1575560100.0","poster":"maheshyadav","content":"You need only 1 Gateway (Azure VPN gateway in an active-active configuration, and create two local network gateways and two connections for your two on-premises VPN devices as described above. The result is a full mesh connectivity of 4 IPsec tunnels between your Azure virtual network and your on-premises network) This will provide full active-active connection"},{"poster":"Adrian1405","comment_id":"25178","upvote_count":"7","timestamp":"1575021420.0","content":"I would say that the correct answer is 3 Public IP address.\nThe best fits Multiple on-premises VPN devices scenario \nhttps://docs.microsoft.com/pt-br/azure/vpn-gateway/vpn-gateway-highlyavailable"},{"upvote_count":"2","comment_id":"23662","timestamp":"1574440260.0","poster":"dumpmaster","content":"Is 4:\nhttps://docs.microsoft.com/pt-br/azure/vpn-gateway/vpn-gateway-highlyavailable"},{"timestamp":"1572937020.0","upvote_count":"28","poster":"piotr","comments":[{"upvote_count":"1","content":"All 4 Gateways are AZ resource. Question is do the dynamically assigned Public IP addresses on the Azure side VPN Gateway count?","timestamp":"1576057680.0","comments":[{"content":"2, 1, 2","comment_id":"176156","poster":"tartar","upvote_count":"2","timestamp":"1599609840.0"}],"comment_id":"28754","poster":"ChinaBandit"},{"comment_id":"29813","poster":"Amrinder101","content":"4 is correct. You have to create 2 local gateways in Azure that depicts on-prem gateways + 2 Azure Gateways","upvote_count":"9","comments":[{"comment_id":"55594","timestamp":"1582740840.0","poster":"qr","upvote_count":"6","content":"Armrinder101 is correct. 4 is required. https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable"}],"timestamp":"1576431600.0"},{"upvote_count":"5","content":"As Amrinder said 4 is correct.\nYou give the local network gateway a name, the public IP address of the on-premises VPN device, and specify the address prefixes that are located on the on-premises location.\n\nSo we should give 2 Public IPs for VPN Gateway and 2 for LNG (which is on-premises public IPs).","timestamp":"1576953660.0","comment_id":"31562","poster":"AnshMan","comments":[{"comment_id":"180277","timestamp":"1600252080.0","upvote_count":"1","content":"That's right.\n\"The local network gateways corresponding to your VPN devices must have unique public IP addresses in the \"GatewayIpAddress\" property\"\nSource: https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable","poster":"cool0609"}]},{"upvote_count":"1","content":"2 Public IPs , 1 VPN Gateway in active/active config , 2 Local Network Gateways","poster":"ipvaid","comments":[{"timestamp":"1598987940.0","content":"sorry, 1 Public IPs , 1 VPN Gateway in active/active config , 2 Local Network Gateways","poster":"ipvaid","upvote_count":"5","comment_id":"171525"}],"timestamp":"1598987820.0","comment_id":"171524"}],"comment_id":"19277","content":"You only need 2 public IP addresses in Azure, one per gateway. Other side public IP does not count as these are not Azure resources."}],"topic":"1","question_text":"HOTSPOT -\nYou have an on-premises data center and an Azure subscription. The data center contains two VPN devices. The subscription contains an Azure virtual network named VNet1. VNet1 contains a gateway subnet.\nYou need to create a site-to-site VPN. The solution must ensure that is a single instance of an Azure VPN gateway fails, or a single on-premises VPN device fails, the failure will not cause an interruption that is longer than two minutes.\nWhat is the minimum number of public IP addresses, virtual network gateways, and local network gateways required in Azure? To answer, select the appropriate options in the answer area.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","isMC":false,"answer_description":"Box 1: 4 -\nTwo public IP addresses in the on-premises data center, and two public IP addresses in the VNET.\nThe most reliable option is to combine the active-active gateways on both your network and Azure, as shown in the diagram below.\n\n\nBox 2: 2 -\nEvery Azure VPN gateway consists of two instances in an active-standby configuration. For any planned maintenance or unplanned disruption that happens to the active instance, the standby instance would take over (failover) automatically, and resume the S2S VPN or VNet-to-VNet connections.\n\nBox 3: 2 -\nDual-redundancy: active-active VPN gateways for both Azure and on-premises networks\nReferences:\nhttps://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-highlyavailable","question_images":["https://www.examtopics.com/assets/media/exam-media/02758/0026000001.jpg"],"answer_ET":"","timestamp":"2019-11-05 07:57:00","answer":"","unix_timestamp":1572937020,"question_id":73,"answer_images":["https://www.examtopics.com/assets/media/exam-media/02758/0026100001.jpg","https://www.examtopics.com/assets/media/exam-media/02758/0026200001.png"],"url":"https://www.examtopics.com/discussions/microsoft/view/7695-exam-az-300-topic-1-question-75-discussion/","answers_community":[],"exam_id":50},{"id":"6h18h3Lg682o1sY4mSff","unix_timestamp":1569312900,"answers_community":[],"answer_description":"Box 1: vNET6 only -\n\nBox 2: Modify the address space -\nThe virtual networks you peer must have non-overlapping IP address spaces.\nReferences:\nhttps://docs.microsoft.com/en-us/azure/virtual-network/virtual-network-manage-peering#requirements-and-constraints","answer_ET":"","discussion":[{"timestamp":"1571300040.0","comments":[{"upvote_count":"4","poster":"cacasodo","content":"I would say that \"delete peering1\" would seem to be correct; however, the documentation here says you have to delete the peerings from BOTH vnets: https://docs.microsoft.com/en-us/azure/virtual-network/virtual-network-troubleshoot-peering-issues\n\nIf the \"delete peering1\" answer is then wrong in favor of deleting both peerings which isn't a choice, then you have to float to the next most logical alternative, which might be adding address space. Not sure on this one.","comment_id":"90047","timestamp":"1589648460.0"},{"content":"Agree with looker.","upvote_count":"1","poster":"praveen97","timestamp":"1594944360.0","comment_id":"136806"},{"timestamp":"1595599140.0","poster":"BiggusJiggus","upvote_count":"1","comment_id":"142801","content":"Agree - delete peering 1"}],"content":"agree, i think the answer should be 'delete peering1'. according to: https://docs.microsoft.com/en-us/azure/virtual-network/virtual-networks-faq#vnet-peering : If your VNet peering connection is in a Disconnected state, it means one of the links created was deleted. In order to re-establish a peering connection, you will need to delete the link and recreate it.","comment_id":"15739","upvote_count":"77","poster":"looker"},{"timestamp":"1569312900.0","content":"Why modifying the address space? We don't even know which address space are used here, hence maybe is no overlapping at all.","poster":"NS","comments":[{"poster":"tartar","comment_id":"176157","content":"vNet6 only\nDelete Peering1","upvote_count":"9","timestamp":"1599610080.0"},{"poster":"freemanchen","upvote_count":"1","timestamp":"1601621580.0","comment_id":"191439","content":"correct. if there is overlapping, the peering cannot be created . not to mention to modify the address space"}],"comment_id":"12425","upvote_count":"23"},{"content":"at exam today 10/7/2024","timestamp":"1720603680.0","comment_id":"1245391","upvote_count":"1","poster":"Christina666"},{"timestamp":"1606057020.0","comments":[{"content":"Because peering status is \"Disconnected\" hence host on Vnet 6 can connect to Vnet 6 hosts only.","timestamp":"1615724640.0","comment_id":"310520","poster":"AKumar","upvote_count":"1"}],"upvote_count":"1","poster":"Gluckos","comment_id":"225023","content":"why vnet6 only?"},{"content":"Steps are \n1) delete peering \n2) add Address Space\n3) Add subnet \n4) Create new peering\n\nSo first is to delete the existing peering","upvote_count":"1","comment_id":"185706","timestamp":"1600900740.0","poster":"umangsingh123"},{"poster":"MMohammad","upvote_count":"2","comment_id":"181137","timestamp":"1600365060.0","content":"The correct answer should be:\n.Vnet 6 only\n.delete peering1"},{"content":"You can't add address ranges to or delete address ranges from a virtual network's address space once a virtual network is peered with another virtual network. https://go.microsoft.com/fwlink/?linkid=2113320\n\nSo to modify the address space , the peering should be deleted first","poster":"Arulkumar_Subramaniam","upvote_count":"2","timestamp":"1600261140.0","comment_id":"180355"},{"poster":"Rooh","content":"answer would be \"delete peering\"","timestamp":"1595191680.0","upvote_count":"3","comment_id":"138948"},{"comment_id":"133212","content":"As troubleshooting, i would say that first thing to verify is address space overlapping.","poster":"nabylion","comments":[{"timestamp":"1594655580.0","upvote_count":"1","comments":[{"content":"true, so i agree that deleting peering1 is the solution.\nThanks @gboyega!","timestamp":"1599164640.0","upvote_count":"1","poster":"nabylion","comment_id":"172916"}],"comment_id":"134058","poster":"gboyega","content":"If you needed to do this.\nThere would not have been an initial connection.\n\nSo we just need to create the Peering again"}],"timestamp":"1594584480.0","upvote_count":"1"},{"content":"Answer is:\n1 - vNet6 only\n2 - \"Delete Peering1\"","timestamp":"1594560840.0","upvote_count":"10","comment_id":"132965","poster":"Luiza","comments":[{"poster":"gboyega","comment_id":"134057","content":"This is Correct","timestamp":"1594655520.0","upvote_count":"5"}]},{"comment_id":"127405","content":"https://www.examtopics.com/exams/microsoft/az-103/view/23/, Question 29, Answer is \"Delete Peering1\".","upvote_count":"10","timestamp":"1594008420.0","poster":"PTC"},{"timestamp":"1590591600.0","poster":"jivom","content":"For sure the peering must first be deleted (in case we have an address space overlap that is): \"You can't add address ranges to, or delete address ranges from a virtual network's address space once a virtual network is peered with another virtual network. To add or remove address ranges, delete the peering, add or remove the address ranges, then re-create the peering. \"","comment_id":"96871","upvote_count":"3"},{"poster":"AnshMan","comment_id":"93569","timestamp":"1590088560.0","content":"Question is incomplete to answer justify the answer \"modify the address space\". I agree with the other comments, \"delete peering1\" should be the answer.","upvote_count":"2"},{"content":"even so you cant modify the address space on a peered vnet, must recreate","upvote_count":"1","timestamp":"1589679120.0","comment_id":"90253","poster":"Gjferweb"},{"upvote_count":"3","comment_id":"90112","content":"Scenario - 1 --> Address space if overlapping (Box 2 - It should be Delete Peering first.)\n1. Delete Peering \n2. Update Address space if overlapping \n3. Create Peering. \n\nScenario - 2\nThe peering status is \"Disconnected\" (Box 2 - It should be Delete Peering first.)\nTo resolve this issue, delete the peering from both virtual networks, and then re-create them.\nhttps://docs.microsoft.com/en-us/azure/virtual-network/virtual-network-troubleshoot-peering-issues","poster":"MukeshKhamparia","timestamp":"1589655360.0"},{"poster":"milind8451","content":"Either the question is incomplete or answer is wrong. We don't see any IP address ranges so how can we know if there is any address overlapping. I think the best answer is to delete the peering.","comment_id":"75655","upvote_count":"3","timestamp":"1587116280.0"},{"timestamp":"1584515100.0","upvote_count":"17","poster":"slbteam08","content":"From:\nhttps://docs.microsoft.com/en-us/azure/virtual-network/virtual-network-troubleshoot-peering-issues\nThe peering status is \"Disconnected\" => \nTo resolve this issue, delete the peering from both virtual networks, and then re-create them.","comments":[{"poster":"nagendra25may","content":"in the available options only delete peering1 available. If we delete peering 1 it will not resolve overall problem so i think the correct option is modify the address space from the available options.","upvote_count":"1","timestamp":"1592622420.0","comment_id":"114376"}],"comment_id":"65497"},{"timestamp":"1584201660.0","upvote_count":"3","comment_id":"63915","poster":"Daren","content":"You observation seems correct."},{"poster":"kobiazure","upvote_count":"4","comment_id":"43671","timestamp":"1580207460.0","content":"as fasr as i understand , you cannot disconnect the peering , you can only delete it"}],"question_text":"HOTSPOT -\nYou have peering configured as shown in the following exhibit.\n//IMG//\n\nUse the drop-down menus to select the answer choice that completes each statement based on the information presented in the graphic.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","question_images":["https://www.examtopics.com/assets/media/exam-media/02758/0026300001.png","https://www.examtopics.com/assets/media/exam-media/02758/0026400001.png"],"question_id":74,"answer_images":["https://www.examtopics.com/assets/media/exam-media/02758/0026400002.png"],"exam_id":50,"answer":"","topic":"1","url":"https://www.examtopics.com/discussions/microsoft/view/5640-exam-az-300-topic-1-question-76-discussion/","timestamp":"2019-09-24 10:15:00","isMC":false},{"id":"D8VYJ9h9uRtaFtbESDJN","discussion":[{"comment_id":"27866","content":"Thinking more about it, I think B is correct because you first download the kubectl in order to later run the commands","timestamp":"1575816900.0","upvote_count":"42","poster":"Musk","comments":[{"poster":"ChePunk","comment_id":"57892","upvote_count":"8","timestamp":"1583197200.0","content":"I agree with Musk that the correct answer is B, because you can read this article about the following up steps after installed Azure CLI on your on-premise device. https://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough#connect-to-the-cluster"},{"poster":"STFN2019","upvote_count":"3","content":"Precisely","comment_id":"76297","timestamp":"1587282360.0"},{"timestamp":"1589925300.0","comments":[{"comment_id":"110310","upvote_count":"11","content":"Installing Azure CLI doesn't install Kubectl. If you only installed Azure CLI, you still don't have a way of running kubectl unless you run az aks install-cli first.","comments":[{"content":"I dont think so:\nThis is from :https://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough#connect-to-the-cluster\nTo manage a Kubernetes cluster, you use kubectl, the Kubernetes command-line client. If you use Azure Cloud Shell, kubectl is already installed. To install kubectl locally, use the az aks install-cli command:\nThat means kubectl is already installed. Next step is to connect to AKS cluster , which can be done through az aks get-credentials...D should be the answer","comment_id":"208396","poster":"Shades","comments":[{"timestamp":"1606739880.0","upvote_count":"1","poster":"uzairahm007","comment_id":"231069","content":"But the question says: \"An administrator plans to manage Clus1 from an Azure AD-joined device.\"\nIt means we first need to install kubectl on the Administrator client and that he could get credentials and after that apply configuration files"}],"upvote_count":"1","timestamp":"1603965480.0"}],"poster":"Aresius","timestamp":"1592161200.0"}],"upvote_count":"7","content":"Correct answer is D.\nAs it states in the questions itself \"You install the Azure CLI on the device.\" so \"B\" is already done, so the next logical step would be to authenticate, hence D and at last upload the YAML file using C","poster":"nishantknz","comment_id":"92411"},{"content":"So is it B, C or D, Can someone confirm","comment_id":"117005","upvote_count":"3","timestamp":"1592885580.0","poster":"CloudTech"},{"timestamp":"1594945140.0","content":"Agree with Musk.\nInstalling Azure CLI doesn't mean that Azure Kubernates client is installed. So before running the application, we have install kubectl, the Kubernetes command-line client.\naz aks install-cli\nSo, the answer is B.","upvote_count":"6","poster":"praveen97","comment_id":"136809"},{"content":"B should be correct. Based on microsoft documentation aks cli is installed by default only on cloud powershell. As the question refers to connecting from another device, aks cli needs to be installed first.","upvote_count":"5","timestamp":"1595302200.0","poster":"SamAnonymous","comment_id":"140008"},{"comment_id":"238993","upvote_count":"1","timestamp":"1607498460.0","content":"If you haven't credentials you could do nothing.\nYou don't need az aks cli for deploy someting. You can use kubectl command.","poster":"aabdous"},{"timestamp":"1595940960.0","content":"Agreed. The answer should be B\nhttps://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough#connect-to-the-cluster. \nIn above link, efer to the section on connecting to the cluster.","comment_id":"145800","poster":"misushant","upvote_count":"4"}]},{"comments":[{"comment_id":"23146","comments":[{"comments":[{"upvote_count":"1","comment_id":"183272","poster":"Madhu1","timestamp":"1600631700.0","content":"Even though its already installed, you have to run the command install again so its option B"}],"content":"D is ok","comment_id":"176160","timestamp":"1599610440.0","poster":"tartar","upvote_count":"2"}],"content":"D is right and should be performed before C is done. Option C is to deploy the YAML file.","timestamp":"1574282100.0","upvote_count":"7","poster":"[Removed]"}],"content":"I think the answer should be D. See https://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough#connect-to-the-cluster","timestamp":"1572981480.0","poster":"[Removed]","upvote_count":"25","comment_id":"19417"},{"timestamp":"1615063920.0","comment_id":"304825","poster":"Namco04","upvote_count":"1","content":"You have an Azure Kubernetes Service (AKS) cluster named Clus1 in a resource group named RG1.\nAn administrator plans to manage\nShould D!!"},{"content":"The question clearly states \"You install the Azure CLI on the device.\" \nwhich means you have cli installed .so the steps should be \n1)install Kubectl\n2) get creadentials \n3) play with Kubectl","timestamp":"1600900980.0","upvote_count":"4","poster":"umangsingh123","comment_id":"185708"},{"timestamp":"1600900860.0","upvote_count":"2","poster":"umangsingh123","content":"The question clearly states \"You install the Azure CLI on the device.\" so the steps should be \n1) get creadentials \n2) play with Kubectl","comment_id":"185707"},{"content":"The correct answer is : B. az aks install-cli\nExplanation:\nThe administrator first needs to install the kubectl tool","comments":[{"timestamp":"1607498580.0","content":"If you haven't credentials you could do nothing.\nYou don't need az aks cli for deploy someting. You can use kubectl command.","comment_id":"238997","poster":"aabdous","upvote_count":"1"}],"timestamp":"1600365180.0","comment_id":"181139","upvote_count":"1","poster":"MMohammad"},{"timestamp":"1599723960.0","poster":"magpi","content":"The answer is B. But note that you might get the credentials (answer D) before install kubectl (answer B). I would prefer a question where you can order the next three steps. In that case: BDC or DBC would be correct.","comment_id":"176970","upvote_count":"1"},{"timestamp":"1599396360.0","comment_id":"174554","poster":"tamm","content":"Based on the question. \nAn administrator plans to manage Clus1 from an Azure AD-joined device. \nYou install the Azure CLI on the device.(if you use Azure Cloud Shell, kubectl is already installed.) So we can ignore \"az aks install-cli\" and the next command is \"az aks get-credentials --resource-group myResourceGroup --name myAKSCluster\"\nAnswer should be \"D\"\nRef: https://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough","upvote_count":"3"},{"upvote_count":"1","poster":"slyBabs","comment_id":"172641","timestamp":"1599135780.0","content":"https://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough\nTo manage a Kubernetes cluster, you use kubectl, the Kubernetes command-line client. If you use Azure Cloud Shell, kubectl is already installed. To install kubectl locally, use the az aks install-cli command"},{"comment_id":"159071","poster":"Shagor","timestamp":"1597564920.0","comments":[{"upvote_count":"2","poster":"ct84","content":"Na mate, even your own link shows the answer is B.","comment_id":"169960","timestamp":"1598783880.0"}],"content":"Ans is :D\nhttps://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough","upvote_count":"1"},{"comment_id":"154740","comments":[{"poster":"macco455","content":"Corrected Link: https://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough","comment_id":"154744","timestamp":"1597083540.0","upvote_count":"1"}],"content":"https://docs.microsofaz aks int.com/en-us/azure/aks/kubernetes-walkthrough\nBased on this article, the first thing you need to do to manage Kubernetes from Azure CLI is to run az aks install-cli. Thus B is the answer. But if this question mentioned using cloud shell and not azure CLI then kubectl is already installed then the answer would be D.\nSo for this question as written, the answer is definitively B- az aks install-cli","upvote_count":"2","poster":"macco455","timestamp":"1597083240.0"},{"comments":[{"poster":"macco455","timestamp":"1597347540.0","content":"100% the answer is B see link below\nhttps://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough","comment_id":"157578","upvote_count":"3"}],"comment_id":"145221","poster":"aurora21","content":"Other dumps also point to option C as answer though Musk reply sounds logical. \nSo is it B or C ?","timestamp":"1595876220.0","upvote_count":"1"},{"timestamp":"1594923420.0","poster":"tundervirld","upvote_count":"6","content":"Tested in LAB:\n\nQuestion says, You install the Azure CLI on the device, but this isnt the same with aks cli, if you execute kubectl alone, don't work. You need to install the functionality of this command, you need do az aks install-cli before, to be able to do kubectl apply -f appl.yaml\n\nSo: B is the right answer.","comment_id":"136676"},{"content":"Answer is B","comment_id":"135821","poster":"gboyega","upvote_count":"3","timestamp":"1594827060.0"},{"poster":"Luiza","content":"Answer is B\n\nTo manage a Kubernetes cluster, you use kubectl, the Kubernetes command-line client. If you use Azure Cloud Shell, kubectl is already installed. To install kubectl locally, use the az aks install-cli command","comment_id":"132968","upvote_count":"2","timestamp":"1594561080.0"},{"upvote_count":"2","comment_id":"130827","timestamp":"1594315560.0","content":"B. az aks install-cli\n\nThe administrator first needs to install the kubectl tool","poster":"Aaru"},{"poster":"DeveshSolanki","content":"D. az aks get-credentials --resource-group RG1 --name Clus1","comment_id":"129586","timestamp":"1594197480.0","upvote_count":"1"},{"poster":"[Removed]","content":"The necessary steps are:\n\n- Download and install Azure CLI on the machine\n - According to the question this is already done for you. \n- Install kubectl locally \n - \"$ az aks install-cli\"\n - This wouldn't be necessary if we would work with azure cloud shell. however the questions clearly states we are working on an azure ad joined machine\n- Configure kubectl to connect to your Kubernetes cluster \n - \"$ az aks get-credentials --resource-group resgroup --name mycluster\n \nhttps://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough#connect-to-the-cluster\n\n==> Answer B:","upvote_count":"2","timestamp":"1594043400.0","comment_id":"127856"},{"content":"Ans is b, you need it for run kubectl commands","timestamp":"1593735720.0","comment_id":"125302","upvote_count":"2","poster":"angelsrp"},{"comment_id":"123171","poster":"powertechnet","upvote_count":"1","content":"To deploy your application, use the kubectl apply command. This command parses the manifest file and creates the defined Kubernetes objects\nexample: kubectl apply -f azure-vote-all-in-one-redis.yaml\nhttps://docs.microsoft.com/en-us/azure/aks/tutorial-kubernetes-deploy-application","timestamp":"1593484800.0"},{"content":"Think about it guys. You need to \"prepare\" the environment, the clue is in the way the question is written. The answer is \"B\".","comment_id":"115923","upvote_count":"2","timestamp":"1592784900.0","poster":"epomatti"},{"comment_id":"115541","content":"I simulate the setup and found D is a correct answer.\n\n\nTest Case:\n\n$ az aks install-cli\nDownloading client to \"/usr/local/bin/kubectl\" from \"https://storage.googleapis.com/kubernetes-release/release/v1.18.4/bin/linux/amd64/kubectl\"\nConnection error while attempting to download client ([Errno 13] Permission denied: '/usr/local/bin/kubectl')\n\n\n\n\n$ az aks get-credentials --resource-group RG1 --name Clus1\nMerged \"Clus1\" as current context in /home/demo/.kube/config\n\n$ cat .kube/config\napiVersion: v1\nclusters:\n- cluster:\n certificate-authority-data: LS0tLS","poster":"jaigaurav","timestamp":"1592740800.0","upvote_count":"3"},{"content":"Question is asking what should you run next after installing the Azure CLI ? (Not asking to deploy). If this is the case next run after installing Azure CLI is installing B. az aks install. Unless it is a multiple choice question or a series of steps it will be B... if multiple choise and need to be in order than BDC.","upvote_count":"1","poster":"Prash85","comment_id":"112573","timestamp":"1592408340.0"},{"content":"I think the answer is B , because of the below lines:\nConnect to the cluster\nTo manage a Kubernetes cluster, use kubectl, the Kubernetes command-line client.\n\nIf you're using Azure Cloud Shell, kubectl is already installed. If you want to install it locally, use the az aks install-cli command.\n\nTo configure kubectl to connect to your Kubernetes cluster, use the az aks get-credentials command. This step downloads credentials and configures the Kubernetes CLI to use them.\n\naz aks get-credentials resource-group myAKSCluster name myAKSCluster\n\nTo verify the connection to your cluster, use the kubectl get command to return a list of the cluster nodes. It can take a few minutes for the nodes to appear.\n\nkubectl get nodes","timestamp":"1592272440.0","upvote_count":"4","comment_id":"111237","poster":"[Removed]"},{"comment_id":"98584","content":"C kubectl apply -f appl.yaml applies a configuration change to a resource from a file or stdin.","timestamp":"1590805680.0","upvote_count":"1","poster":"yassan"},{"poster":"P0d","comment_id":"95528","content":"The question is tricky.\nThere are two answer here. C and D. \nFirst of all I would like to inform that Kub.CLI is alrady active within Bash. no need additional installation. So B is not the answer. If I am an admin so I will need to check it by kubecktl apply command to check if it's applying. If I am not an admin who is will be tested so I will need to check from az aks get-credentials for my cluster to check if another admin has enough permission. So unclear question which confuses.","timestamp":"1590425760.0","upvote_count":"1"},{"timestamp":"1589656140.0","comment_id":"90120","poster":"MukeshKhamparia","content":"https://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough#connect-to-the-cluster\nSequence - \naz aks install-cli\naz aks get-credentials --resource-group myResourceGroup --name myAKSCluster\nkubectl get nodes\nkubectl apply -f azure-vote.yaml","upvote_count":"2"},{"comment_id":"81540","content":"correct answer is D. I did a lab for it. First need to save credentials from AKS cluster, so that kubelet can perform actions on AKS cluster. After that we can call kubectl commands.","timestamp":"1588226880.0","poster":"Rishabhjain","upvote_count":"1"},{"timestamp":"1587769980.0","comments":[{"comment_id":"97005","content":"\"they need to get credential to Set Kubectl context for the cluster\" -- even if they are an administrator and the device they use is Azure AD Joined?","upvote_count":"1","timestamp":"1590609180.0","poster":"tmurfet"}],"upvote_count":"5","comment_id":"79278","content":"By looking at the getting started guide i think.\n1. First you create the cluster using az aks create ...(other params)\n2. Then you install the Kubectl using az aks install-cli\n3. Then you get credential for the kubectl management using az aks get-credentials --resource-group myResourceGroup --name myAKSCluster\n4. Then you can use kubectl command like kubectl get nodes\n\nReference to get started guide \nhttps://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough\n\nSo the answer should be B we cannot assume the admin has already installed the Kubectl on their device even if we assume if they have kubectl installed then answer should be D because they need to get credential to Set Kubectl context for the cluster","poster":"RanjeetAulakh"},{"comment_id":"77135","timestamp":"1587421680.0","upvote_count":"2","content":"has anyone attended this question in the exam as that will give a clear picture on what Microsoft is expecting? I think the answer is B","poster":"mspav"},{"content":"The answer is B! It clearly says - \"An administrator plans to manage Clus1 from an Azure AD-joined device\". So, that implies this is done on a device but, not on Azure Cloud Shell. Then, it says - \"You install the Azure CLI on the device\" so, there's no way Kubernetes command-line client (kubectl) to pre exist on that device. So, the next command you MUST run is the following to install kubectl.\n\naz aks install-cli\n\nSource - https://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough","timestamp":"1587160800.0","upvote_count":"8","poster":"DP80","comment_id":"75873"},{"comment_id":"74496","content":"If you read the question carefully, it state you have installed Azure CLI, not the Kubernetes CLI. These are 2 completely different products. You have to install the Azure CLI to be able to run any CLI based commands. Before you can run any product based CLI commands (docker, kubernetes etc.) you must install the command set.\n\nSo, in my view the answer would be B. az aks install-cli, this installs the Kubernetes command set\n\nThen you would connect to the cluster with az aks get-credentials, then kubectl get nodes and finally kubectl apply -f","upvote_count":"2","poster":"BigTone","timestamp":"1586868360.0"},{"content":"tested...D is correct.","upvote_count":"4","comment_id":"72880","poster":"riyamalin","timestamp":"1586499900.0"},{"comment_id":"71618","upvote_count":"1","content":"Correct answer should be \"D\".\nOption B install kubectl CLI\nOption C is making use of kubectl CLI\nYou can avoid all this and just use AZ AKS commands. Option D should be correct.","poster":"dg63","timestamp":"1586127240.0"},{"poster":"silverdeath","upvote_count":"1","content":"az aks get-credentials --resource-group RG1 --name Clus1 ( this command to get the k8s cluster config file) before starting using kubectl command","timestamp":"1585181160.0","comment_id":"68236"},{"timestamp":"1584202680.0","comment_id":"63923","upvote_count":"3","content":"Now I realized they said you installed Azure CLI. So next step is to run az aks install-cli. I`d go with this option.","poster":"Daren"},{"content":"It`s tricky, but I think the correct answer is az aks get-credentials --resource-group RG1 --name Clus1 and I`ll explain why. The sequence is as follows:\n1. az aks install-cli\n2. az aks get-credentials --resource-group \"RG name\" --name \"Cluster name\"\n3. kubectl get nodes\n4. kubectl apply -f somefile.yaml\n\nSo you need to get the credentials of you AKS cluster in order to connect & merge cluster as current context. Hope this helps.","timestamp":"1584202140.0","upvote_count":"9","comment_id":"63919","poster":"Daren"},{"timestamp":"1583659920.0","content":"Definitely D !! Check out this link. https://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough#connect-to-the-cluster","poster":"blackalbum","upvote_count":"1","comment_id":"60635"},{"timestamp":"1583526960.0","content":"Answer: C:\n\nDeploy the application\nTo deploy your application, use the kubectl apply command. This command parses the manifest file and creates the defined Kubernetes objects. Specify the sample manifest file, as shown in the following example:","comment_id":"60049","upvote_count":"2","poster":"Happiman"},{"comment_id":"57201","upvote_count":"11","poster":"Jt909","content":"From MS' https://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough#connect-to-the-cluster\nB - install az aks cli or you don't have kubectl available.\nD - login with get-credential\nA verify access kubectl get nodes\nC apply yaml command","timestamp":"1583067840.0"},{"content":"D is right, before you can do anything on the aks you must connect with him.","poster":"Minimal1988","timestamp":"1581687000.0","comment_id":"50480","upvote_count":"2"},{"timestamp":"1581287340.0","upvote_count":"1","comment_id":"48499","poster":"FailureIsnotAnOption","content":"C https://docs.microsoft.com/en-us/azure/aks/tutorial-kubernetes-deploy-application"},{"upvote_count":"15","comment_id":"44922","poster":"VRD13","content":"1. Install AZ CLI using ... MSI ... - it is only Azure CLI, not Kubernetes\n2. !!! B - run az aks install-cli to install Kubernetes CLI, which is kubectl !!!\nonly then kubectl apply etc.","timestamp":"1580406900.0"},{"poster":"Abbas","comment_id":"42910","timestamp":"1580047140.0","upvote_count":"1","content":"D should be the answer irrespective of installation is in progress or completed because it ask for the command to be run next. so as a second step admin should be given the permissions to deploy the file."},{"content":"To manage a Kubernetes cluster, you use kubectl, the Kubernetes command-line client. If you use Azure Cloud Shell, kubectl is already installed. To install kubectl locally, use the az aks install-cli command:","comments":[{"timestamp":"1579115640.0","upvote_count":"4","comment_id":"39468","poster":"Mathew","content":"You install the Azure CLI on the device. so az commands available ...next az aks install-cli \nso answer is B"},{"timestamp":"1594043100.0","comment_id":"127853","poster":"[Removed]","comments":[{"comment_id":"172640","content":"https://docs.microsoft.com/en-us/azure/aks/kubernetes-walkthrough\nTo manage a Kubernetes cluster, you use kubectl, the Kubernetes command-line client. If you use Azure Cloud Shell, kubectl is already installed. To install kubectl locally, use the az aks install-cli command:","upvote_count":"1","timestamp":"1599135720.0","poster":"slyBabs"}],"content":"I would agree that it's not answer B _IF_ the question would say something about the Azure Cloud Shell. Because as you said, there kubectl is preinstalled. However the question explicitly mentions an Azure-AD-Join machine... \n\nSo long story short: I vote for B","upvote_count":"3"}],"upvote_count":"3","comment_id":"39467","poster":"Mathew","timestamp":"1579115580.0"},{"comments":[{"timestamp":"1578126120.0","comment_id":"35179","content":"But B is the command to install the CLI! Example says this was done already.","upvote_count":"3","poster":"Benkyoujin","comments":[{"poster":"Naverick","timestamp":"1578254940.0","comment_id":"35726","upvote_count":"1","content":"https://docs.microsoft.com/en-us/cli/azure/aks?view=azure-cli-latest\nB downloads and installs kubectl, the Kubernetes command-line too. This is different from Azure CLI which installs the \"AZ\" module."},{"comment_id":"127852","timestamp":"1594042980.0","upvote_count":"2","poster":"[Removed]","content":"No, the example says that Azure CLI was installed, NOT kubectl. This are different tools."}]}],"content":"the Azure CLI install does not install kubectl. For Kubectl to get installed you have to run B after installing the Azure Cli.","comment_id":"35030","upvote_count":"8","poster":"cjsammaejs","timestamp":"1578076320.0"},{"comments":[{"content":"no, \nTo manage a Kubernetes cluster, you use kubectl, the Kubernetes command-line client. If you use Azure Cloud Shell, kubectl is already installed. To install kubectl locally, use:\naz aks install-cli","poster":"Gianlucag77","upvote_count":"2","comment_id":"123350","timestamp":"1593506820.0"}],"upvote_count":"3","comment_id":"31563","timestamp":"1576954440.0","content":"Question says, You install the Azure CLI on the device. Which command should you run next? Obviously \"C\", run YAML file. Since CLI is already installed....","poster":"AnshMan"},{"comment_id":"29096","poster":"cjsammaejs","timestamp":"1576164600.0","content":"I agree with Musk, it is probably B. https://docs.microsoft.com/en-us/cli/azure/aks?view=azure-cli-latest#az-aks-install-cli \nWhat is missing from the list is \"az login\". You have to do this command before running C or D and it is not listed. An Azure AD joined device does not pre-empt either az login or get credentials from my testing. and the question asks what would you do after installing AZ CLI. Kubectl is not installed by installing AZ Cli.","upvote_count":"5"}],"timestamp":"2019-11-05 20:18:00","unix_timestamp":1572981480,"answers_community":[],"url":"https://www.examtopics.com/discussions/microsoft/view/7725-exam-az-300-topic-1-question-77-discussion/","answer_description":"kubectl apply \"\"f appl.yaml applies a configuration change to a resource from a file or stdin.\nIncorrect Answers:\nA: kubectl get nodes gets a list of all nodes.\nB: az aks install-cli download and install the Kubernetes command-line tool.\nD: az aks get-credentials gets access credentials for a managed Kubernetes cluster\nReferences:\nhttps://kubernetes.io/docs/reference/kubectl/overview/\nhttps://docs.microsoft.com/en-us/cli/azure/aks","choices":{"B":"az aks install-cli","D":"az aks get-credentials --resource-group RG1 --name Clus1","A":"kubectl get nodes","C":"kubectl apply \"\"f appl.yaml"},"answer_ET":"C","question_id":75,"question_images":[],"answer_images":[],"question_text":"You have an Azure Kubernetes Service (AKS) cluster named Clus1 in a resource group named RG1.\nAn administrator plans to manage Clus1 from an Azure AD-joined device.\nYou need to ensure that the administrator can deploy the YAML application manifest file for a container application.\nYou install the Azure CLI on the device.\nWhich command should you run next?","isMC":true,"answer":"C","exam_id":50,"topic":"1"}],"exam":{"isImplemented":true,"provider":"Microsoft","numberOfQuestions":241,"name":"AZ-300","lastUpdated":"12 Apr 2025","isBeta":false,"isMCOnly":false,"id":50},"currentPage":15},"__N_SSP":true}