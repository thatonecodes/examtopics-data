{"pageProps":{"questions":[{"id":"5pS1jNcrabl2Wc5Eup81","unix_timestamp":1681369800,"answer":"","question_id":56,"answers_community":[],"timestamp":"2023-04-13 09:10:00","answer_ET":"","isMC":false,"url":"https://www.examtopics.com/discussions/microsoft/view/106095-exam-az-720-topic-5-question-41-discussion/","answer_description":"","exam_id":59,"question_text":"HOTSPOT -\nA company deploys a new application and places the application behind an Azure Application Gateway Web Application Firewall (WAF).\nA user with the client IP 203.0.113.26 reports that they cannot access the application.\nYou need to troubleshoot the the issue.\nHow should you complete the query? To answer, select the appropriate options in the answer area.\nNOTE: Each correct selection is worth one point.\n//IMG//","topic":"5","question_images":["https://img.examtopics.com/az-720/image77.png"],"discussion":[{"content":"where ResourceProvider == \"MICROSOFT.NETWORK\" and Category == \"ApplicationGatewayFirewallLog\" filters for entries related to the Application Gateway WAF.\nwhere clientIP_s == \"203.0.113.26\" filters for entries where the client IP address is 203.0.113.26.\nThis will provide the WAF logs related to the client with IP 203.0.113.26, providing insights into whether the firewall is blocking the user's requests. You might see entries related to rule matches, actions taken (like Block or Allow), and more detailed information that could help identify the problem.","comment_id":"958465","upvote_count":"1","poster":"terawatt","timestamp":"1689942240.0"},{"timestamp":"1681369800.0","comment_id":"869176","upvote_count":"2","poster":"MarshalLaw","content":"Correct!\n\nhttps://learn.microsoft.com/en-us/azure/application-gateway/log-analytics"}],"answer_images":["https://img.examtopics.com/az-720/image78.png"]},{"id":"HeRpRFQgoi7O5lhzk4C0","question_images":["https://img.examtopics.com/az-720/image79.png"],"timestamp":"2023-04-22 16:02:00","question_id":57,"discussion":[{"timestamp":"1682172120.0","poster":"cris_exam","comment_id":"877326","upvote_count":"2","content":"Correct. Here is the doc supporting the answer.\n\nhttps://learn.microsoft.com/en-us/azure/traffic-manager/traffic-manager-troubleshooting-degraded#troubleshooting\n\nadd-type @\"\nusing System.Net;\nusing System.Security.Cryptography.X509Certificates;\npublic class TrustAllCertsPolicy : ICertificatePolicy {\n public bool CheckValidationResult(\n ServicePoint srvPoint, X509Certificate certificate,\n WebRequest request, int certificateProblem) {\n return true;\n }\n}\n\"@\n[System.Net.ServicePointManager]::CertificatePolicy = New-Object TrustAllCertsPolicy"}],"answers_community":[],"isMC":false,"question_text":"HOTSPOT -\nA company deploys Azure Traffic Manager load balancing for an Azure App Service solution.\nLoad balancing performance is showing a degraded status after deployment, and new HTTPS probes are failing to reach the Traffic Manager endpoints.\nYou need to troubleshoot the probe failure.\nHow should you complete the PowerShell script? To answer, select the appropriate options in the answer area.\nNOTE: Each correct selection is worth one point.\n//IMG//","answer":"","exam_id":59,"unix_timestamp":1682172120,"answer_ET":"","answer_images":["https://img.examtopics.com/az-720/image80.png"],"url":"https://www.examtopics.com/discussions/microsoft/view/106986-exam-az-720-topic-5-question-42-discussion/","topic":"5","answer_description":""},{"id":"y826ASWPpD9OW2wjntX8","topic":"5","question_text":"A company has an Azure tenant. The company deploys an Azure Firewall named FW1 using the Standard SKU. You configure FW1 using classic firewall rules.\nThe company creates an application rule collection with the following settings:\n\nPriority: 100 -\n\nAction: Deny -\n\nRule type: FQDN -\n\nSource type: IP address -\nSource: *\n\nProtocol: http:80,https:443 -\nTarget FQDN: *.cloud.contoso.com\nAn engineer observes that traffic to console.cloud.contoso.com is still allowed by FW1.\nYou need to determine why the traffic is allowed.\nWhat should you review?","choices":{"A":"Network rules","D":"Web categories","C":"Infrastructure rules","B":"Application rules"},"timestamp":"2023-01-25 12:18:00","question_id":58,"url":"https://www.examtopics.com/discussions/microsoft/view/96818-exam-az-720-topic-5-question-43-discussion/","discussion":[{"upvote_count":"1","content":"Selected Answer: A\nA si correct, Net rules are processed first then App rules.","poster":"cris_exam","timestamp":"1682172240.0","comment_id":"877327"},{"timestamp":"1674878160.0","poster":"MO_506","upvote_count":"3","comment_id":"790247","comments":[{"content":"Thank you for the explanation.","comment_id":"869180","poster":"MarshalLaw","timestamp":"1681370040.0","upvote_count":"1"}],"content":"A - Answer is correct\n\nApplication rules are always processed after Network rules, which are processed after DNAT rules regardless of Rule collection group or Rule collection priority and policy inheritance.\n\nhttps://learn.microsoft.com/en-us/azure/firewall/rule-processing"},{"upvote_count":"1","comments":[],"timestamp":"1674645480.0","comment_id":"787545","content":"Answer should be B. More info on: https://learn.microsoft.com/en-us/azure/firewall/policy-rule-sets","poster":"[Removed]"}],"exam_id":59,"answer_description":"","isMC":true,"answer":"A","unix_timestamp":1674645480,"answer_ET":"A","question_images":[],"answers_community":["A (100%)"],"answer_images":[]},{"id":"PPFMNrzxZDnhCU8O500t","answer_ET":"","discussion":[{"upvote_count":"2","poster":"Anas86","comment_id":"872691","content":"Seems correct: https://learn.microsoft.com/en-us/powershell/module/az.monitor/set-azdiagnosticsetting?view=azps-8.3.0#example-7-enable-all-categories-for-a-subscription","timestamp":"1681735560.0"}],"unix_timestamp":1681735560,"exam_id":59,"url":"https://www.examtopics.com/discussions/microsoft/view/106481-exam-az-720-topic-5-question-44-discussion/","question_images":["https://img.examtopics.com/az-720/image81.png"],"answers_community":[],"topic":"5","question_text":"HOTSPOT -\nA company implements Azure Firewall and deploys an Azure Firewall policy.\nThe policy incudes multiple application and network rules for the company's infrastructure. After deployment, an application is not accessible from on-premises computers.\nYou need to enable diagnostic logging for the following settings:\n• AzureFirewallApplicationRule\n• AzureFirewallNetworkRule\n• AzureFirewallDnsProxy\nHow should you complete the PowerShell cmdlet? To answer, select the appropriate options in the answer area.\nNOTE: Each correct selection is worth one point.\n//IMG//","timestamp":"2023-04-17 14:46:00","question_id":59,"answer_description":"","answer":"","answer_images":["https://img.examtopics.com/az-720/image82.png"],"isMC":false},{"id":"Z31b6QmGcr9p9wFVbR48","topic":"5","answer":"B","answers_community":["B (60%)","D (20%)","C (20%)"],"answer_description":"","isMC":true,"exam_id":59,"answer_images":[],"unix_timestamp":1674645540,"timestamp":"2023-01-25 12:19:00","question_id":60,"question_images":[],"choices":{"A":"Azure Activity","C":"Performance","D":"Firewall","B":"Access"},"answer_ET":"B","url":"https://www.examtopics.com/discussions/microsoft/view/96819-exam-az-720-topic-5-question-46-discussion/","discussion":[{"comment_id":"958468","poster":"terawatt","upvote_count":"1","timestamp":"1689942840.0","content":"Selected Answer: B\nIt seems plausible to start with the Access logs. Access logs in Azure Application Gateway provide detailed information about incoming client requests, including client IP, request type, URI, response status, and transaction latency, which are valuable for debugging application behaviour and issues.\n\nIt's crucial to understand that while the Firewall logs can provide insight into whether the WAF is blocking requests based on its rule set, the Access logs can give a more holistic view of what's happening, including requests that are not being blocked by the WAF but are still failing or causing performance issues.\n\nTherefore, in the context of the question where users are experiencing varied issues (access issues, load failures, and performance discrepancies), starting with Access logs (Option B) can indeed be the most beneficial approach. Once you have more information from the Access logs, you can then investigate other logs like Firewall or Performance logs as necessary."},{"content":"Selected Answer: B\nAccess log is the way to start checking for this type of issue - see my updated comments.","comment_id":"878460","poster":"cris_exam","upvote_count":"2","timestamp":"1682259540.0"},{"comments":[{"upvote_count":"1","comment_id":"878458","timestamp":"1682259480.0","poster":"cris_exam","content":"OK, so this question has been bugging me a lot.\n\nI reached out to an SME (Subject Matter Expert) on AppGW, and concluded that Access logs are actually the best way to go - they hold info about Correlation and Transaction IDs which could further be checked on WAFlogs (aka FW logs), backend server latency and gives you the URIs of the requests received in the AppGW which are great to understand any unusual behavior or perhaps why the requests are failing narrowing to the cause.\n\nAfter checking the Access Logs, based on those findings you can move to the Performance or FW logs - but the Access log is where you would want to start.\n\nHence, I change my answer and say that the given answer is actually correct.\n\nPlease forgive me if I confused you with all my posts here. :)"}],"poster":"cris_exam","timestamp":"1682173200.0","comment_id":"877333","upvote_count":"1","content":"Selected Answer: C\nI would totally go for C.\n\n\"Performance log: You can use this log to view how Application Gateway instances are performing. This log captures performance information for each instance, including total requests served, throughput in bytes, total requests served, failed request count, and healthy and unhealthy backend instance count. A performance log is collected every 60 seconds. The Performance log is available only for the v1 SKU. For the v2 SKU, use Metrics for performance data.\"\n\nhttps://learn.microsoft.com/en-us/azure/application-gateway/application-gateway-diagnostics#diagnostic-logging"},{"upvote_count":"1","comment_id":"869182","content":"Selected Answer: D\nBased on the link that ADrem has provided, I would say the answer is D (Firewall).\n\nThe link says the Firewall log as follows:\n\nFirewall log: You can use this log to view the requests that are logged through either detection or prevention mode of an application gateway that is configured with the web application firewall. Firewall logs are collected every 60 seconds.","poster":"MarshalLaw","timestamp":"1681370280.0","comments":[{"comments":[],"upvote_count":"1","timestamp":"1682249820.0","content":"Usually FW specific issues are either allowed or denied not that a page is not fully loading or parts of it is having issues. \nThis is either a backend issue or an AppGW platform issue (CPU/scale, etc) and in some cases, yes, it could be that depending on what HTTP requests are sent (headers/args, etc), WAF blocks, but, I just find it that the Performance logs would be a better approach to start investigating and then go to WAF logs. :)\n\nJust my thoughts on this...","poster":"cris_exam","comment_id":"878263"}]},{"poster":"Jgjxgjm","comment_id":"827408","upvote_count":"3","timestamp":"1677789180.0","content":"Why is not D correct answer? In the below article, in case of using WAF, it is displayed can use Firewall log."},{"timestamp":"1674645540.0","comment_id":"787546","poster":"[Removed]","content":"Answer should be C. More info on: https://learn.microsoft.com/en-us/azure/application-gateway/application-gateway-diagnostics","upvote_count":"1"}],"question_text":"A company deploys the Azure Application Gateway Web Application Firewall (WAF) to protect their web applications.\nUsers in a remote office location report the following issues:\n• Unable to access part of a web application.\n• Part of the web application is failing to load.\n• Parts of the web application has activities that are not performing as expected.\nYou need to troubleshoot the issue.\nWhich diagnostic log should you review?"}],"exam":{"lastUpdated":"12 Apr 2025","isImplemented":true,"numberOfQuestions":77,"provider":"Microsoft","isMCOnly":false,"isBeta":false,"name":"AZ-720","id":59},"currentPage":12},"__N_SSP":true}