{"pageProps":{"questions":[{"id":"YN32Sx0303Xo4dTdAY33","exam_id":44,"question_images":["https://www.examtopics.com/assets/media/exam-media/04223/0040300001.png","https://www.examtopics.com/assets/media/exam-media/04223/0040400001.png"],"choices":{"D":"Configure peering between VNET1, VNET2, and VNET3","C":"Add service endpoints on VNET2 and VNET3","B":"Add service endpoints on VNET1","A":"Configure a conditional forwarder on VM1"},"answer_ET":"D","answer":"D","url":"https://www.examtopics.com/discussions/microsoft/view/38372-exam-az-104-topic-5-question-37-discussion/","question_text":"You have the Azure virtual machines shown in the following table.\n//IMG//\n\nA DNS service is installed on VM1.\nYou configure the DNS servers settings for each virtual network as shown in the following exhibit.\n//IMG//\n\nYou need to ensure that all the virtual machines can resolve DNS names by using the DNS service on VM1.\nWhat should you do?","discussion":[{"comment_id":"360475","content":"Correct Answer: D\n\nUse Virtual network peering to connect virtual networks to be able to connect to other VMs in different VNETs. Virtual network peering enables you to seamlessly connect networks in Azure Virtual Network. The virtual networks appear as one for connectivity purposes. The traffic between virtual machines uses the Microsoft backbone infrastructure.\n\nB, C: Virtual Network (VNet) service endpoint provides secure and direct connectivity to Azure services over an optimized route over the Azure backbone network. Endpoints allow you to secure your critical Azure service resources to only your virtual networks. Service Endpoints enables private IP addresses in the VNet to reach the endpoint of an Azure service without needing a public IP address on the VNet.","timestamp":"1621340340.0","poster":"mlantonis","upvote_count":"101"},{"comment_id":"251152","content":"Answer is correct. D. \nUse Virtual network peering to connect virtual networks to be able to connect to other VMs in different VNETs","poster":"fedztedz","timestamp":"1608743820.0","upvote_count":"76"},{"upvote_count":"2","timestamp":"1727358480.0","comment_id":"1289505","content":"Selected Answer: D\nD is correct","poster":"[Removed]"},{"content":"D is right","timestamp":"1710314220.0","upvote_count":"1","comment_id":"1172333","poster":"tashakori"},{"upvote_count":"4","comment_id":"1123388","content":"This question was in exam 15/01/24","timestamp":"1705324500.0","poster":"devops_devops"},{"content":"Selected Answer: D\nCorrect Answer: D","timestamp":"1661405400.0","poster":"EmnCours","upvote_count":"2","comment_id":"651652"},{"content":"Selected Answer: D\nD is correct and peering is required to reach the DNS","upvote_count":"1","poster":"Lazylinux","timestamp":"1655772060.0","comment_id":"619532"},{"timestamp":"1654941420.0","upvote_count":"6","poster":"EleChie","comment_id":"614931","content":"Answer is correct D\nBut FYI ___ conditional forwarder is for external DNS not for internal (local) one \" VM1 is Confiured as Internal DNS Server\""},{"content":"This article explains why connecting two networks using either S2S or Peering utilizes custom DNS configured on either the VNET or VNIC. And explains precedence and how forwarding and recursive queries work in Azure networks. Link: https://docs.microsoft.com/en-us/azure/virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances#specify-dns-servers","poster":"valkyrieShadow","upvote_count":"2","timestamp":"1649944320.0","comment_id":"585803"},{"content":"Selected Answer: D\n[D]- it's saying local DNS on VM1, conditional forwarder is external DNS not local so answer is D.","upvote_count":"2","comment_id":"570816","timestamp":"1647651660.0","poster":"ra_aly"},{"upvote_count":"3","poster":"ajayasa","comment_id":"568934","content":"this question was there on 16/03/2022 with same question and passed with 900 percent","timestamp":"1647421680.0"},{"content":"Selected Answer: D\nAnswer is correct. D. \na: A conditional forwarder is a configuration option in a DNS server that lets you define a DNS domain, such as contoso.com, to forward queries to.\nb-c no","comment_id":"542055","upvote_count":"3","poster":"pappkarcsiii","timestamp":"1644184380.0"},{"content":"In exam today! October 16, 2021","poster":"fabylande","upvote_count":"6","comment_id":"463190","timestamp":"1634403240.0"},{"timestamp":"1630249260.0","comment_id":"434687","upvote_count":"3","content":"D does look like the best answer but there's a lot more to do after the peering.\n\nAnswer is correct","poster":"AubinBakana"},{"comment_id":"397077","timestamp":"1625246760.0","upvote_count":"4","content":"Correct answer is A. Configure a conditional forwarder on VM1\nVirtual Peering doesn't help to resolve DNS","poster":"bsdhjbfu3423asdfd","comments":[{"comment_id":"434434","poster":"Mack279","upvote_count":"2","content":"It does help, in what sense that you set the DNS server if you cant reach that virtual server hosting the dns server role in the first place? So Peering is needed before everything else works for VM1 as the dns server.","timestamp":"1630230060.0"}]},{"upvote_count":"1","timestamp":"1624169520.0","content":"Answer is A","comment_id":"385990","poster":"CloudyTech"},{"poster":"ykmoh","upvote_count":"3","timestamp":"1623063900.0","comments":[{"comment_id":"382902","comments":[{"content":"but the devices can't reach the DNS server, so peering between vnets must be first","upvote_count":"5","poster":"d0bermannn","comment_id":"403888","timestamp":"1626004260.0"}],"poster":"ScreamingHand","upvote_count":"4","timestamp":"1623790800.0","content":"You would use a conditional forwarder to forward requests from one DNS server to another DNS server in a another namespace."}],"comment_id":"376713","content":"Correct answer is A. Configure a conditional forwarder on VM1\nVirtual Peering doesn't help to resolve DNS\nA conditional forwarder is a configuration option in a DNS server that lets you define a DNS domain, such\nas contoso.com, to forward queries to. Instead of the local DNS server trying to resolve queries for records\nin that domain, DNS queries are forwarded to the configured DNS for that domain"},{"upvote_count":"1","content":"Answer is correct. D.","timestamp":"1621564860.0","comment_id":"362606","poster":"armandolubaba"},{"comment_id":"319712","poster":"Aniruddha_dravyakar","content":"Enabling peering is must","upvote_count":"4","timestamp":"1616639220.0"},{"poster":"mg","content":"Answer is correct\npeering enables connectivity between Vnets with different subnets","timestamp":"1615733100.0","upvote_count":"5","comment_id":"310596"},{"poster":"Ayman79","upvote_count":"3","content":"Name resolution between VMs in different virtual networks or role instances in different cloud services. Azure DNS private zones or, Customer-managed DNS servers forwarding queries between virtual networks for resolution by Azure (DNS proxy). See Name resolution using your own DNS server. FQDN only\n\nhttps://docs.microsoft.com/en-us/azure/virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances\nShould configure conditional forwarder","timestamp":"1614972780.0","comment_id":"304363"},{"comment_id":"304362","poster":"Ayman79","content":"Name resolution between VMs in different virtual networks or role instances in different cloud services. Azure DNS private zones or, Customer-managed DNS servers forwarding queries between virtual networks for resolution by Azure (DNS proxy). See Name resolution using your own DNS server. FQDN only\n\nhttps://docs.microsoft.com/en-us/azure/virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances","timestamp":"1614972720.0","upvote_count":"3"},{"upvote_count":"6","poster":"ZUMY","content":"D is correct - Peering enables the communication among Vnets with different subnets.","comment_id":"302676","timestamp":"1614781680.0"},{"upvote_count":"4","poster":"Merma","content":"Answer D.\n\"Forward DNS resolution is supported across virtual networks that are linked to the private zone. For cross-virtual network DNS resolution, there's no explicit dependency such that the virtual networks are peered with each other. However, you might want to peer virtual networks for other scenarios (for example, HTTP traffic).\"\nhttps://docs.microsoft.com/en-us/azure/dns/private-dns-overview","comment_id":"299910","timestamp":"1614362520.0"},{"upvote_count":"5","timestamp":"1613662260.0","comment_id":"293514","content":"Answer D. is correct. Without peering there will be no inter-Vnet connectivity.","poster":"toniiv"},{"comments":[{"upvote_count":"4","comment_id":"252874","poster":"moooosi","timestamp":"1609013400.0","content":"Is in Vnet3, so gets peered"}],"poster":"zengzhen","content":"What about VM4?","timestamp":"1608617700.0","upvote_count":"7","comment_id":"249887"},{"upvote_count":"2","poster":"BChani","content":"What's the answer?","comment_id":"244134","timestamp":"1607989200.0","comments":[{"poster":"rcdumps","content":"D, you need peering between VNETs to reach the DNS server","upvote_count":"8","timestamp":"1608225000.0","comment_id":"246695"}]},{"content":"Answer is correct, cause service endpoints are not available for DNS service\n\nhttps://docs.microsoft.com/it-it/azure/virtual-network/virtual-network-service-endpoints-overview","timestamp":"1607890740.0","comment_id":"242956","poster":"lodo","upvote_count":"5"},{"upvote_count":"3","timestamp":"1607400300.0","content":"A conditional forwarder is a configuration option in a DNS server that lets you define a DNS domain, such as contoso.com, to forward queries to. Instead of the local DNS server trying to resolve queries for records in that domain, DNS queries are forwarded to the configured DNS for that domain","comment_id":"237863","poster":"SSTan"},{"comment_id":"237862","content":"Should configure conditional forwarder.","poster":"SSTan","timestamp":"1607400240.0","comments":[{"timestamp":"1615998780.0","upvote_count":"4","content":"What good is a forwarder when the devices can't even reach the DNS server..","poster":"Da_G","comment_id":"313444"}],"upvote_count":"4"},{"timestamp":"1607123640.0","content":"Answer is correct","upvote_count":"10","poster":"boink","comment_id":"235293"}],"question_id":471,"isMC":true,"answers_community":["D (100%)"],"topic":"5","unix_timestamp":1606871700,"answer_description":"","timestamp":"2020-12-02 02:15:00","answer_images":[]},{"id":"sUepnDYo8iY491lwiIIX","answer_ET":"","exam_id":44,"answer_images":["https://www.examtopics.com/assets/media/exam-media/04223/0040900002.png"],"isMC":false,"answers_community":[],"question_text":"HOTSPOT -\nYou have an Azure subscription that contains the Azure virtual machines shown in the following table.\n//IMG//\n\nYou add inbound security rules to a network security group (NSG) named NSG1 as shown in the following table.\n//IMG//\n\nYou run Azure Network Watcher as shown in the following exhibit.\n//IMG//\n\nYou run Network Watcher again as shown in the following exhibit.\n//IMG//\n\nFor each of the following statements, select Yes if the statement is true. Otherwise, select No.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","timestamp":"2020-12-06 13:35:00","question_images":["https://www.examtopics.com/assets/media/exam-media/04223/0040500001.png","https://www.examtopics.com/assets/media/exam-media/04223/0040500002.png","https://www.examtopics.com/assets/media/exam-media/04223/0040600001.jpg","https://www.examtopics.com/assets/media/exam-media/04223/0040800001.jpg","https://www.examtopics.com/assets/media/exam-media/04223/0040900001.png"],"answer_description":"Box 1: No -\nIt limits traffic to VM2, but not VM1 traffic.\n\nBox 2: Yes -\nYes, the destination is VM2.\n\nBox 3: No -\nReference:\nhttps://docs.microsoft.com/en-us/azure/virtual-network/network-security-group-how-it-works","answer":"","discussion":[{"content":"Correct Answer:\n\nBox 1: No\nNSG1 limits the traffic that is flowing into 172.16.2.0/24 (Subnet2), which host VM2.\n\nBox 2: Yes\nSince Network Watcher is showing that traffic from VM1 to VM2 is not reaching on the TCP port, that means that NSG1 is applied to VM2. We can understand for sure, that it is not applied to VM1.\n\nBox 3: Yes\nIn Network Watcher, you can see that the next hop is the destination VM2. This means that they are part of the same virtual network.","timestamp":"1621341120.0","upvote_count":"234","poster":"mlantonis","comments":[{"upvote_count":"35","poster":"Dunkelheit","comments":[{"comment_id":"817464","upvote_count":"14","timestamp":"1677040380.0","poster":"deepeshukla","content":"Agree with this. It should be NNY"}],"content":"Box 1: Agree\nBox 2: No - The TCP rule is an inbound rule which states that traffic is allowed to VM2 if it comes from VM1. It has higher priority than the TCP - Deny rule. So if the rule would apply to VM2, the traffic via port 8080 should succeed, IF there is something on VM2 using Port 8080.","comment_id":"707725","timestamp":"1667121120.0"},{"timestamp":"1642050180.0","poster":"matt_dns","comment_id":"522640","content":"I agree box 2 is Yes but not because of anything network watcher is showing, network watcher contradicts the NSG. Rather I read this as another cruel question that simply means the NSG would affect routing for VM2 were it applied, it clearing hasn’t been applied here (unless there’s a subnet NSG we know nothing about which we have to assume there isn’t).","upvote_count":"7"},{"poster":"_punky_","comment_id":"520767","content":"Ans: NNY. Box 2: yes the NSG1 should be applied to VM2 to allow correct communication as it is in exhibit2. But there is problem the VM1 cannot connect to VM2. On last image we can see that VM1 is reachable from VM2. \nTherefore the conclusion of this is NSG1 hasn't been applied yet.","upvote_count":"22","comments":[{"comment_id":"1306947","upvote_count":"1","content":"I'm with _punky_. \n\nNSG1 allows TCP traffic from 172.16.1.0/24 to 172.16.2.0/24 for all ports. Says nothing about ICMP. If NSG1 was applied to VM2, then the 2nd watcher would have failed too.","timestamp":"1730723820.0","poster":"jodtzz"},{"comment_id":"547530","content":"I Agree his opinion. NGS1 only allows TCP traffic but its ICMP commnication was succeed : it means VM2 does not applies to NGS1","upvote_count":"9","timestamp":"1644899700.0","poster":"NalChi"},{"content":"YYY\n\nNSG is limiting/blocking VM1 traffic to VM2\nVM1 traffic cannot reach VM2 so NSG inbound rules applied on VM2\nVMs in vnet can communicate by default i.e. ICMP working","upvote_count":"3","poster":"GenjamBhai","comment_id":"618527","timestamp":"1655615160.0"}],"timestamp":"1641807840.0"},{"upvote_count":"7","timestamp":"1642929660.0","poster":"Penguinyo","content":"Box 2 - what if the 8080 port on VM2 was not open on any service ?","comments":[{"comments":[{"timestamp":"1667725320.0","content":"No, rule 101 only applies to tcp traffic, it would not block icmp traffic","poster":"Guest","comment_id":"712214","upvote_count":"8"},{"upvote_count":"1","timestamp":"1703692920.0","comments":[{"poster":"ValB","content":"Sorry, correction: actually ICMP is allowed by default within a VNET.","comment_id":"1106975","timestamp":"1703693280.0","upvote_count":"2"}],"comment_id":"1106973","content":"Rule 101 is for TCP, not ICMP. TCP and ICMP are different protocols. So rule 101 does not apply to ICMP. However, the question from my side is the following: does NSG block ICMP when there is nothing about ICMP in the shown table? Should we understand that when these rules were added, there is still there the default rule at the end (with 65k priority) that blocks everything? Because if there is, then it should have blocked the ICMP, which would mean that this NSG is not applied to VM2.","poster":"ValB"},{"poster":"hebbo777","upvote_count":"3","content":"both rules are for TCP \nAns: N,N,Y\n1. rule is for inbound the traffic is outgoing from VM1 - so doesn't matter and it was succeeded to go \n2. if NSG1 applied to VM2; then rule 100 should applied and allow traffic from VM1-VM2 for TCP 808\n3. Yes, since both in same VNET they can communicate by default and next hop for ICMP showing VM2","comment_id":"1054419","timestamp":"1698311820.0"}],"comment_id":"596729","poster":"dave160222","content":"We can't say for sure if VM2 is listening on tcp port 8080. But if you ignore rule 100, and pretend you did not see it, then you can still answer the question. VM1 can ping VM2 and rule 101 would block ICMP from vm1 to vm2. So the NSG is not applied (and it does not matter what TCP ports VM2 is listening on)","upvote_count":"2","timestamp":"1651662900.0"}],"comment_id":"530410"},{"content":"In another words, the case study as follow:\n1- VM1 part of subnet 172.16.1.0/24 (VM1 IP is unknown)\n2- VM2 part of subnet 172.16.2.0/24 (VM2 IP is unknown)\n3- NSG1 shows --INBOUND RULES-- for subnet (172.16.2.0/24)\n4- Network Watcher confirm that both VMs in the same VNET but misleading us by the port 8080 which normally used for webserver connection over http not over TCP! and there is no Deny rule for ICMP connection.\nBased on that the correct answer is:\nNo : it's limit the inbound traffic for VM2 on subnet 172.16.2.0/24\nYes \nYes","timestamp":"1708472340.0","upvote_count":"1","comment_id":"1155080","poster":"AAlmani"}],"comment_id":"360490"},{"content":"N - Y - Y","comments":[{"timestamp":"1622752560.0","poster":"JayBee65","comment_id":"373885","upvote_count":"2","content":"Please explain why you say this."},{"timestamp":"1630322460.0","poster":"signalincode","comments":[{"content":"2nd question asks if NSG is applied to VM2. The NSG allows all TCP traffic from VM1 subnet to VM2 subnet, yet TCP connectivity test on port 8080 is showing unreachable from VM1. The image also shows ICMP traffic is reaching and returning from VM2 to VM1. Therefore, the NSG is not applied to VM2.","comment_id":"435401","upvote_count":"11","poster":"signalincode","timestamp":"1630322700.0","comments":[{"content":"icmp is not the tcp/udp","poster":"Ali1982","timestamp":"1644571200.0","comment_id":"545203","upvote_count":"5"}]}],"content":"This answer is wrong.","comment_id":"435396","upvote_count":"4"}],"poster":"Andersonalm","comment_id":"237616","upvote_count":"43","timestamp":"1607371380.0"},{"timestamp":"1727358840.0","comment_id":"1289506","upvote_count":"3","poster":"[Removed]","content":"WRONG\n\nNo\nYes\nYes\n\n..................."},{"timestamp":"1721996400.0","comment_id":"1255709","upvote_count":"1","poster":"OpOmOp","content":"Technically we don't know the network topology. It can be two VNETs with /23 CIDR peered to each other. \nThat's why 3. is N (maybe Y, but we don't know actually)"},{"content":"6/13/24 on exam","comment_id":"1230244","poster":"Ni22","timestamp":"1718342280.0","upvote_count":"3"},{"content":"N Y Y is correct","comment_id":"1224754","poster":"23169fd","timestamp":"1717595100.0","upvote_count":"1"},{"comment_id":"1218670","content":"Final Answer : NYY","poster":"varinder82","upvote_count":"1","timestamp":"1716686100.0"},{"poster":"FatFatSam","timestamp":"1710249660.0","upvote_count":"2","comment_id":"1171718","content":"The tricky bit of this question is that it used the connection troubleshoot tool to test connection from VM1 to VM2 on 8080 port, but it didn't say that there is an application running on VM2 that will listen on port 8080. I have tested in a lab. If you do not have an application running on port 8080 in VM2, the connection will always be refused. \n\nBox 1: N. As a lot of people already answered there is nothing limiting traffic flow to 172.16.1.0/24\n\nBox 2: No. Whether you have rules 100 and 101 added to the NSG of VM2 NIC or not. It is not the main point. The main point is you need an application in VM2 to response to request from point 80\n\nBox 3 Yes"},{"comment_id":"1025346","content":"My guess \nN - not applying to VM1\nY - Applying to VM2\nY - Internet Control Message Protocol (ICMP) is a protocol that devices \"within a network\" use to communicate problems with data transmission.","timestamp":"1696489620.0","poster":"emanresu","upvote_count":"3"},{"poster":"conip","comment_id":"1009520","content":"3rd option - NO\nits vnet peering so next-hop type in Diagnostic tests is = \"VirtualNetworkPerring\" but Hopy by hop details shows next hop for VM1 actual IP address of VM2 likewise its directly connected network \n\ntested in LAB","upvote_count":"3","timestamp":"1694919540.0"},{"timestamp":"1692186000.0","poster":"GoldenDisciple2","comment_id":"982488","content":"1. No - Inbound rules apply to it's destination which is VM2 (172.16.2.0/24). NSG1 is not actively limiting VM1's traffic only what's is allowed to the destination which is VM2.\n2. Yes - Same explanation.\n3. Yes - Network Watcher configuration shows a next hop of 172.16.2.4 which is the IP of VM2 so they must be in the same VNet.","upvote_count":"2"},{"poster":"Josete1106","content":"N Y Y is correct!","comment_id":"958203","timestamp":"1689926520.0","upvote_count":"3"},{"comment_id":"875840","content":"ok so based on this comment section I will be purely guessing on this question...","timestamp":"1682013120.0","upvote_count":"26","poster":"garmatey","comments":[{"content":"When in doubt, follow mlantonis.","comment_id":"1213145","poster":"Forkbeard","upvote_count":"1","timestamp":"1716009300.0"},{"timestamp":"1692185400.0","poster":"GoldenDisciple2","comment_id":"982477","upvote_count":"1","content":"LMAO hilarious."}]},{"timestamp":"1681037340.0","poster":"ericZX","content":"my thinking:\nNSG1 is working on subnet level.\nBox1: No, NSG1 is not limiting Subnet1 or VM1's traffic\nBox2: Yes, VM2's IP is in 172.16.2.0/24 (Subnet2). Regarding the unreachable TCP test, I am assuming there is another Nic level NSG on VM2 (blocking TCP traffic)","comment_id":"865432","upvote_count":"2"},{"comment_id":"857831","content":"N N Y\n\nAs per first Network Watcher test, TCP connection from VM1 to VM2 did not succeed. NSG1 specifically allows VM1 subnet to connect to VM2 subnet on TCP.\nAs per second Network Watcher test is working but NSG1 blocks ICMP\nSo NSG1 was NOT applied to VM2 or its subnet. \n\n1) NSG1 if applied to VM1 or its subnet will limit VM1 traffic. It will allow TCP traffic only to VM2 subnet, rest is denied.(ICMP also)\n\n2) NSG1 was not applied to VM2 as per second Network Watcher test, ICMP connection from VM1 to VM2 did succeed.\n\n3) Next hop is VM2 IP which implies they are part of the same vnet.","comments":[{"content":"Well explained","upvote_count":"1","timestamp":"1697189880.0","comment_id":"1042525","poster":"Hillah"},{"upvote_count":"2","poster":"quocdunginfo2","timestamp":"1688082900.0","comments":[{"content":"As far as we know, there's a chance that vm2 is not set up to listen on port 8080, that's a non well-known port anyway. Icmp is a different story. So 2 can be Y.","poster":"Mnguyen0503","comment_id":"997712","timestamp":"1693753320.0","upvote_count":"2"}],"content":"I agreed that \"Box 2 should be No\" because ICMP from VM1 to VM2 succeeded","comment_id":"938642"},{"timestamp":"1691157240.0","comment_id":"972221","poster":"TinyRunner","upvote_count":"1","content":"Your assumption is taken based on an outbound rule when the problem states thats a inbound rule."}],"upvote_count":"9","timestamp":"1680347400.0","poster":"Goofer"},{"comment_id":"844555","timestamp":"1679289480.0","upvote_count":"2","poster":"liza1234","content":"box1: Yes\nNSG1 limits the traffic to only TCP that's why network watcher status is UNREACHABLE.\nICMP is not a TCP traffic. It is also not UDP.\nThus, protocol should be set to ANY.\nANY basically means allowing ALL traffic.\nbox2: Yes\nbox3: Yes"},{"upvote_count":"1","poster":"liza1234","content":"correct answer: Y-Y-Y\n\nbox1: Yes\nNSG1 limits the traffic to only TCP that's why network watcher status is UNREACHABLE.\nICMP is not a TCP traffic. It is also not UDP.\nThus, protocol should be set to ANY. \nANY basically means allowing ALL traffic. \n\nbox2: Yes\n\nbox3: Yes","comment_id":"844534","timestamp":"1679286840.0"},{"content":"No - NSG1 only limits traffic to subnet 2 (which vm2 is on)\nNo - If it did apply the connection would succeed as the rule allows the subnet of VM1 to reach the subnet of VM2. \nNo- net watcher confirms this\nNo","upvote_count":"1","comment_id":"812886","timestamp":"1676719020.0","poster":"msingh20"},{"poster":"GBAU","upvote_count":"4","content":"Here is my take:\n\nBox 1: No\nNeither of the Inbound rules in the NSG limit traffic to 172.16.1.0/24 subnet where VM1 lives.\n\nBox 2: No*\nActually not enough information to know either way. Both tests are from Subnet 172.16.1.0/24 to 172.16.2.0/24. Nothing in the NSG1 blocks traffic between the two subnets (given the Allow has a higher priority to the Deny and they are both scoped for the same Ports/Protocol), which is also the same result as if they were in the same VNET with no NSG applied to anything anyway.\n\n*I would say No though because the rule is defined to the Subnet, not the IP of the VM, which implies it's designed to apply at the Subnet level. It is grasping at straws but that's all we have. There is no other way to answer this question.\n\nBox 3: Yes\nI don't think anyone disagrees on this.","timestamp":"1676084400.0","comment_id":"804934"},{"upvote_count":"2","comment_id":"794486","timestamp":"1675188240.0","poster":"JDWaters","content":"Box 1: interesting wording. note that it doesn’t say NGS1 limits traffic “To” VM1 or “From” VM1. It just says “NGS1 limits VM1 Traffic”. I gotta go with YES on this one, but I question whether the folks that came up with this question were more interested in playing word games, than testing our knowledge of Azure.\n\nBox 2: Yes\n\nBox 3: Yes, I gotta agree with mlantonis. In Network Watcher you can see that the next hop from VM1 is VM2, so……."},{"upvote_count":"9","comment_id":"706115","content":"N\nNSG is inbound and destination is VM2/subnet2. So doesnt apply to vm1 but does it limit the traffic? No coz the nsg does not apply to anywhere. \nN. VM1 should reach VM2 if the nsg applies. \nY. Next hop reachable is the proof","poster":"klexams","timestamp":"1666931820.0"},{"content":"Y Y Y \n1) NSG1 limits traffic from VM1 to VM2 subnet, so it applies to VM1. \n2) NSG1 limits traffic VM1 to VM2 subnet, so it applies to VM2. \n3) successful ping implies they are part of the same vnet, different subnets.","timestamp":"1664787360.0","upvote_count":"4","comment_id":"685329","poster":"bdumois"},{"content":"Y N Y\n\nAs per first Network Watcher test, TCP connection from VM1 to VM2 did not succeed. NSG1 specifically allows VM1 subnet to connect to VM2 subnet on TCP.\nSo NSG1 was NOT applied to VM2 or its subnet.\n\n1) NSG1 if applied to VM1 or its subnet will limit VM1 traffic. It will allow TCP traffic only to VM2 subnet, rest is denied.\n\n2) NSG1 was not applied to VM2 as per first Network Watcher test, TCP connection from VM1 to VM2 did not succeed. It should have if NSG1 was applied to VM2.\n\n3) Next hop is VM2 IP which implies they are part of the same vnet.","poster":"pkkalra","upvote_count":"6","comment_id":"664945","timestamp":"1662759780.0"},{"timestamp":"1662431520.0","comment_id":"660720","content":"Correct Answer:\n\nBox 1: No\nNSG1 limits the traffic that is flowing into 172.16.2.0/24 (Subnet2), which host VM2.\n\nBox 2: Yes\nSince Network Watcher is showing that traffic from VM1 to VM2 is not reaching on the TCP port, that means that NSG1 is applied to VM2. We can understand for sure, that it is not applied to VM1.\n\nBox 3: Yes\nIn Network Watcher, you can see that the next hop is the destination VM2. This means that they are part of the same virtual network.","poster":"EmnCours","upvote_count":"1"},{"upvote_count":"2","content":"Worst question. You have to implicitly guess where the NSG is attached. This makes me automatically think which other NSG/Rules could implicitly be in this scenario. Unnecessary confusion. NYY makes under Micro$oft logic sense though.","timestamp":"1660706400.0","comment_id":"647879","poster":"robin1337"},{"poster":"klexams","comment_id":"644051","timestamp":"1659951900.0","upvote_count":"3","content":"I'm with pingpongset YNY."},{"upvote_count":"7","content":"I think the correct answers are below:\n\nBox 1 - Yes\nIf the NSG applies to VM2, the first test via TCP should pass (because the source is from vm1's subnet, and the destination is from vm2's subnet), but it failed. \n\nThus, the NSG applies to VM1. Because when the source is from vm1's subnet, and the destination is from vm2's subnet, the setting is strange resulting in failure.\n\nICMP is reachable because of the default AllowVnetInBound.\n\nBox 2 - No\nSee the reasoning above.\n\nBox 3 - Yes\nBoth are in the same VNET. Otherwise, the ping would have failed.","comment_id":"632352","poster":"pingpongset","timestamp":"1658002740.0"},{"timestamp":"1657899960.0","upvote_count":"2","content":"The reason the TCP 8080 Network Watcher test is \"Unreachable\", is likely VM2 does NOT have an IIS webserver configured and therefore is unreachable. \n\nBut it will respond if the NSG rules allow, when using ICMP protocol which is like a Ping test.","comment_id":"631843","poster":"NotMeAnyWay"},{"poster":"nkhan19","timestamp":"1657816920.0","content":"NNY\n\n1. N - The traffic is allowed\n2. N - TCP is not working although allowed but ICMP is which means NSG is not associated\n3. Y - Same VNet, direct, different subnet.","upvote_count":"8","comment_id":"631464"},{"comments":[{"poster":"klexams","comment_id":"644050","content":"if box 2 yes then why non-reachable? the rule says allowed. I'm with pingpongset YNY.","upvote_count":"1","timestamp":"1659951840.0"}],"content":"I agree on NYY\nBox1: NO because default rule within VNET for BOTH inbound and Outbound is allow ALL traffic and no limitation on any network protocol hence traffic..here snippet \n65000 VirtualNetwork 0-65535 VirtualNetwork 0-65535 Any Allow\n\nBox2: YES because pay attention NOT just the network watcher config but MOST importantly to the Inbound RULE where shows the Source is VM1 and NOT VM2 hence the rule MUST be applied on the opposite side which is VM2, It makes no sense to have the INBOUND rule applied to VM1 where the source of the rule is VM1 it is ineffective and offers NO value. Secondly Network Watcher shows VM1 as being the source hence safe to assume you are testing against VM2 inbould rule and evident from result non-reachable\n\nBox3: Obvious no brainer..Next HOP is VM2 and NOT any GATEWAY/Router and hence both are in same VNET and different subnets\n\nMore info for default rules \nhttps://docs.microsoft.com/en-us/azure/virtual-network/network-security-groups-overview","comment_id":"621362","timestamp":"1656025980.0","upvote_count":"6","poster":"Lazylinux"},{"content":"Box1: No, From VM1 perspective its outbound traffic to 172.16.2.0/27 (these are inbound security rules)\n\nBox2: No, Based on Security rule 100 the TCP 8080 traffic should be allowed but it isn't. There for NSG1 is not attached.\n\nBox3: Yes, Communication is present, this can only be if the subnets are in the same vnet. If not, additional config is required such as peering.","timestamp":"1655710860.0","poster":"TheBL","comment_id":"619092","upvote_count":"6"},{"content":"I am confused with your explanation, but I am sure mine is correct.\n\nBox1: No (obvious)\nBox2: No (if NSG1 applies to VM2, then the TCP traffic should not fail from VM1 to VM2 as picture 1 shows)\nBox3: Yes (VM1 and VM2 cannot connect to each other with or without NSG1 if they are in different Vnet, as picture 2 shows)","poster":"karrigen","timestamp":"1651211880.0","upvote_count":"7","comment_id":"594256"},{"poster":"Redimido","timestamp":"1643373900.0","upvote_count":"4","content":"IMHO it's NO,NO,NO! \nThere's no evidence that the NSG1 is applied to VM2.\nThe NSG should allow the traffic between those virtual networks, and not only allow IMCP echo requests. This is the only difference in those queries in Network Watcher.","comment_id":"534691"},{"content":"Box 3 --> Yes\nsupport the answer, look at the View a connection monitor section in this link https://docs.microsoft.com/en-us/azure/network-watcher/connection-monitor","upvote_count":"1","timestamp":"1642752480.0","comment_id":"529008","poster":"peymani"},{"upvote_count":"2","poster":"stl75","comment_id":"526876","content":"Box 1 - Yes\nOn the bottom you can see you can ping from VM1 to VM2, but not VM2 to VM1. If blockage is on inbound, that's mean ping is stop from VM2 to VM1. So NSG is apply to VM1 inbound.\nBox 2 - No\nIf NSG is apply to VM1, then it's not apply to VM2\nBox 3 - Yes\nIt's not on same subnet/network, but it's on same VNET, as all subnets on same VNET are connected. If they would be on separate VNET, then you would need peering between them.","timestamp":"1642528080.0"},{"upvote_count":"1","comment_id":"511428","poster":"hanyahmed","content":"NO\nYES\nYES","timestamp":"1640714520.0"},{"upvote_count":"6","timestamp":"1638864120.0","comment_id":"495760","content":"NYY is the correct answer:\n1. The NSG1 is not limiting the traffic from VM1\n2. If NSG1 was applied to VM2, the TCP probe should have not failed. \n3. As the ping (ICMP) probe is successful that means both subnets are within the same VNET.","poster":"Panadol"},{"upvote_count":"5","poster":"Panadol","content":"NNY is the correct answer","comment_id":"495756","timestamp":"1638863700.0"},{"upvote_count":"1","comment_id":"459065","content":"Subnets in same virtual network are routed by default. With default NSG's plus these two rules in the NSG, the communication between them are allow. So:\nBox1: No\nBox2: Yes or Not, if it is Yes, the traffic is allow, if it is not the traffic is allow. The problem in Netwatcher hasn't nothing to do with it.\nBox3: Yes, but we don't really because they could be peered.","poster":"ejml","timestamp":"1633676700.0"},{"content":"Correction, I made a typo. Sorry: \n\nI previously said the answer is correct, but I was wrong. The answer is No, Yes, Yes.\n\nThe first 2 options are evident.\nOption3:\nVM2 seems to be working as a virtual appliance for VM1 as it is the next hop, as per network watcher. I wouldn't put my next hop in a different network. Also, the address spaces do indicate that they are closely related. If you create another network in the subscription it will not be in the 172.16.0.0/16.\n\nAlthough they are indifferent subnets, they happen to be in the same VNet. Also, the address spaces indicate they are in the same VNet.","timestamp":"1630308240.0","upvote_count":"2","poster":"AubinBakana","comment_id":"435214"},{"poster":"AubinBakana","content":"I previously said the answer is correct, but I was wrong. The answer is No, Yes, No. \n\nThe first 2 options are evident. \nOption3:\nVM2 seems to be working as a virtual appliance for VM1 as it is the next hop, as per network watcher. I wouldn't put my next hop in a different network. Also, the address spaces do indicate that they are closely related. If you create another network in the subscription it will not be in the 172.16.0.0/16. \n\nAlthough they are indifferent subnets, they happen to be in the same VNet. Also, the address spaces indicate they are in the same VNet.","comments":[{"content":"(Correction, I entered the wrong answers in my previous comment. Sorry:) \n\nI previously said the answer is correct, but I was wrong. The answer is No, Yes, *Yes.\n\nThe first 2 options are evident.\nOption3:\nVM2 seems to be working as a virtual appliance for VM1 as it is the next hop, as per network watcher. I wouldn't put my next hop in a different network. Also, the address spaces do indicate that they are closely related. If you create another network in the subscription it will not be in the 172.16.0.0/16.\n\nAlthough they are indifferent subnets, they happen to be in the same VNet. Also, the address spaces indicate they are in the same VNet.","comment_id":"435213","poster":"AubinBakana","timestamp":"1630308180.0","upvote_count":"1"}],"timestamp":"1630308000.0","comment_id":"435209","upvote_count":"1"},{"content":"The third box is No\nIt's because upon the first loading of Network Watcher, the connectivity between VM1 and VM2 was unreachable, this is because the NSG was not yet fully applied - it also indicates that without the NSG fully applied, VM1 cannot reach VM2 by default, hence they are not in the same VNet; Many of you ignored why the question provided two screenshots - they indicate a default flow and a flow after the NSG is applied","comments":[{"content":"It is possible that the port in the destination VM is not available.","upvote_count":"1","poster":"novac1111","comment_id":"468628","timestamp":"1635341100.0"}],"comment_id":"435120","timestamp":"1630301940.0","upvote_count":"1","poster":"Laax"},{"poster":"AubinBakana","upvote_count":"1","content":"Answer is correct.","comment_id":"434699","timestamp":"1630250520.0"},{"upvote_count":"1","content":"N-Y-N. Given answer is correct\nBecause in the Network Watcher we don't see next hop for VM2, if VM1 and VM2 are in the same VNET you will see next hop for VM2","comment_id":"427814","poster":"hoangton","timestamp":"1629423300.0"},{"upvote_count":"10","content":"I think the answer is N Y Y\n1) NSG1 limits traffic to 172.16.2.0/24 which is never going to apply to VM1\n2) I think that it's unreachable is totally not related to the NSG (because in the NSG it allows TCP 8080). The only explanation is that on VM2 port 8080 is not listening. And the fact that in (3) ICMP to VM2 is reachable further proves that - VM1 and VM2 are directly connectable and both machines are up.\n3) They should be in the same VNET therefore VM1 can directly connect to VM2.","timestamp":"1629240660.0","poster":"KelvinLam1","comment_id":"426539"},{"poster":"MrJR","comment_id":"417515","upvote_count":"4","timestamp":"1627661160.0","content":"I think that the second statement of the question is wrong as they do not give enough information to determine if it is YES or NO. It could be NYY or NNY.\n1. YES - NSG1 does not limit VM1 traffic as NSG1 allows traffic from VM1 subnet to VM2 subnet, if VM1 cannot reach VM2 there must be another NSG blocking this connection as we know for the information provided that they are in the same vnet.\n2. Could be both YES or NO. For the information provided we know that there is a NSG that is blocking the connection between VM1 and VM2. So whether NSG1 is applied to VM2 or not the result is the same, TCP connections are blocked by another NSG and ICMP connections are allowed by both. I don´t get why microsoft made this question. It is imposible to know.\n3. YES - They are on different subnets on the same vnet as there is only one hop between them."},{"timestamp":"1625398740.0","content":"This is how I see it:\nBox1 -> Regardless of which VM the NSG is applied, it should only limit the VM in the receiving end, which is VM2, since the rules are inbound. \nBox 2 -> Rule 100 says allow, so TCP packets sent from VM1 should reach VM2, if NSG1 is applied to VM2.\nBox 3 -> Since VM1's next hot is the VM2 subnet's IP, it probably means they are in the same Vnet, otherwise, the next hop would be the IP of another Vnet with a different subnet mask.\nNO\nNO\nYES","upvote_count":"29","comment_id":"398274","poster":"[Removed]","comments":[{"content":"Agreed NNY","comment_id":"473264","upvote_count":"1","timestamp":"1636159560.0","poster":"walkwolf3"},{"comment_id":"404482","poster":"RoastChicken","upvote_count":"1","timestamp":"1626077220.0","content":"I agree with this."},{"upvote_count":"1","timestamp":"1640892780.0","poster":"Pradh","comments":[{"poster":"ExG2","upvote_count":"3","comment_id":"545062","timestamp":"1644556440.0","content":"What about Priority rule 100 which allows traffic from VM1 subnet to VM2 subnet over TCP whereas Network Watcher is showing that it cant be reachable on TCP port 8080"}],"comment_id":"513675","content":"How can you guys be so Dumb to say NO to second question ?\n\nOpen you eyes wide and check the question ..see what question says.\n===================================\nYou have an Azure subscription that contains the Azure virtual machines shown in the following table.\nYou add inbound security rules to a network security group (NSG) named NSG1 as shown in the following table.\n===================================\n\nIn that Table dont you see Rule 101 apply to VM2 subnet IP ?? Dont you ??\n\nhow the F can the answer be NO ? NSG1 does apply to VM2."},{"upvote_count":"4","timestamp":"1626141180.0","content":"Agree\nBox 3: Actually, since the icmp traffic is reaching VM2, that means they are in the same VNET","comment_id":"405056","poster":"imartinez"},{"upvote_count":"1","timestamp":"1637409900.0","comment_id":"482492","poster":"danito","content":"I agree too"},{"upvote_count":"7","comment_id":"421343","timestamp":"1628362620.0","poster":"hercu","content":"Totally agree. Correct answers are:\nBox1: NO\nBox2: NO\nBox3: YES\nNSG is not applied to VM2. As per 100 priority rule, all TCP ports from 172.16.1.0/24 are allowed. If so, then the first output from Network Watcher would show that the destination is reachable, but it says the opposite. Probably some other NSG with completely seperate set of rules is applied to VM2.\nNOTE: Ping uses ICMP which is neither TCP or UDP. Thus, it's irrelevant in our discussion against the security rules table. ICMP is denied by default security rules."}]},{"upvote_count":"2","poster":"clouddba","comments":[{"comment_id":"513678","timestamp":"1640892840.0","upvote_count":"1","poster":"Pradh","content":"How can you guys be so Dumb to say NO to second question ?\n\nOpen you eyes wide and check the question ..see what question says.\n===================================\nYou have an Azure subscription that contains the Azure virtual machines shown in the following table.\nYou add inbound security rules to a network security group (NSG) named NSG1 as shown in the following table.\n===================================\n\nIn that Table dont you see Rule 101 apply to VM2 subnet IP ?? Dont you ??\n\nhow the F can the answer be NO ? NSG1 does apply to VM2."}],"comment_id":"391047","content":"Answer:\n- No\n- Yes\n- Yes","timestamp":"1624697100.0"},{"upvote_count":"2","comment_id":"389919","timestamp":"1624570620.0","comments":[{"content":"Nonsense, it could just mean port 8080 is not listening on VM2","comment_id":"396573","timestamp":"1625202240.0","upvote_count":"2","poster":"JayBee65"},{"comment_id":"389923","content":"However, 8080/TCP is unreachable due to NSG1 101 which is valid for VM2, so the above is irrelevant to the main topic.","comments":[{"content":"Again, nonsense, the 100 rule specifically allows VM1 to VM2 on port 8080 along with all othe ports","comment_id":"396574","upvote_count":"2","poster":"JayBee65","timestamp":"1625202360.0"},{"timestamp":"1624587840.0","content":"Connections between VMs deployed on the same virtual network will be allowed by default.\nICMP passes, so VM1 and VM2 have the same VNET.","poster":"tireal","comment_id":"390074","upvote_count":"1"}],"poster":"tireal","timestamp":"1624571460.0","upvote_count":"1"}],"poster":"tireal","content":"Connections between VMs deployed on the same virtual network will be allowed by default.\nThe fact that 8080/TCP from VM1 to VM2 is not possible even though the application of NSG to VM1 is irrelevant means that VM1 and VM2 are not in the same virtual network."},{"timestamp":"1624539180.0","poster":"heshman13","content":"doesn't priority 100 trump 101 and allow trafic to tcp port 8080 if the NSG is applied to VM2?","comment_id":"389605","upvote_count":"4","comments":[]},{"comment_id":"377658","content":"If VM1 is not limited by NSG1 and in the same Vnet as VM2, why can't VM2 be reached by VM1 on TCP port 8080?","comments":[],"timestamp":"1623167280.0","upvote_count":"1","poster":"Mich132"},{"comment_id":"376720","upvote_count":"3","content":"NSG1 limits VM1 traffic - No\n>it don't limit instead NSG1 rule 100 allow VM1 to VM2\n\nNSG1 applies to VM2 - Yes\n>apparently NSG1 apply Inbound rule to VM2\n\n\nVM1 and VM2 connect to the same virtual network - Yes\nIt is possible that if Virtual Network is assigned with\naddress space 172.16.0.0/16. Therefore both VM1 and VM2 \ncould be fall within same network","poster":"ykmoh","timestamp":"1623065220.0"},{"upvote_count":"1","poster":"Mich132","timestamp":"1622902140.0","comment_id":"375221","content":"I read all the comments, but don't get it. First one is clear. NO. Second one is not clear. Rule 101 doesn't apply to traffic from VM1 to VM2, since rule 100 has the same rule but Allow for VM1. So 101 only applies to traffic that doesn't come from VM1. So why is traffic from VM1 blocked to VM2? (the TCP 8080 connection). This should be allowed to pass due to rule 100. Last one is Yes, because ICMP is not mentioned in the NSG and wouldn't be allowed to pass if they weren't in the same Vnet. So the second one I don't get...","comments":[{"comment_id":"513682","upvote_count":"1","content":"How can you guys be so Dumb to say NO to second question ?\n\nOpen you eyes wide and check the question ..see what question says.\n===================================\nYou have an Azure subscription that contains the Azure virtual machines shown in the following table.\nYou add inbound security rules to a network security group (NSG) named NSG1 as shown in the following table.\n===================================\n\nIn that Table dont you see Rule 101 apply to VM2 subnet IP ?? Dont you ??\n\nhow the F can the answer be NO ? NSG1 does apply to VM2.","timestamp":"1640892960.0","poster":"Pradh"},{"content":"The test's result is Unreachable. So maybe the 8080 port of the VM2 is closed (no service running in this port). If the NSG was blocking the traffic it should be : blocked (not unreachable).","timestamp":"1624798200.0","comment_id":"392054","upvote_count":"7","poster":"[Removed]"}]},{"poster":"chaewon","timestamp":"1622465940.0","upvote_count":"1","content":"Can anyone explain why TCP connections are blocked in the network watcher? I checked the IP flow/NSG Diagnostic on Network Watcher in Azure Portal, it shows that 172.16.1.0 > 172.16.2.4 (VM2) TCP connection is allowed. And 172.16.3.0 > 172.16.2.4 (VM2) is blocked.","comment_id":"371041"},{"upvote_count":"4","poster":"forrestwanderer","content":"I am not able to understand the 2nd Yes. How does icmp reachable and tcp unreachable suggest that NSG is applied to VM2?","comment_id":"370247","timestamp":"1622381340.0","comments":[{"timestamp":"1622752320.0","upvote_count":"1","content":"Because rule 101 is a TCP rule, and IMCP does not use TCP, so is not subject to that rule","poster":"JayBee65","comment_id":"373882"}]},{"comment_id":"369259","timestamp":"1622276400.0","upvote_count":"4","poster":"[Removed]","content":"So if there is nothing listening on tcp 8080, wouldn't the network watcher results still be the same even if we take NSG out of the picture?"},{"poster":"Bursuc03","content":"no/no/yes:\n- the NSG allows TCP traffic from VM1 to VM2 -=> first no\n- the NSG does not apply to VM2, because the ICMP traffic is denied. The traffic exhibit shows VM2 is reachable. => second no\n- the next hop is VM2, therefore the two machines belong to two subnets of the same vnet => third yes","comment_id":"362931","comments":[{"content":"The ICMP traffic is allowed, the TCP traffic is denied :)","upvote_count":"1","timestamp":"1622752440.0","poster":"JayBee65","comment_id":"373884"},{"comment_id":"369246","content":"Correction: second answer is yes, because ICMP (ping) traffic reaching the VM2 subnet is allowed.","poster":"Bursuc03","upvote_count":"1","timestamp":"1622274660.0"}],"timestamp":"1621594800.0","upvote_count":"1"},{"comment_id":"353277","poster":"cowboy","upvote_count":"2","timestamp":"1620593880.0","content":"Vm1’s udp connection failed to reach to VM2 by nsg, so VM1 traffic do be limited by nsg. So, first answer should be Y, I think."},{"content":"NO, YES, YES - 100%. \n\nNO :- The Network Security Group limits the traffic that is flowing into 172.16.2.0/24 subnet , which has the dmeovm2 machine. It does not limit the traffic flowing into the subnet hosting the demovm1 machine.\n\nYES: The Network Security Group is restricting traffic into demovm2. And since Network Watcher is showing that traffic is not reaching on the TCP port for demovm2, that means the security group is applied to demovm2.\n\nYES: In Network Watcher , you can see that the next hop is the destination virtual machine. This means that they are part of the same virtual network","upvote_count":"13","poster":"ashishg2105","timestamp":"1620118980.0","comment_id":"349276"},{"content":"N / Y / Y\nI think its yes in the last one because the Next hope is directed to VM.","timestamp":"1619368260.0","upvote_count":"3","poster":"Crhistian","comment_id":"342707"},{"timestamp":"1619181660.0","upvote_count":"2","content":"No\nNo\nYes","poster":"Bharadhi","comment_id":"341583"},{"comment_id":"341329","timestamp":"1619137440.0","content":"This is very tricky question.\nAnyone can tell me why NSG1 have to applied to VM2. \nWith me, it could be Y/N still going to work same way.\n1. if NSG1 applied on VM2:\nTCP8080 fail. Many people said the TCP 8080 is not listening on port 8080 --> correct\n2. if NSG1 not applied on VM2 or VM2 have no NSG applied at all ? \nStill same behavior if there is no NSG blocking and VM2 is not listening on port8080","poster":"VANSI","upvote_count":"3"},{"comment_id":"336590","comments":[{"content":"\"If NSG1 applies to VM2, The ICMP packet will be unreachable because 101.\" - No. the 101 blocks TCP only.","timestamp":"1618647600.0","poster":"kafkins","comment_id":"337426","upvote_count":"3"}],"poster":"creator","upvote_count":"2","timestamp":"1618520400.0","content":"N: Because of Inbound Policy, The NSG doesn't limits VM1.\nN: If NSG1 applies to VM2, The ICMP packet will be unreachable because 101.\nY: ICMP(ping) was reachable. So, VM1 & VM2 are same VNet."},{"timestamp":"1617899820.0","comment_id":"331364","comments":[{"timestamp":"1622753220.0","poster":"JayBee65","content":"The NSG allows traffic from the 172.16.1.0 network to the 19.16.2.0 network, but blocks all other networks from connecting to the 19.16.2.0 network. So, it does not limited VM1 traffic, since this traffic is covered in the allow rule. So this means that something else (another NSG is causing the unreachable message).\nThe destination address for the NSG rule is the network (16.2.0/24) where VM2 is located, so the rule applies (is relevant ) to VM2, (whether or not it has actually been applied to VM2).\nVM1 and VM2 connect the the same network I think due to the next hop address from VM1 showing VM2, rather than another network address)","upvote_count":"2","comment_id":"373888","comments":[{"content":"some typos in addresses, but in general you are right","upvote_count":"1","comment_id":"403222","poster":"d0bermannn","timestamp":"1625907000.0"}]},{"upvote_count":"1","comment_id":"331649","content":"because for tcp you limit only to specific ip","timestamp":"1617932340.0","comments":[{"upvote_count":"2","timestamp":"1622456400.0","comment_id":"370918","poster":"chaewon","content":"Could you explain it in more detail? I don't understand.."}],"poster":"kimalto452"}],"poster":"superdoggg","upvote_count":"2","content":"Can someone explain why the TCP traffic been blocked? thought the priority 100 allows for TCP any port"},{"upvote_count":"3","comment_id":"316964","timestamp":"1616401560.0","content":"No, Yes, Yes","poster":"ms70743"},{"content":"N\nY\nY - 'Connected to Subnet' - means that this is in single VNET with diff. subnets (RTT is 0 from the screenshot so it did it in a flash so just imagine) \n\n''The routing between 2 subnets in the same virtual network is active and allowed by default''","poster":"allray15","comment_id":"312946","upvote_count":"3","timestamp":"1615957680.0"},{"timestamp":"1615839240.0","comment_id":"311738","content":"As M1 can reach VM2 via icmp, so these two VMs shoud connect to the same VNet. Even NSG applys to VM2, it should allow all TCP traffic coming from VM1. But Networking Watch shows up unreachable, it could due to the firewall setting inside VM2.\nSo correct answer should be: N Y Y","comments":[{"poster":"JayBee65","content":"\"As M1 can reach VM2 via icmp, so these two VMs shoud connect to the same VNet.\" This is a wrong assumption. IICMP is routable, so these networks could be separated by many routers, and be in different VNets.","upvote_count":"1","timestamp":"1622753340.0","comment_id":"373890"}],"upvote_count":"2","poster":"trifid"},{"content":"NO YES YES","upvote_count":"3","poster":"mg","comment_id":"310597","timestamp":"1615733520.0"},{"upvote_count":"7","comment_id":"304845","timestamp":"1615066980.0","content":"1. N \n2. N- as ICMP is working and if NSG1 be applied ICMP won't work , there is only TCP allowed\n3.Y - as ping is working and there is nothing more about peering or any other solution that allows that traffic","poster":"kingduck"},{"poster":"mahwish","comments":[{"comment_id":"391198","content":"My thoughts exactly.","timestamp":"1624708560.0","poster":"ronny20be","upvote_count":"1"}],"timestamp":"1614835980.0","upvote_count":"4","content":"Network security groups can be implemented on subnet or VM. Answer for 3 should be yes as NSG can limit traffic between subnets.","comment_id":"303118"},{"comment_id":"302682","poster":"ZUMY","timestamp":"1614782820.0","upvote_count":"2","content":"Answer N-Y-Y\nN- NSG limits vm1 traffic to Vm2 but not traffic in to VM1\nY\nY - Buy default vm in same subnets can communicate to each other"},{"comments":[{"upvote_count":"5","poster":"toniiv","comments":[{"upvote_count":"6","timestamp":"1613663640.0","poster":"toniiv","content":"So right answer is: N-Y-Y","comment_id":"293530"}],"comment_id":"293529","content":"I correct myself. On the traffic flow you see the next hop for VM1 is 172.16.2.4, wich is GW in the 172.16.2.0/24 subnet. If subnets were in different Vnet we would see here the peering GW IP instead.\nhttps://argonsys.com/microsoft-cloud/library/create-a-transit-vnet-using-vnet-peering/\n\"To confirm a virtual network peering, you can check effective routes for a network interface in any subnet in a virtual network. If a virtual network peering exists, all subnets within the virtual network have routes with next hop type VNet peering\"","timestamp":"1613663640.0"}],"comment_id":"293522","content":"With the information provided solutions could be both N-Y-N or N-Y-Y. If there are two Vnets, each subnet on each Vnet and Vnet peer between them there will be no difference","poster":"toniiv","timestamp":"1613663100.0","upvote_count":"1"},{"poster":"James889","timestamp":"1613311680.0","comments":[{"content":"NM, it should be N - Y - Y as the ping was working from VM1 to VM2.","poster":"James889","timestamp":"1613311860.0","upvote_count":"2","comment_id":"290314"}],"upvote_count":"2","comment_id":"290310","content":"I think it should be N - N - Y\nfor 2, if NSG1 is applied to VM2, the traffic would be blocked, thus 2 is No."},{"content":"This is a tricky question.\n\n1. I think the question here goes towards VM2 - and it does not limit the traffic, since the NSG priority is 100 - and the deny ANY ANY is at priority 101.\n\n2. Since there is a DENY TCP ANY ANY towards VM2's subnet. \n\n3. If VM1 can reach VM2 on ICMP - they must be connected, right? Otherwise the traffic wouldnt work. Reason for TCP_8080 is not answering, could be due to the fact that the server does not listening on TCP_8080.\n\nI would go for ;\nNO\nYES\nYES\n\nAm I missing anything here?","upvote_count":"5","poster":"mikl","timestamp":"1612898940.0","comment_id":"287078"},{"content":"Came in exam 1st Feb 2021. NYY","upvote_count":"5","comment_id":"281117","timestamp":"1612166580.0","poster":"ckyap"},{"comment_id":"276816","timestamp":"1611655260.0","poster":"heroofmightandmagic","upvote_count":"16","content":"After theorizing for a while, I built a lab to test the scenario. Regardless of where NSG1 was applied (or not applied at all), the result for Connection Troubleshoot was the same.\n1. Regardless of where NSG1 is applied (or not applied at all), the rule allowing TCP traffic from VM1's subnet has higher priority that deny all TCP, so it would not limit (block) traffic from VM1\n2. Since there's no mention of VMs running webserver on 8080, the Connection Troubleshoot would always show Unreachable. If we assume there was a webserver on VM2 port 8080, NSG1 would still allow the traffic, so where it is applied would not make a difference. We can only assume it's applied to VM2 (or its subnet), as it's the only logical place for it based on inbound rules.\n3. I tested the scenario with single VNET and with two paired VNETs, and the only difference in Connection Troubleshoot results was the RTT time. For peered VNETs it was a few ms, while for single VNET it was 1ms. In provided screenshot RTT is 0ms (which I find hard to believe), which is closer to single VNET scenario\nSo if I had to make a call, it would be No, Yes, Yes"},{"timestamp":"1611300060.0","poster":"waterzhong","comment_id":"273529","content":"N - Y - Y\nyes, if the subnets not in the same vnet, they can not reach each others even there is a nsg ..","upvote_count":"3"},{"content":"N-Y-Y is correct","upvote_count":"2","timestamp":"1611246600.0","comment_id":"273035","poster":"Vgopi"},{"upvote_count":"3","comment_id":"266065","poster":"saidov1981","comments":[{"timestamp":"1614034860.0","upvote_count":"1","poster":"I","comment_id":"297004","content":"Agree, you are absolutely right!"}],"timestamp":"1610519040.0","content":"Answer is correct. N-Y-N. Last one is N since both VMs belongs to the same VNET, with different subnets. However, the point whether both CAN CONNECT to the same VNET, which shows that VM1 is unable to connect to port 8080 on VM2 due to NSG rules."},{"content":"In exam 12/01/2021","timestamp":"1610469960.0","comment_id":"265682","upvote_count":"1","poster":"Flex1981"},{"upvote_count":"2","comment_id":"263013","timestamp":"1610171220.0","content":"I think they can be either in the same VNET or in different VNETs. Either way, it is possible to make it reachable so statement #3 is not a must. Therefore \"No\".","poster":"Hansen"},{"timestamp":"1609756500.0","poster":"certprep2021","upvote_count":"5","content":"Correct: NO-YES-NO\n1.NSG1 limits traffic to VM2\n2. VM2 is the common destination for both access control rules, which indicates NSG1 is applied to VM2.\n3. For VM1 and VM2, network IDs are different. VM1 is in the 172.16.1.0 network whereas VM2 is in 172.16.2.0 which means they are not in the same virtual network.","comments":[{"comment_id":"297110","content":"same virtual network but different subnet","upvote_count":"3","timestamp":"1614048060.0","poster":"nizammusa"}],"comment_id":"259291"},{"upvote_count":"3","content":"Total agreed with No Yes Yes","timestamp":"1609168140.0","comment_id":"254129","poster":"vandergun"},{"content":"Agreed - N, Y, Y (badly worded question)\nBut - the NSG DOES in fact limit VM1 traffic, because VM1 is unable to use UDP protocol to VM2 (only TCP)... The NSG belongs to VM2 subnet or NIC, but obviously does limit traffic from VM1 to only TCP protocol on Any port.","timestamp":"1609017120.0","poster":"diligent176","upvote_count":"2","comments":[{"comment_id":"252912","content":"Sorry - ignore above comment - the default rule 65000 covers all protocols, there is no effective limiting for VM1 traffic inbound to this NSG.","upvote_count":"2","poster":"diligent176","timestamp":"1609017420.0"}],"comment_id":"252908"},{"content":"Answer should be No Yes Yes. \nVM1 and VM2 uses private IPs to communicate, accordingly it should be in the same VNET","comment_id":"251170","timestamp":"1608745320.0","upvote_count":"8","poster":"fedztedz"},{"upvote_count":"2","content":"it should be N-Y-Y since different vnets can not reach if VPN or peering is not applied","timestamp":"1608529320.0","comment_id":"249079","poster":"waterzhong"},{"comments":[{"poster":"ms_micro","comment_id":"244818","timestamp":"1608055080.0","content":"Where have you found that question is about subnets?\nIt clearly states \"VM1 and VM2 connect to the same VIRTUAL NETWORK\". It is true that \"By default all VMs in the same vnet can communicate with each other even if they are in different subnets.\", but if you put NSG on subnet/VM, you can prevent traffic.\n\nDestination port 8080 is unreachable because there's nothing listening on that port, obviously.\n\nAnswer: NO, YES, YES","comments":[{"comment_id":"250569","poster":"sshiv","content":"for VM1 and VM2 ICMP protocall is enabled. Please check screenshots.","timestamp":"1608687420.0","upvote_count":"2"}],"upvote_count":"16"},{"timestamp":"1614034380.0","content":"Correct your head! Look at your state here, which means the last answer should be YES.","comment_id":"296997","upvote_count":"2","poster":"I"}],"upvote_count":"6","content":"Correct: No, Yes, No\nThe question is about subnets not vnets. By default all VMs in the same vnet can communicate with each other even if they are in different subnets.","poster":"joeboy","timestamp":"1607947980.0","comment_id":"243540"},{"comment_id":"240055","poster":"Justin0020","upvote_count":"3","content":"No, Yes, Yes is correct","timestamp":"1607599980.0"},{"timestamp":"1607408880.0","content":"it should be N-Y-Y since different vnets can not reach if VPN or peering is not applied","comment_id":"237956","poster":"dandirindan","upvote_count":"14","comments":[{"upvote_count":"1","poster":"ScreamingHand","timestamp":"1623838140.0","content":"Just because to VM's can communicate, does not mean that they are on the same VNet.","comment_id":"383277"}]}],"url":"https://www.examtopics.com/discussions/microsoft/view/38995-exam-az-104-topic-5-question-38-discussion/","unix_timestamp":1607258100,"question_id":472,"topic":"5"},{"id":"gF7Ja0ASrfJG08oyXDWe","answer_description":"","topic":"5","unix_timestamp":1601730000,"discussion":[{"content":"Correct Answer: B\n\nYou can use a site-to-site VPN to connect your on-premises network to an Azure virtual network. Users on your on-premises network connect by using the RDP or\nSSH protocol over the site-to-site VPN connection. You have to deny direct RDP or SSH access over the internet through an NSG.\n\n\nReference:\n\nhttps://docs.microsoft.com/en-us/azure/security/fundamentals/network-best-practices","poster":"mlantonis","timestamp":"1621340700.0","comment_id":"360479","upvote_count":"95"},{"upvote_count":"35","comment_id":"194415","timestamp":"1601999640.0","poster":"jmartinezm","content":"Definitely B. A makes no sense"},{"poster":"[Removed]","comment_id":"1289509","timestamp":"1727359020.0","upvote_count":"1","content":"Selected Answer: B\nB is correct"},{"timestamp":"1710927720.0","comment_id":"1178117","content":"B is right","poster":"tashakori","upvote_count":"1"},{"timestamp":"1695578280.0","upvote_count":"1","poster":"MorningCoffee","content":"None of these answers make any sense. The subnet is a private IP range. You would have to associate the NSG with each NIC for the rules to affect the public IP address assigned to each NIC on each VM. Also, you'd probably use a Firewall if you weren't retarded.","comment_id":"1016070"},{"content":"Cleared the exam on 04/12/2023. This question came up. Make sure to read the comments in the discussion. It's really helpful.","upvote_count":"5","poster":"FlowerChoc1","timestamp":"1681421340.0","comment_id":"869780"},{"poster":"djgodzilla","timestamp":"1679887980.0","upvote_count":"2","content":"Selected Answer: B\nexp: removing Public IPs will prevent the applications access on port 443 to users on the internet which is a requirement. Deny rule is a more appropriate solution","comment_id":"851655"},{"content":"Selected Answer: B\nYes, it's B. Obviously. \n\nBut these MS answers re: NSGs are seriously leading newer folks into dangerous territory: you DO NOT create Deny rules for specific ports. Instead, DENY everything - and only open what you NEED. \n\nAnything else is a disaster waiting to happen - especially in this scenario with machines directly facing the internet... \n\nTL/DR: answer B for the test but do the right thing in a real environment","comment_id":"798254","timestamp":"1675535460.0","comments":[{"timestamp":"1714054320.0","upvote_count":"2","comment_id":"1202050","content":"You got me thinking and I checked into this. The default rules in the NSG are:\n\n-Allow everything inbound from vNETS.\n-Allow everything inbound from Load Balancers.\n-Deny Everything inbound from the internet.\n\nI have to agree with you, you should be opening what you want to be accessible, not the other way around. Even if the traffic comes form internal networks.","poster":"mkhlszf"}],"upvote_count":"8","poster":"DeBoer"},{"upvote_count":"2","comment_id":"776116","content":"B - but I don't think it's that straightforward.\nI might be wrong , but I see it more like : adding 2 rules\n1. high prio allow RDP from gateway CIDR\n2. (above prio -1 )deny RDP from internet.","poster":"djgodzilla","timestamp":"1673749920.0"},{"comment_id":"651658","timestamp":"1661406480.0","upvote_count":"1","content":"Selected Answer: B\nCorrect Answer: B","poster":"EmnCours"},{"upvote_count":"9","poster":"Jey117","timestamp":"1656471960.0","content":"Selected Answer: B\n- You wake up. \n- VNet1 contains a subnet named Subnet1. \n- Subnet1 contains three Azure virtual machines. \n- Each virtual machine has a public IP address.\n- You drink some coffee. \n- The virtual machines host several applications that are accessible over port 443 to users on the Internet.\n- You make a sandwidch. \n- Your on-premises network has a site-to-site VPN connection to VNet1.\n- You discover that the virtual machines can be accessed by using the Remote Desktop Protocol (RDP) from the Internet and from the on-premises network.\n- You travel to the moon for vacations. \n- You need to prevent RDP access to the virtual machines from the Internet, unless the RDP connection is established from the on-premises network. \n- When you are back you receive a medall. \n- You figure out how to overcome speed of light. \n- The solution must ensure that all the applications can still be accessed by the Internet users.","comment_id":"624390"},{"upvote_count":"3","poster":"Lazylinux","timestamp":"1655777280.0","content":"Selected Answer: B\nI Luv Honey Because it is B","comment_id":"619564"},{"comment_id":"617489","upvote_count":"3","timestamp":"1655432880.0","content":"Selected Answer: B\nCorrect answer is: Deny direct RDP or SSH access through an NSG.\n\nYou do need public IPs for the VMs mainly because internet users need to be able to reach the VM via TCP 443. If LB is in place/mentioned, the VM won't necessarily need public IP.","poster":"cloudera"},{"content":"Definitely B. Why would anyone think of A?","poster":"patoalcorta","comment_id":"384378","upvote_count":"4","timestamp":"1623954240.0"},{"comment_id":"317408","timestamp":"1616436240.0","upvote_count":"2","poster":"raulgar","content":"B is correct, configure a nsg rule.C can't be because vm need access through internet"},{"poster":"tux_alket","upvote_count":"3","content":"I would say B is the correct Answer","timestamp":"1615972860.0","comment_id":"313082"},{"upvote_count":"2","poster":"allray15","timestamp":"1615958520.0","comment_id":"312949","content":"Tested - B correct and only place where you can allow source which can connect to RDP."},{"content":"Answer is correct.\nCreate a deny rule in NSG connected to subnet1","comment_id":"310599","poster":"mg","timestamp":"1615733700.0","upvote_count":"2"},{"content":"B is correct.\nadd a port 3389 blocking rule to NSG in Vnet","poster":"ZUMY","comment_id":"302708","upvote_count":"3","timestamp":"1614786120.0"},{"content":"Answer B. is correct","comment_id":"293531","poster":"toniiv","timestamp":"1613663820.0","upvote_count":"2"},{"poster":"CloudyTexas","timestamp":"1613331900.0","upvote_count":"2","content":"B is the answer. others choices make no sense","comment_id":"290478"},{"timestamp":"1612900440.0","upvote_count":"2","content":"Answer is B - Create a deny rule in a network security group (NSG) that is linked to Subnet1","comment_id":"287103","poster":"mikl"},{"comment_id":"280646","timestamp":"1612108740.0","upvote_count":"2","poster":"macross","content":"B is correct. Change the NSG - to allow only on-prem. Good explanation and document. \nScenario: Enable users on your on-premises network to connect to VMs on your Azure virtual network.\nOption: A site-to-site VPN connects an entire network to another network over the internet. You can use a site-to-site VPN to connect your on-premises network to an Azure virtual network. Users on your on-premises network connect by using the RDP or SSH protocol over the site-to-site VPN connection. You don't have to allow direct RDP or SSH access over the internet."},{"poster":"Vgopi","comment_id":"273040","upvote_count":"6","content":"Answer is correct - B\nThe easiest way is to create a Deny rule in the Network Security Group. Create a Deny rule for port 3389 and ensure the source is mentioned as the Internet.","timestamp":"1611246840.0"},{"poster":"fedztedz","timestamp":"1608745500.0","content":"Answer is correct. B","comment_id":"251173","upvote_count":"8"},{"comment_id":"239488","upvote_count":"4","content":"B is the Answer","timestamp":"1607542860.0","poster":"0ptimus"},{"content":"Answer- B","comment_id":"235294","poster":"boink","timestamp":"1607123820.0","upvote_count":"6"},{"upvote_count":"5","timestamp":"1603304880.0","comment_id":"203860","poster":"Haam","content":"answer B"},{"upvote_count":"5","comment_id":"203838","poster":"Caphispania","content":"B 100%","timestamp":"1603301520.0"},{"timestamp":"1602064680.0","content":"Why not C. \"Remove the public IP addresses from the virtual machines\".","poster":"xofowi5140","upvote_count":"5","comments":[{"content":"why?????? did you really read the exhaustion????? vms host apps without public ip how do you think internet users can connect to the apps?","timestamp":"1603025520.0","poster":"network_nerd","comment_id":"202056","upvote_count":"5"},{"comment_id":"199355","timestamp":"1602612240.0","upvote_count":"4","content":"Because then there would be no access to the Internet applications which are needed via public IP on port 443","poster":"Sacs"},{"comment_id":"196230","upvote_count":"11","poster":"slim147","content":"The requirement says: \"solution must ensure that all the applications can still be accessed by the Internet users\" so removing the public IP would deny access to other resources in the VM","timestamp":"1602175380.0"},{"comment_id":"297006","upvote_count":"3","timestamp":"1614035280.0","poster":"I","content":"Have you checked this requirement : The solution must ensure that all the applications can still be accessed by the Internet users. You cannot 'Remove the public IP address' that means all the APPs cannot be accessed from internet."},{"content":"The VM's require the public IP's as clients require access to them over port 443, removing the public IP's would break this connection for external clients. Applying an NSG to the subnet is the simplest and most logical answer.","upvote_count":"6","timestamp":"1612499580.0","poster":"TheOne1","comment_id":"283953"},{"comment_id":"556731","upvote_count":"1","timestamp":"1645888560.0","content":"I think C is correct, as by default NSG denies RDP access over internet","poster":"Allfreen"}],"comment_id":"195088"},{"comment_id":"192270","comments":[{"poster":"Dady9","timestamp":"1601810820.0","comment_id":"192866","content":"why A?\nits B","upvote_count":"15"},{"upvote_count":"9","comment_id":"206905","poster":"NebulousNeo","content":"at least written something... without a reason for your wrong doubt don't comment pls","timestamp":"1603788720.0"}],"upvote_count":"2","poster":"LeonSKanady","timestamp":"1601730000.0","content":"Correct A"}],"isMC":true,"exam_id":44,"answer_ET":"B","choices":{"A":"Modify the address space of the local network gateway","D":"Modify the address space of Subnet1","C":"Remove the public IP addresses from the virtual machines","B":"Create a deny rule in a network security group (NSG) that is linked to Subnet1"},"answer_images":[],"answers_community":["B (100%)"],"timestamp":"2020-10-03 15:00:00","question_text":"You have the Azure virtual network named VNet1 that contains a subnet named Subnet1. Subnet1 contains three Azure virtual machines. Each virtual machine has a public IP address.\nThe virtual machines host several applications that are accessible over port 443 to users on the Internet.\nYour on-premises network has a site-to-site VPN connection to VNet1.\nYou discover that the virtual machines can be accessed by using the Remote Desktop Protocol (RDP) from the Internet and from the on-premises network.\nYou need to prevent RDP access to the virtual machines from the Internet, unless the RDP connection is established from the on-premises network. The solution must ensure that all the applications can still be accessed by the Internet users.\nWhat should you do?","question_images":[],"question_id":473,"answer":"B","url":"https://www.examtopics.com/discussions/microsoft/view/33509-exam-az-104-topic-5-question-39-discussion/"},{"id":"7W32bYfEYWMkHsL0pzOd","answer":"A","topic":"5","timestamp":"2021-06-30 19:06:00","url":"https://www.examtopics.com/discussions/microsoft/view/56448-exam-az-104-topic-5-question-4-discussion/","isMC":true,"unix_timestamp":1625072760,"question_images":["https://www.examtopics.com/assets/media/exam-media/04223/0035200001.png","https://www.examtopics.com/assets/media/exam-media/04223/0035200002.png"],"question_id":474,"answer_ET":"A","answer_description":"","answers_community":["A (76%)","B (23%)","1%"],"exam_id":44,"question_text":"You have an Azure subscription that contains the resources shown in the following table.\n//IMG//\n\nLB1 is configured as shown in the following table.\n//IMG//\n\nYou plan to create new inbound NAT rules that meet the following requirements:\n✑ Provide Remote Desktop access to VM1 from the internet by using port 3389.\n✑ Provide Remote Desktop access to VM2 from the internet by using port 3389.\nWhat should you create on LB1 before you can create the new inbound NAT rules?","choices":{"A":"a frontend IP address","C":"a health probe","B":"a load balancing rule","D":"a backend pool"},"answer_images":[],"discussion":[{"timestamp":"1628232000.0","comment_id":"420636","comments":[{"upvote_count":"7","timestamp":"1662300060.0","content":"That's right, you need to know the specific IP address of the VM, otherwise, you will randomly access any VM in the LB. It is A","comment_id":"659323","poster":"lebowski"}],"content":"I think the answer is correct. Key is port 3389 from the internet for both VMs. If we want to connect to two different machines on the same port we need to have two different frontend IPs for the port forwarding.","upvote_count":"77","poster":"Mercator"},{"comments":[{"poster":"KhaledMaster","timestamp":"1636548540.0","comment_id":"475402","upvote_count":"3","content":"I dont agree, to add \"Inbound NAT rule\" inside the LB, you just need the rontend IP address and port.\nthe answer is right.\nhttps://docs.microsoft.com/en-us/azure/load-balancer/components#inbound-nat-rules"},{"content":"The more I think about it, it makes more sense. You need additional load balancing rule for 3389, PLEASE prove me wrong :)","poster":"Vlako","timestamp":"1625413620.0","comments":[{"content":"You aren't load balancing 3389. If you create a load balancing rule for 3389 you'd end up with RDP connections alternating between the two. The question is specifically asking about NAT rules, you need two here: one per VM on different ports. Read: https://docs.microsoft.com/en-us/azure/load-balancer/tutorial-load-balancer-port-forwarding-portal\n\nI labbed this. Load balancer requires a public IP to be assigned with deployment. NAT rules only require a backend pool (you map them to a specific NIC on a specific VM in the pool). The question already has everything required to create one, so either Microsoft has a provably wrong question or this was garbled in translation. \n\nPlease lab things like this, azure pass only requires an email and gives you 30 days and 100 bucks of credit, you can lab stuff left and right and not use 10% of it.","upvote_count":"13","comments":[{"poster":"a3432e2","content":"I stand corrected in my earlier comment selecting A as the answer. The correct answer is \"D\" a backend pool.\n\"In this section, you create a multiple instance inbound NAT rule to the backend pool of the load balancer.\" This is for multiple VMs.\nhttps://learn.microsoft.com/en-us/azure/load-balancer/tutorial-nat-rule-multi-instance-portal","timestamp":"1715460060.0","comment_id":"1209960","upvote_count":"1"},{"poster":"AubinBakana","comment_id":"449736","content":"Hi! Just found out about Azure Pass from you here. Where do you get an Azure pass promo code?","upvote_count":"1","timestamp":"1632342060.0"}],"timestamp":"1625945940.0","poster":"rawrkadia","comment_id":"403503"},{"poster":"d0bermannn","content":"you are right, and rule we need is NAT rule:\nhttps://docs.microsoft.com/en-us/powershell/module/az.network/add-azloadbalancerinboundnatruleconfig?view=azps-6.2.0","timestamp":"1625899620.0","upvote_count":"1","comment_id":"403170"}],"comment_id":"398487","upvote_count":"2"},{"content":"Correct. This page makes it clear. We need to create 2 inbound NAT port-forwarding rule in load balancer using the frontend IP and backend VM. Answer is B.\nhttps://docs.microsoft.com/en-us/azure/load-balancer/tutorial-load-balancer-port-forwarding-portal","comment_id":"424570","upvote_count":"3","comments":[{"timestamp":"1629839400.0","poster":"J4U","comment_id":"431012","upvote_count":"2","content":"I recall this update. I go with the front end IP address as all other requirements given in this link. LB rule is already in place as given in the article. May be MS is referring the public IP address SKU from basic to standard. I go with the frontend IP address."}],"timestamp":"1628903040.0","poster":"J4U"},{"content":"That is correct. You can follow this link to setup load balancing rule for both VMs. For example, you can use port 33891 for 3389 on VM1 and 33892 for 3389 on VM2. So to RDS to VM1, you can type in public IP of load balancer with port 33891 and it will NAT you to 3389 of VM1.\nlink: https://docs.microsoft.com/en-us/azure/load-balancer/tutorial-load-balancer-port-forwarding-portal","poster":"helpaws","timestamp":"1640509500.0","comment_id":"509510","upvote_count":"2"},{"content":"Wouldn't you need a health probe first before defining a load balancing rule?","poster":"fazedenk","upvote_count":"3","timestamp":"1625511420.0","comment_id":"399387","comments":[{"comment_id":"401948","content":"You can try this out yourself; when creating a new load balancing rule; you have to add a health probe inside the rule. Unless you are going to re-use the port 80 health probe which doesnt make sense.","upvote_count":"3","timestamp":"1625750160.0","poster":"fazedenk"}]},{"content":"it does not make sense they have listed the Fronted IP address as being \"public\" so it is there why we need it again.","timestamp":"1663578600.0","poster":"awssecuritynewbie","upvote_count":"1","comment_id":"673108"},{"upvote_count":"4","poster":"joergsi","comment_id":"513500","content":"Yes, the LB has one public IP assigned, but this is used for the Web-Server (Port 80 is in use), now we are adding a new service on port 3389 which needs a dedicated external IP.","timestamp":"1640879640.0"},{"timestamp":"1667532120.0","comments":[{"comment_id":"710892","poster":"kmaneith","timestamp":"1667533440.0","upvote_count":"1","content":"https://learn.microsoft.com/en-us/azure/load-balancer/manage-inbound-nat-rules?tabs=inbound-nat-rule-portal"},{"content":"Load balancer has a feature called 'Floating IP' that enables to reuse the backend ports with same Loadbalancer's FronendIP.\nSo you are wrong.","timestamp":"1669405500.0","poster":"mung","comment_id":"727055","upvote_count":"2"}],"poster":"kmaneith","upvote_count":"7","comment_id":"710886","content":"impossible\nIP1:3389 -> vm1:3389\nIP1:3389 -> vm2:3389 ???\n\npossible\nIP1:3389 -> vm1:3389\nIP2:3389 -> vm2:3389\nor \nIP1:3389 -> vm1:3389\nIP1:3388 -> vm2:3389"}],"upvote_count":"46","poster":"Vlako","timestamp":"1625295000.0","content":"This does not make sense. On existing LB, you can create NAT rule right away. The frontend IP address is already there. \nImho maybe B is right, you need to set the load balancing rule for port 3389.","comment_id":"397381"},{"comment_id":"1399030","poster":"GarrethM","content":"Selected Answer: A\nA. a frontend IP address:\nInbound NAT rules require a frontend IP address, which is the public IP address used to access the VMs from the internet.\nLB1 already has a LoadBalancerFrontEnd, but you need to ensure it's configured for the correct IP address and protocol.\nB. a load balancing rule:\nLoad balancing rules distribute traffic across a backend pool. Inbound NAT rules forward traffic to a specific VM.\nC. a health probe:\nHealth probes monitor the health of VMs in a backend pool. Inbound NAT rules don't use health probes.\nD. a backend pool:\nBackend pools are used with load balancing rules, not inbound NAT rules.\nConclusion:\n\nBefore creating inbound NAT rules, you need to ensure that LB1 has a frontend IP address configured.\n\nTherefore, the correct answer is A. a frontend IP address.","timestamp":"1742068800.0","upvote_count":"1"},{"content":"Selected Answer: A\nHey there, i just tested this one in the lab, and as i understand, we are just talking about NATING not load balancing a connection.\nSo in reality i deployed a NAT rule without any of the suggested answer. i definied the public ip already used by the loadbalancer, and defined the front port range from 5000. VM1 is now connected with public_ip:5000 and vm2 with public_ip:5001.\n\nSo from the scope of security to separate HTTP Service from the RDP Service, the answer A.","poster":"lolovitch","upvote_count":"1","timestamp":"1741164600.0","comment_id":"1365322"},{"timestamp":"1740996900.0","upvote_count":"1","comment_id":"1364355","content":"Selected Answer: B\nYou need to have Load Balancing rule to listen on port apart from 80(As 80 is already in use) and add inbound NAT rule based on the front-end port to do the redirection to the VM u prefers on port 3389.","poster":"faheemhamza"},{"poster":"cosmicT73","upvote_count":"1","comment_id":"1348108","content":"Selected Answer: A\nTo provide Remote Desktop access to VM1 and VM2 from the internet using port 3389, you need to create **inbound NAT rules** on the load balancer (LB1). However, before you can create these NAT rules, you need to ensure that there is a frontend IP address configured on the load balancer that can be used for the NAT rules.","timestamp":"1738090560.0"},{"comment_id":"1337299","timestamp":"1736186820.0","poster":"dcaa904","content":"Selected Answer: B\nKey steps:\nCreate the load balancer:\nAccess your cloud provider's console (e.g., Azure portal) and navigate to the load balancer creation section. \nSelect \"Public\" as the load balancer type to allow external access. \nDefine a frontend IP configuration with a public IP address. \nCreate backend pool:\nAdd your virtual machines that will handle HTTPS and RDP traffic to a backend pool. \nConfigure inbound rules:\nHTTPS rule:\nCreate a new load balancing rule. \nSet the protocol to TCP. \nSet the frontend port to 443. \nSet the backend port to 443. \nAssociate the backend pool. \nRDP rule:\nCreate another load balancing rule. \nSet the frontend port to 3389. \nSet the backend port to 3389.","upvote_count":"1"},{"comment_id":"1321311","content":"Selected Answer: A\nA front end IP address is needed for inbound NAT rules","poster":"1d07c8e","timestamp":"1733218020.0","upvote_count":"2"},{"timestamp":"1732678980.0","comment_id":"1318412","poster":"082c09e","upvote_count":"1","content":"Selected Answer: B\nLoad Balancing rule needs to be added.\nhttps://learn.microsoft.com/en-us/answers/questions/471151/acess-an-azure-vm-behind-the-azure-lb"},{"content":"Selected Answer: A\n\"Provide Remote Desktop access to VM1/VM2 FROM THE INTERNET by using port 3389\"\nSo the public port must be 3389 for both. The only way to achieve this is to add another public IP to the load balancer. So VM1 will be available on IP1 : 3389 and IP2 : 3389 for VM2","comment_id":"1316702","timestamp":"1732374540.0","upvote_count":"2","poster":"sca88"},{"upvote_count":"1","comment_id":"1304306","timestamp":"1730182020.0","content":"there has to be a concept of port address translation. LB is already providing frontend ip but only 1 or else what is the point of LB","poster":"Stunomatic"},{"poster":"GuessWhoops","upvote_count":"2","timestamp":"1729182360.0","content":"This question doesn't make sense. We already have all the resources setup in our LB configuration, the only thing needed is to create the Inbound NAT rule itself and setup the existing resources in its properties.","comment_id":"1299292"},{"content":"Selected Answer: A\nA is correct","upvote_count":"1","timestamp":"1727015160.0","comment_id":"1287772","poster":"[Removed]"},{"poster":"Sickcnt","comment_id":"1281474","timestamp":"1725964320.0","content":"Selected Answer: A\nCloud Network Architect here:\n\nAnswer is \"A\" \n\nReason is:\nBoth VM1 and VM2 has to be on port 3389\n\nWe already have a Frontend Public IP created (that will be for one of the VMs forwarded on 3389 port)\n\nAnd we will need to create another Public IP to forward on also tcp 3389 port","upvote_count":"5","comments":[{"comment_id":"1281477","timestamp":"1725964560.0","poster":"Sickcnt","content":"B Loadbalancer rule: Not needed, an \"inbound NAT rule\" has its own NAT ruleset, loadbalancer rules are not needed there\n\nC Health Probe: We dont use Health Probes during NAT, we only use Health Probes during a loadbalancing rule (to know which unhealthy backends to take out of they are down from the loadbalancing rule)\n\nD Backend pool: This could be fine, \"Inbound NAT rule\" has two types \"Backend pool\" and \"Azure Virtual machine\" forwarding\n\nCurrently the task requires an \"Azure Virtual Machine\" fowarding method, so we dont need \"D\" here","upvote_count":"2"}]},{"timestamp":"1719319380.0","poster":"Y2","comment_id":"1236901","content":"Selected Answer: B\nB - create the inbound NAT rule\n\nnot A -you do not need two frontend IP addresses to create inbound NAT rules for accessing multiple VMs using Remote Desktop Protocol (RDP) on the same load balancer.\nNot D - Backend pool has two VM's\nNot C- Health probe is not needed.","upvote_count":"1"},{"upvote_count":"1","timestamp":"1718272020.0","comment_id":"1229738","content":"The whole set of answers is nonsense. you can create this without doing anything before creating the NAT rule. Neither an additional IP address, nor extra backend pool. NAT rule doesnt need a health probe.\nWHen you create the NAT rule on the existing backendpool with VM1 and VM2, the endpoints for VM1 and VM2 will be:\nhttps://<Public-IP>:3389 (VM1)\nhttps://<Public-IP>3390 (VM2)\n\nnot very nice of a solution, but does the trick. Propably nicer is to create a seperate Public IPv4, with a seperate Backend Pool dedicated to VM2 and a seperate NAT rule for both VMs","poster":"MSExpertGER"},{"timestamp":"1715460240.0","upvote_count":"1","comment_id":"1209963","poster":"a3432e2","comments":[{"poster":"a3432e2","timestamp":"1715461320.0","content":"\"A load balancing rule distributes incoming traffic that is sent to a selected IP address and port combination across a group of backend pool instances. ONLY BACKEND INSTANCES that the health probe CONSIDERS \"Healthy\" receive new traffic\" We see above that the probe states \"Unhealthy Threshold\", therefore a new \"backend pool\" instance must be created in order for it to traverse.\nhttps://learn.microsoft.com/en-us/azure/load-balancer/load-balancer-tcp-idle-timeout?tabs=tcp-reset-idle-portal","comment_id":"1209968","upvote_count":"1"}],"content":"Selected Answer: D\nD. A backend pool (originally selected A) \n\"In this section, you create a multiple instance inbound NAT rule to the backend pool of the load balancer.\" This is for multiple VMs.\nhttps://learn.microsoft.com/en-us/azure/load-balancer/tutorial-nat-rule-multi-instance-portal"},{"content":"Answer: A \nhttps://learn.microsoft.com/en-us/azure/load-balancer/tutorial-load-balancer-port-forwarding-portal","poster":"a3432e2","timestamp":"1715455020.0","upvote_count":"1","comment_id":"1209929"},{"content":"Selected Answer: B\nThe answer is B because a LB has already (and just one) frontend IP adress","timestamp":"1712848800.0","poster":"Jobalos009","upvote_count":"1","comment_id":"1193894"},{"timestamp":"1712779440.0","comment_id":"1193266","content":"Selected Answer: A\nFrom ChatGpt: \nBefore creating new inbound NAT rules on a load balancer, you typically need to create a frontend IP configuration. A frontend IP configuration defines the external IP address to which clients connect, and it also specifies the port for incoming traffic. This frontend IP configuration acts as the endpoint for the incoming traffic that will be load-balanced by the load balancer.\n\nOnce you have created the frontend IP configuration, you can then proceed to create the inbound NAT rules, which specify how incoming traffic should be forwarded from the frontend IP to the backend pool of resources.\n\nIn summary, the process typically involves:\n\n Creating a frontend IP configuration.\n Creating inbound NAT rules to specify how traffic should be forwarded from the frontend IP to the backend resources.","upvote_count":"3","poster":"op22233"},{"poster":"mb0812","comment_id":"1191841","comments":[{"timestamp":"1712610780.0","poster":"mb0812","upvote_count":"1","content":"for VM2: frontend ip= 68.219.118.100,fronend port: 4001,backend port=3389. so RDP using 68.219.118.100:4001 for VM2","comment_id":"1191842"}],"content":"Although A is correct, but I guess another better option is to use the same frontend ip address and use a different frontend port for each VM. Example: for VM1: frontend ip= 68.219.118.100,fronend port: 4000,backend port=3389. so RDP using 68.219.118.100:4000 for VM1","upvote_count":"1","timestamp":"1712610780.0"},{"upvote_count":"3","poster":"NikkoB","comment_id":"1182858","content":"Selected Answer: A\nAnswer is correct. When creating an Add Inbound NAT rule, the 4th item is to select a Front End IP address. It's required for the NAT rule. Some people are saying B. but a load balancing rule is totally different from a NAT rule. \n\nInbound NAT rules are used to specify a backend resource to route traffic to. For example, configuring a specific load balancer port to send RDP traffic to a specific VM. Load-balancing rules are used to specify a pool of backend resources to route traffic to, balancing the load across each instance.\n\nA load balancing rule is not part of the required new Inbound NAT rule configuration.\n\nhttps://learn.microsoft.com/en-us/azure/load-balancer/inbound-nat-rules","timestamp":"1711412160.0"},{"timestamp":"1710971640.0","upvote_count":"1","comment_id":"1178762","poster":"tashakori","content":"A is correct"},{"comment_id":"1177946","upvote_count":"1","timestamp":"1710913680.0","poster":"djhyfdgjk","content":"This is really idiotic question because everything needed is already in place.\n\nRef: https://learn.microsoft.com/en-us/azure/load-balancer/inbound-nat-rules"},{"comment_id":"1164383","upvote_count":"2","content":"ans: A\nhttps://learn.microsoft.com/en-us/azure/load-balancer/inbound-nat-rules\nAn inbound NAT rule is used for port forwarding. Port forwarding lets you connect to virtual machines by using the load balancer frontend IP address and port number. The load balancer receives the traffic on a port, and based on the inbound NAT rule, forwards the traffic to a designated virtual machine on a specific backend port.","timestamp":"1709417040.0","poster":"Austin6488"},{"poster":"djhyfdgjk","timestamp":"1709279100.0","comment_id":"1163303","upvote_count":"1","content":"Correct answer is B.\n\nCheck this link. Single Frontend IP and multiple lb rules based on different port numbers are being used there.\n\nhttps://azure.microsoft.com/en-us/blog/manage-port-forwarding-for-backend-pool-with-azure-load-balancer/"},{"comment_id":"1143628","timestamp":"1707329220.0","upvote_count":"3","poster":"SDiwan","content":"Selected Answer: A\nA is the correct answer. Before we can create an inboud NAT rule in the LB, we neeed to create new ip address, after that we can create 2 single VM inbound NAT rules"},{"comment_id":"1102910","upvote_count":"2","content":"Selected Answer: B\nYou dont need another frontend ip for another port.\nSo if you have a webserver that listening to port 80 and 443, you are going to have two public ip, make no sense.","poster":"ExamWolf","timestamp":"1703187660.0"},{"comment_id":"1084429","timestamp":"1701352980.0","poster":"SgtDumitru","upvote_count":"2","content":"Since back-end pool, health probe and load balancing rule already are created, only public IP is missing."},{"upvote_count":"5","content":"Selected Answer: A\nAgain... dont understand the debate. The question reads... \"What should you create on LB1 BEFORE you can create the new inbound NAT rules?\" So I am not sure how people think they answer is B. Do they think that before they can create the rule they have to great the rule? It can have multiple front end IPs. \n\nhttps://learn.microsoft.com/en-us/azure/load-balancer/load-balancer-multivip-overview","timestamp":"1697477700.0","poster":"clg003","comment_id":"1045184"},{"upvote_count":"2","poster":"Vestibal","content":"Selected Answer: A\nhttps://learn.microsoft.com/en-us/azure/load-balancer/manage-inbound-nat-rules?tabs=inbound-nat-rule-portal#add-a-single-vm-inbound-nat-rule\n\nGiven the need to establish a point of contact for inbound network connectivity, the correct answer is A. a frontend IP address. This is essential as it serves as the entry point for traffic, which is then directed to the appropriate resources using NAT rules.","timestamp":"1696703220.0","comment_id":"1027584"},{"content":"this question is poorly formulated, you've already got all of the 4 possible answers within the LB itself. why would you need a second public ip address? this question is weird","comment_id":"1014242","timestamp":"1695394620.0","upvote_count":"1","poster":"sardonique"},{"content":"Selected Answer: B\nYou can use the same IP Adress with different frontend ports\nIP1:3800 -> vm1:3389\nIP1:3801 -> vm2:3389\nThe frontend port doesn't have to be Port 3389. The Frontend and Backend Ports doesn't have to be the same.","timestamp":"1695388920.0","upvote_count":"3","poster":"razzil","comment_id":"1014139"},{"timestamp":"1693901160.0","comment_id":"999246","poster":"KMLearn2","content":"Selected Answer: A\nthe question does not really make sense:\nyou don't need a load balancing rule, a health probe or a backend pool for single VM inbound NAT rule and there should already be a public IP you can use. \ne.g. you create 2x NAT rules: <pip>:3391 -> VM1:3389 and <pip>:3392 -> VM2:3389\nbut yeah, if you want <pip>:3389 then you need additional public IPs....\nSource: https://learn.microsoft.com/en-us/azure/load-balancer/manage-inbound-nat-rules?tabs=inbound-nat-rule-portal#add-a-single-vm-inbound-nat-rule","upvote_count":"3"},{"timestamp":"1692553920.0","upvote_count":"3","poster":"oopspruu","comment_id":"985957","content":"Selected Answer: A\nThe whole point of NAT rules is that can access a specific port on the VM using any random port number you define in NAT rules. You can RDP to port 3389 using something like 132.25.32.125:9999 because NAT will translate the incoming port 9999 to 3389. \n\nWhat you really need is a public IP Address, without which it is not possible to RDP in the VM from Internet."},{"poster":"danrodcard","comment_id":"981283","timestamp":"1692074400.0","content":"An inbound NAT rule forwards incoming traffic sent to frontend IP address and port combination. The traffic is sent to a specific virtual machine or instance in the backend pool. Port forwarding is done by the same hash-based distribution as load balancing.\nhttps://learn.microsoft.com/en-us/azure/load-balancer/components","upvote_count":"1"},{"comment_id":"964370","poster":"marioZuo","upvote_count":"1","content":"We want to use NAT why we need LB rule? Confusing","timestamp":"1690435560.0"},{"comment_id":"949441","poster":"Sri944","content":"I believe the answer is Option A.\nNAT rule must be explicitly attached to a VM (or network interface) to complete the path to the target; whereas Load Balancing rule need not be. In the latter case, a VM is selected (from the back-end address pool or VMs) to complete the path to the target.","timestamp":"1689129960.0","upvote_count":"1"},{"upvote_count":"1","timestamp":"1687057380.0","poster":"stonwall12","comment_id":"926396","content":"Frontend IP Address"},{"poster":"Rick2022","timestamp":"1686229560.0","upvote_count":"3","comment_id":"918300","content":"Answer is B Tested.\nYou can use the same public ip with 2 rules balancing different ports for the same backend pool."},{"poster":"Exilic","timestamp":"1682491740.0","content":"Selected Answer: A\nOpenAI\n\n\"Before creating the new inbound NAT rules, you need to create a frontend IP address on LB1. The frontend IP address will be used to map the incoming traffic to the backend pool and backend VMs. Once you have created the frontend IP address, you can then create the new inbound NAT rules for port 3389 to provide Remote Desktop access to VM1 and VM2 from the internet.\n\nSo the correct answer is A. a frontend IP address.\"","upvote_count":"4","comment_id":"881200"},{"comments":[{"timestamp":"1690738260.0","content":"You cannot save the Load Balancer Rule without specifying the IP. When the Front End IP is missing you receive the following error during validation: \n\nAt least 1 frontend IP needs to be added for creating a Load Balancer","poster":"GoldBear","upvote_count":"1","comment_id":"967347"}],"content":"Selected Answer: B\n90% sure","poster":"margotfrpp","upvote_count":"1","comment_id":"876784","timestamp":"1682104560.0"},{"comment_id":"875300","poster":"dennysheng","timestamp":"1681968480.0","content":"Weird question. What is the topic exactly willing to ask? Access RDP via LB? Attach LB a Public IP first? Whats is the point???","upvote_count":"3"},{"content":"Before you can create the new inbound NAT rules to provide Remote Desktop access to VM1 and VM2, you need to create a frontend IP address on LB1. Therefore, the answer is option A.\n\nA frontend IP address is required to receive traffic from the internet and map it to the appropriate backend pool and VMs. After you create the frontend IP address, you can create the inbound NAT rules to provide Remote Desktop access to VM1 and VM2 on port 3389.","upvote_count":"2","timestamp":"1681648620.0","comment_id":"871752","poster":"[Removed]"},{"upvote_count":"3","poster":"FlowerChoc1","timestamp":"1681421160.0","comment_id":"869779","content":"Cleared the exam on 04/12/2023. This question came and my answer was A."},{"content":"Cleared Exam today 26 Feb, This question was there in exam.","comment_id":"823406","upvote_count":"6","poster":"vbohr899","timestamp":"1677487080.0"},{"comment_id":"822909","content":"Selected Answer: A\nBefore creating new inbound NAT rules on LB1, you need to create a frontend IP address.\nCreating a frontend IP address is necessary because it is the public IP address that external clients use to connect to the load balancer. Without a frontend IP address, the load balancer cannot receive incoming traffic from the internet.\n\nTo enable Remote Desktop access to VM1 and VM2 from the internet using port 3389, you need to create two new inbound NAT rules on LB1. Each NAT rule maps an external port on the frontend IP address to an internal port on a specific virtual machine's IP address and port number. Therefore, you need to create a frontend IP address first so that the NAT rules can use it to receive external traffic.","poster":"CyberKelev","timestamp":"1677441900.0","upvote_count":"5"},{"upvote_count":"3","content":"Selected Answer: A\nA: We can setup a floating IP for the frontend.\n\n\"If you want to reuse the backend port across multiple rules, you must enable Floating IP in the rule definition.When Floating IP is enabled, Azure changes the IP address mapping to the Frontend IP address of the Load Balancer frontend instead of backend instance's IP.\"\n\nhttps://learn.microsoft.com/en-us/azure/load-balancer/load-balancer-floating-ip","comment_id":"811168","timestamp":"1676587260.0","poster":"msingh20","comments":[{"poster":"morito","upvote_count":"1","content":"Are you certain? The way I understand it, floating IPs are great if the backend pool is full of servers that provide the same service. But what if you want to explictly connect to either one of the hosts for management? Floating IP will just drop you on a random host, will it not?","comment_id":"835437","timestamp":"1678482840.0"}]},{"comment_id":"804890","poster":"zellck","timestamp":"1676076360.0","content":"Selected Answer: A\nA is the answer.\n\nhttps://learn.microsoft.com/en-us/azure/load-balancer/manage-inbound-nat-rules","upvote_count":"3"},{"comment_id":"804027","poster":"GBAU","content":"Selected Answer: A\nYou can't use one single public IP & port combination to decidedly connect to two different systems based on readying your mind.\n\nSomething has to tell the Firewall which VM you want to connect too. With the options provided, the only way is adding an additional frontend IP address.\n\nHit one IP on 3389 you go to VM1\nHit the other IP on 3389 you go to VM2","comments":[{"timestamp":"1680875820.0","upvote_count":"1","comment_id":"863956","poster":"AliRi","content":"Yup, you are right. This question is stupid as hell.\nBut this is not about stupidity here, it's about the functionality we need to understand.\nAnd, at the end, we will have it on exam and we will need to answer it."}],"timestamp":"1676009760.0","upvote_count":"5"},{"upvote_count":"3","timestamp":"1675737300.0","poster":"kanag1","content":"Selected Answer: A\nKey is port 3389 from the internet for both VMs","comment_id":"800470"},{"comment_id":"792970","content":"B: We already have a public-ip, now with option B, use the port ip:3389... It will be a random outcome on which machine you'll wind up, however machine selection is not a requirement.","poster":"ChakaZilly","timestamp":"1675092120.0","upvote_count":"4"},{"poster":"Ashfaque_9x","timestamp":"1674937740.0","content":"Selected Answer: A\nA. a frontend IP address\nPassed today on 29Jan23 with a score of 970. This question was in the exam.","upvote_count":"14","comment_id":"791067"},{"comment_id":"776514","upvote_count":"3","timestamp":"1673784780.0","content":"Selected Answer: A\nWithout a public ip, nothing can happem","poster":"dimsok"},{"timestamp":"1672311360.0","poster":"_fvt","comment_id":"760909","content":"Correct answer: 1\n\n- \"What should you create on LB1 before you can create the new inbound NAT rules?\" => Suggests that you will create two NAT rules, one per VM.\n- Also, it is explicitly asked to use port 3389 from internet so you can't use same IP for both VMs \n=> You need two Public IPs, you already have one, you need a second one before creating the two NAT rules.","upvote_count":"2"},{"comment_id":"744796","upvote_count":"3","content":"Hello guys,\nfrom my point of view the correct answer is B.\n\nExplanation:\nYou plan to create new inbound NAT rules, then the only way is to create a load balancing rule because you have the backend pool, the frontend IP and you have a rule for port 80 but you will need to add another rule for 3389 port.\n\nhttps://learn.microsoft.com/en-us/azure/load-balancer/manage-inbound-nat-rules?tabs=inbound-nat-rule-portal#view-port-mappings\n\nhttps://learn.microsoft.com/en-us/azure/load-balancer/manage-rules-how-to#load-balancing-rules","poster":"dagomo","timestamp":"1671000000.0"},{"comment_id":"736754","timestamp":"1670325660.0","content":"Selected Answer: B\nRules can be combined with the NAT rules. A NAT rules is explicitly attached to a VM (or network interface) to complete the path of the target.\nFor example we can use NAT rules from public IP address (Front End IP) of load balancer to the specific port in our case 3389 RDP to specific VM in backend","upvote_count":"3","poster":"spike15_mk"},{"poster":"jp_mcgee","content":"You plan to create new inbound NAT rules that meet the following requirements:\n* Provide Remote Desktop access to VM1 from the internet by using port 3389.\n* Provide Remote Desktop access to VM2 from the internet by using port 3389.\nWhat should you create on LB1 before you can create the new inbound NAT rules?\nA. a frontend IP address - This lets you RDP to a specific VM1 or VM2 using Port 3389. Other solutions using one IP require floating IP where you can't choose VM1 or VM2, or they require different ports which is contrary to the 3389 requirements.\nB. a load balancing rule - does not provide RDP access to a specific VM1 or VM2 over port 3389.\nC. a health probe - does not provide RDP access to a specific VM1 or VM2 over port 3389.\nD. a backend pool - does not provide RDP access to a specific VM1 or VM2 over port 3389.","upvote_count":"4","timestamp":"1669741800.0","comment_id":"730654"},{"poster":"Dave03","content":"We have to create the Load balancing inbound NAT rules for VM1 and VM2. The current IP is okay and does not require adding a new IP. So, the answer is B.","timestamp":"1669222260.0","upvote_count":"1","comment_id":"725273"},{"comment_id":"722035","comments":[{"comments":[{"upvote_count":"1","comment_id":"1095731","poster":"[Removed]","content":"You don't have to RDP into specific machine, they are most likely the same since they are load balanced.","timestamp":"1702490760.0"}],"comment_id":"748446","poster":"Lexxsuse","timestamp":"1671314220.0","content":"then how would you rdp into specific machine?","upvote_count":"1"}],"timestamp":"1668866520.0","upvote_count":"1","poster":"Szala90","content":"Selected Answer: B\nI think correct answer is B. We should use same public IP address"},{"timestamp":"1668139560.0","comment_id":"715754","content":"Selected Answer: A\nThe answer is A. I tested this. If you need to map to the same port for multiple VMs, you need to use separate frontendIPs for each of them. Otherwise you won't be able to create the NAT rule on that same port using the same frontendIP","upvote_count":"9","poster":"codeScalable"},{"upvote_count":"2","content":"Selected Answer: A\nThe correct is A","poster":"car10589","comment_id":"714445","timestamp":"1667987820.0"},{"content":"Selected Answer: B\nload balancer got more important than frontend","poster":"kf01234","comment_id":"712262","timestamp":"1667734500.0","upvote_count":"1"},{"comment_id":"707534","content":"Selected Answer: A\nhttps://learn.microsoft.com/en-us/azure/load-balancer/manage-inbound-nat-rules?tabs=inbound-nat-rule-portal","upvote_count":"5","timestamp":"1667084160.0","poster":"klexams"},{"content":"Selected Answer: A\nFrontend IP address is not mentioned in the LB properties but is definitely needed. That's why I consider A as correct.","poster":"matejka","comment_id":"704905","timestamp":"1666806300.0","upvote_count":"2"},{"poster":"dc2k79","comment_id":"704017","timestamp":"1666714680.0","content":"I think 'B' as an answer is correct but the question specifically says 'Access FROM the internet over 3389'. That means you wouldn't be able to differentiate what VM the request is coming in for, this justifies the need for another Public IP. Just because of the language used, I'd go with 'A'.","upvote_count":"1"},{"timestamp":"1666280280.0","poster":"diego_alejandro","content":"i vote for A.","upvote_count":"1","comment_id":"700083"},{"timestamp":"1665616620.0","poster":"flurgen248","content":"Selected Answer: B\nYou can have multiple ports set up to use a single frontend ip address, so you don't need to add another one to open RDP. The answer is B.\n\nA load balancing rule declares how an address and port on the frontend is mapped to the destination address and port on the backend. Whether or not backend ports are reused across rules depends on the type of the rule. \n\n The default rule with no backend port reuse.\n The Floating IP rule where backend ports are reused.\n\nhttps://learn.microsoft.com/en-us/azure/load-balancer/load-balancer-multivip-overview\n\nhttps://learn.microsoft.com/en-us/azure/load-balancer/manage-inbound-nat-rules?tabs=inbound-nat-rule-portal#view-port-mappings","upvote_count":"3","comment_id":"693442"},{"content":"Selected Answer: B\nTested with DevTestLab in Azure, a single frontend IP with a rule to allow 3389 to a backend pool containing 10 VMs","comments":[{"content":"Multiple internal endpoints can be mapped to ports on the same frontend IP address.The frontend IP addresses can be used to remotely administer your VMs without an additional jump box. So create a new load balancing rule to allow RDP with port 3389 for the front end ip","timestamp":"1665477600.0","upvote_count":"1","comment_id":"691919","poster":"pmsiva"}],"comment_id":"690698","timestamp":"1665375120.0","poster":"adrianspa","upvote_count":"5"},{"timestamp":"1664776980.0","comment_id":"685249","poster":"Ravi1383","content":"Selected Answer: A\nsame port we need to have two different frontend IPs for the port forwarding.","upvote_count":"2"},{"content":"is not required a new ip . we can use the same front end ip . The only thing witch change is the fordward port and vm ip...","upvote_count":"1","comment_id":"681874","timestamp":"1664379780.0","poster":"diego_alejandro"},{"comment_id":"660400","timestamp":"1662398760.0","poster":"EmnCours","content":"Selected Answer: A\nI think the answer is correct. Key is port 3389 from the internet for both VMs. If we want to connect to two different machines on the same port we need to have two different frontend IPs for the port forwarding.","upvote_count":"2"},{"upvote_count":"2","timestamp":"1662268920.0","comment_id":"658960","poster":"libran","content":"Selected Answer: B\na load balancing rule is the Answer"},{"content":"Selected Answer: A\n\"What should you create on LB1 before you can create the new inbound NAT ruleS?\"\nNotice it said ruleS. When you create 2nd rule, you have to have 2nd front IP first to use the same 3389 port","poster":"F117A_Stealth","comment_id":"655949","timestamp":"1662018300.0","upvote_count":"2"},{"timestamp":"1662015420.0","comment_id":"655901","content":"The process or steps to create a LB for a service/ Application:\n1. Create a Public IP address\n2. Create Backend-pool with members (VMs)\n3. Create a Health probe (to check the VMs status, and to determine which instances will receive new connection)\n4. Create LB rule (defines: Frontend IP, Port, Backend port, Backend pool, & Health probe)\n5. Create an inbound NAT rule (2 inbound rules here).\n\nSo here we already have:\n1. Public IP address (which can be used) == \"LoadBalancerFrondEnd\"\n2. Backend_Pool memebers VM1,VM2 == \"bepool1\"\n3. Health probe is created on port 80 (it is better to create a new one with port: 3389 - BUT ignoring that) the health probe will check the status of VMs if they are ONLINE/OFF which is there as well == \"hprobe1\"\n4. LB rule : So we need a new LB rule to define the backend port:3390 which different from the one we have in \"rule1\". \n\nSo the ANSWER should be: a load balancing rule ... before we create 2 new inbound NAT rules.","poster":"EleChie","upvote_count":"6"},{"timestamp":"1651675740.0","upvote_count":"3","content":"Selected Answer: B\nhttps://docs.microsoft.com/en-us/azure/load-balancer/load-balancer-multivip-overview\n\nSame frontend IP can be used by multiple ports as seen on the example on the link. One rule for TCP 80 & another for TCP 3389. The RDP requests will be balanced between the two servers, but technically it's possible.","poster":"mbaybarsk","comment_id":"596892"},{"content":"Selected Answer: A\nFrom the requirement:\n\nProvide Remote Desktop access to VM1 from the internet by using port 3389.\nProvide Remote Desktop access to VM2 from the internet by using port 3389.\n\n\"from the internet by using port 3389\"\n\nmay give some more chance to the new IP Address.\n\nwith only this data I would go for the \"A\"","poster":"Zsolt72","comment_id":"595189","upvote_count":"2","timestamp":"1651341720.0"},{"timestamp":"1648736880.0","upvote_count":"2","content":"Selected Answer: B\nYou don´t need a second frontend IP. The question clearly states that we want to create NAT rules which we can with only one frontend IP and a different backend port for each machine. Only answer that makes sense is a new load balancing rule as there is none for RDP. A health probe is already existing, although it is for port 80 we don´t need a new one for RDP.","comment_id":"578996","poster":"magichappens"},{"content":"Answer is B. The requirements say provide rdp access and thats it. Never said at the same time","upvote_count":"1","comment_id":"574717","timestamp":"1648159920.0","poster":"Rm764ghj990"},{"content":"Selected Answer: A\nI think A is correct. Using port 3389 in both ports is a requirement. So we need a new public IP address.","timestamp":"1647283380.0","poster":"josevirtual","comment_id":"567861","upvote_count":"3"},{"poster":"benvdw","timestamp":"1647187260.0","upvote_count":"4","comment_id":"567001","content":"on exam 13/3/2022"},{"content":"since we are obliged to use same port 3389 for NATing, we will need another front end Public IP","timestamp":"1646750700.0","upvote_count":"2","poster":"DES123","comment_id":"563323"},{"upvote_count":"4","comment_id":"561478","content":"Selected Answer: A\nGiven answer is correct (A). You need to add another public ip to be able to map 3389 twice","poster":"Brother_99","timestamp":"1646491140.0"},{"timestamp":"1646411400.0","upvote_count":"2","poster":"josevirtual","content":"Selected Answer: B\nYou can use different ports in the same IP, but the rule is needed.","comment_id":"560902"},{"timestamp":"1645725480.0","content":"confused, if we RDP to VM1 and VM2, why LB is adopted. LB should be for traffic balancing purpose.","upvote_count":"1","comment_id":"555459","poster":"kevin9988"},{"timestamp":"1644828240.0","upvote_count":"1","content":"I also think the answer is correct, you cannot access each VM via the same port on the same IP, you therefore need a minimum of two IP addresses, one will NAT to VM1 on TCP:3389, the other will NAT to VM2 on TCP:3389,","poster":"9InchPianist","comment_id":"546979"},{"content":"Tried in lab with both options A and B.\nOption A:\nAfter adding new IP, you still need to create new backend pool (for each VM), health check probe and load balancing rule for port 3389 as well. So you can't just add new IP to make it work.\n\nOption B:\nWhile another options, a load balancing rule, you need to create new backend pool, health probe BUT NOT a frontend IP address. I just use the same frontend IP address with different port, said 3390 and 3391, and map to two VM backend pools. \n\nAnother option is \"add inbound NAT rule\" but it's not in the answer.","upvote_count":"6","comment_id":"546260","timestamp":"1644734460.0","comments":[{"comment_id":"547436","comments":[{"upvote_count":"1","comment_id":"553136","poster":"shroh","content":"I studied for AIEEE in Kota from 2004-2005 , Felt Nostalgic seeing your name :) Where are you now ?","timestamp":"1645470240.0"}],"upvote_count":"1","content":"100 % agree with you. This would be in inbound NAT rule but not there . well, we can select as a load balancing rule","timestamp":"1644879960.0","poster":"KotaCoaching"}],"poster":"hm67"},{"upvote_count":"1","content":"Answer B: Since we already have a Public IP add (Frontend IP) so we can use same IP and access deafferent services (web, rdp, sql, ...etc)\n\nex: 8.8.8.100 as an external IP address \nSo for Web access it will be: https://8.8.8.100:80 & backend poll on port 80 \nfor RDP (remote desktop protocol) will need a rule with \n https://8.8.8.100:3389 & backend poll on port 3389","comment_id":"539994","poster":"EleChie","timestamp":"1643922840.0","comments":[{"comment_id":"655848","timestamp":"1662010980.0","content":"So i think a health probe with port:3389 would be correct AND then create a new inbound NAT rule","upvote_count":"1","poster":"EleChie"}]},{"poster":"whinycarebear","upvote_count":"1","timestamp":"1643719860.0","comment_id":"537850","content":"The answer \"frontend IP\" is correct. For connecting from the internet on the same Port 3389 to both VMs (via the load balancer), the differentiation between VMs must come from the IPs.\n\nWhat confused me was that NAT is to save on public IPs by having different ports (public ports, say 50001 and 50002) map to the private IP of a VM and the port. So\n\npublicIP_1 50001 -> privateIP_VM1 3389\npublicIP_1 50002 -> privateIP_VM2 3389\nsame public IP, different port -> different private IP, same port\n\nIn case of the question NAT and Load balancing are not really needed imho, you might as well just assign the public IPs to the VMs directly."},{"timestamp":"1643331600.0","poster":"yangxs","upvote_count":"2","content":"Selected Answer: A\n\"What should you create on LB1 before you can create the new inbound NAT ruleS?\"\nNotice it said ruleS. When you create 2nd rule, you have to have 2nd front IP first to use the same 3389 port","comment_id":"534238"},{"content":"Tested in LAB. You can create the first inbound NAT rule with the existing frontend IP to forward traffic on port 3389 to the first VM. Then you can no longer use the same FrontendIP and port combination for the second VM. You get message: \"The frontend, protocol and port combination of each load balancing rule and inbound NAT rule on a load balancer must be unique.\"\nAnswer is A","poster":"lateralus","timestamp":"1642781820.0","upvote_count":"7","comment_id":"529241"},{"poster":"FabioVi","comment_id":"525077","timestamp":"1642350780.0","upvote_count":"2","content":"Selected Answer: A\nCorrect answer: A. \nI think it could not be B. Common sense tells me that even if I managed to add a Load Balancing Rule for 3389, the Load Balancer would try to balance to any of the 2 healthy VMs, but if I want to have Remote Desktop access to VM1, OR (exclusive) to VM2, then I would need different IPs..."},{"content":"Selected Answer: B\nRule setup.","comment_id":"520343","upvote_count":"2","poster":"_punky_","timestamp":"1641746820.0"},{"upvote_count":"6","comment_id":"508002","content":"I think the correct answer is A.\n\nThe frontend (aka VIP) is defined by a 3-tuple comprised of an IP address (public or internal), a transport protocol (UDP or TCP), and a port number from the load balancing rule. For example:\n\nFrontend IP address protocol port\n1 65.52.0.1 TCP 80\n2 65.52.0.1 TCP 8080\n3 65.52.0.1 UDP 80\n4 65.52.0.2 TCP 80\n\nFrontends #1, #2 and #3 are a single frontend with multiple rules. The same IP address is used but the port or protocol is different for each frontend. Frontends #1 and #4 are an example of multiple frontends, where the same frontend protocol and port are reused across multiple frontends. \n\nThe question asks to use RDP to VM1 and VM2 on the same port number, which implies the protocol and port number are the same. As such you would have to use a different frontend IP. Such as: \n\nFrontend IP address protocol port\n1 65.52.0.1 TCP 3389\n4 65.52.0.2 TCP 3389\n\nHence, the correct answer is A\n\nReference:https://docs.microsoft.com/en-us/azure/load-balancer/load-balancer-multivip-overview","poster":"ninjia","timestamp":"1640274720.0"},{"upvote_count":"4","comments":[{"upvote_count":"2","content":"What's more - port forwarding is not load balance, you cannot randomly direct RDP between VM1 and VM2, you have to specify which VM you want to RDP by frontend IP+port(3389). \nFrontendIP1:3389->VM1:3389\nFrontendIP2:3389->VM2:3389\nIf the questions didn't ask by port 3389, then you don't have to add an extra frontend IP, you can do like this:\nFrontendIP1:3340-->VM1:3389\nFrontEndIP1:3341->VM2:3389","timestamp":"1638552360.0","comment_id":"493278","poster":"Snownoodles"}],"timestamp":"1638552060.0","comment_id":"493275","poster":"Snownoodles","content":"Selected Answer: A\nThis has be to A\nPlease note the following requirement from the question:\n✑ Provide Remote Desktop access to VM1 from the internet by using port 3389.\n✑ Provide Remote Desktop access to VM2 from the internet by using port 3389.\nWithout adding an extra frontend IP, you cannot forward port 3389 to 2 back-end VMs."},{"timestamp":"1635424560.0","poster":"AKAKAKAK","upvote_count":"4","content":"In my opinion Answer A is correct. The question needs to have port 3389 to be used for both VM's from the internet. This is not possible with a single IP. The initial public IP can be used for VM1 Nat rule port 3389/tcp, then another public IP on the frontend will be needed to allow tcp/3389 towards VM2.\n\nNow, if the question would allow to use lets say port tcp/3389 for VM1 and port tcp/3390 for VM2, then we could get away with using a single Public IP address on the frontend.\n\nI would go with 'Public IP'.","comment_id":"469257"},{"comment_id":"464068","content":"I just tested this in Lab.\nCreating the first NAT rule is not issue.\nBut when creating the second NAT rule (on already existing Public IP) and using the same port (as asked in the question) you get an error pop-p that the frontend, protocol & port combination match up win an existing rule.\n\nSo answer is indeed A: you DO NEED an additional Public IP","timestamp":"1634555460.0","poster":"Gerd95","upvote_count":"7"},{"content":"Passed 11 Oct 2021 with 947. This question appeared, correct Answer is B","timestamp":"1633920180.0","comment_id":"460324","upvote_count":"13","poster":"khengoolman"},{"poster":"[Removed]","comment_id":"459612","timestamp":"1633779300.0","content":"A load balancing rule distributes incoming traffic that is sent to a selected IP address and port combination across a group of backend pool instances. The load balancing rule uses a health probe to determine which backend instances are eligible to receive traffic.\n+ add a load balancing rule\n\nAn inbound NAT rule forwards incoming traffic sent to a selected IP address and port combination to a specific virtual machine.\n+ add an inbound NAT rule\nMy guess is B\n\nA frontend IP configuration is an IP address used for inbound and/or outbound communication as defined within load balancing, inbound NAT, and outbound rules.","upvote_count":"1"},{"comment_id":"451474","timestamp":"1632581160.0","poster":"Mukesh_Aggarwal_07","upvote_count":"4","content":"A. a frontend IP address Is correct."},{"poster":"orzel","comment_id":"446550","timestamp":"1631875500.0","content":"you can not access two different VM under one IP on the same Port \nIt make no sense to randomly connect to VM1 or VM2 via LB.","upvote_count":"1"},{"upvote_count":"2","timestamp":"1631205120.0","content":"the correct answer is B: a load balancing rule\n\nSame Q here: \nhttps://www.examtopics.com/exams/microsoft/az-104/view/19/","poster":"imartinez","comment_id":"442080"},{"poster":"Wolverine1791","timestamp":"1631123640.0","upvote_count":"13","comments":[{"comment_id":"446943","upvote_count":"4","poster":"silver_bullet666","timestamp":"1631944740.0","content":"I agree. You need another frontend IP on the LB. so the answer is A. a frontend IP address"}],"content":"Answer is correct I test in Lab. The thing is each VM should be accessible via 3389 so you have to create new Frontend IPs to NAT them with original Port. If you want to use existing FrontendIP you will get an error.","comment_id":"441589"},{"content":"Correct. Thank you.","poster":"AubinBakana","upvote_count":"3","comment_id":"433853","timestamp":"1630153020.0"},{"timestamp":"1630121040.0","comment_id":"433476","poster":"Hannemaster","upvote_count":"3","content":"It's simple you have 1 IP, you cannot use 1 ip and choose which RDP you want when connecting. You need to have two IP's to be able to RDP them individually. You have 1 IP so you need another."},{"timestamp":"1629994800.0","content":"Closest one is answer B\n\nThere must be two different port in the in the load balancer to target to two VM\n\nhttps://docs.microsoft.com/en-us/azure/load-balancer/tutorial-load-balancer-port-forwarding-portal#create-an-inbound-nat-port-forwarding-rule\n\nCreate a load balancer inbound network address translation (NAT) rule to forward traffic from a specific port of the front-end IP address to a specific port of a back-end VM.\n\nSelect All resources in the left-hand menu, and then select MyLoadBalancer from the resource list.\n\nUnder Settings, select Inbound NAT rules, and then select Add.\n\nOn the Add inbound NAT rule page, type or select the following values:\n\nName: Type MyNATRuleVM1.\nPort: Type 4221.\nTarget virtual machine: Select MyVM1 from the drop-down.\nNetwork IP Configuration: Select ipconfig1 from the drop-down.\nPort mapping: Select Custom.\nTarget port: Type 3389.\nSelect OK.\n\nRepeat the steps to add an inbound NAT rule named MyNATRuleVM2, using Port: 4222 and Target virtual machine: MyVM2.","comment_id":"432468","upvote_count":"2","poster":"zvasanth2","comments":[{"upvote_count":"3","content":"My prev. comment may not be correct. A is the right one","comment_id":"432470","timestamp":"1629994980.0","poster":"zvasanth2"}]},{"poster":"Junhui74","timestamp":"1627861800.0","comment_id":"418447","upvote_count":"7","content":"i thnik the answer maybe correct \"A\".i am taking reference from the link below for configurating multiple IP for loadbalancer. Though it is referring to 2 VM hosting different website, but the config maybe the same for RDP.\n\nhttps://docs.microsoft.com/en-us/azure/load-balancer/load-balancer-multiple-ip"},{"timestamp":"1627727040.0","comment_id":"417810","upvote_count":"5","content":"I think for both the VMs traffic has to be received on port no 3389, as of now only one pub ip address is configured in the front end which can be used for VM1. Hence you will required one more pub ip for second VM to receive traffic on 3389.","poster":"PeeKay79"},{"comment_id":"417216","poster":"hristozkov69","upvote_count":"4","timestamp":"1627625880.0","content":"You need two new unused Public IP addresses, in order to make the NAT rules per machine."},{"content":"Only IP Configuration is said be of type frontend IP , Nowhere it is wrriten that frontend public IP is already created . Hence we frist need to create public IP","upvote_count":"3","poster":"anurag4516","timestamp":"1627534920.0","comment_id":"416615"},{"upvote_count":"2","poster":"s1inkan","comments":[{"comment_id":"415796","poster":"s1inkan","upvote_count":"1","content":"Which should mean A is the most correct)","timestamp":"1627431840.0"}],"content":"It looks like during the creation of a NAT Gateway, you need to create a new public IP\n\nREF: https://docs.microsoft.com/en-us/azure/virtual-network/nat-gateway/tutorial-nat-gateway-load-balancer-public-portal?toc=/azure/load-balancer/toc.json","timestamp":"1627431780.0","comment_id":"415795"},{"content":"You need TWO public ip addresses (two LoadBalancerFrontEnd) otherwise you won't be able to create two NAT rules using the same port 3389","timestamp":"1627314000.0","comment_id":"414801","upvote_count":"2","poster":"korben_dallas"},{"poster":"bacana","timestamp":"1626778800.0","content":"I agree with Vlako","comment_id":"410186","upvote_count":"1"},{"timestamp":"1625951580.0","comment_id":"403537","poster":"bizarro","upvote_count":"5","content":"A. a frontend IP address Is correct. You can only NAT from one ip to one VM. In this case, there are two VM and only one public IP.","comments":[{"upvote_count":"1","poster":"bizarro","content":"Since VM1 and VM2 connections are using the same ports.","timestamp":"1625951820.0","comment_id":"403538"}]},{"upvote_count":"1","timestamp":"1625749980.0","poster":"fazedenk","comments":[{"upvote_count":"2","timestamp":"1625946000.0","comment_id":"403504","content":"You don't. You only need a public interface on the LB and a backend pool with 1+ VM in it. Confirmed in LAB, only A (ip) and D (backend pool) are reasonable answers and both are already configured.","poster":"rawrkadia"}],"comment_id":"401946","content":"You need a health probe before creating the load balancing rule"},{"timestamp":"1625745480.0","comment_id":"401881","content":"By exclusion should be B.\nAll others already exist.","poster":"[Removed]","upvote_count":"6"},{"content":"First, create a public Standard load balancer that can balance traffic load over VMs. A Standard load balancer supports only a Standard public IP address. When you create a Standard load balancer, you also create a new Standard public IP address, which is configured as the load balancer front end and named LoadBalancerFrontEnd by default.\n\nSince it was configured on the table.\nSo I choose B","upvote_count":"2","poster":"kerker","timestamp":"1625465280.0","comment_id":"398905"},{"timestamp":"1625324340.0","upvote_count":"3","poster":"wsscool","comment_id":"397677","content":"in exam 7/3/2021","comments":[{"timestamp":"1626250320.0","comment_id":"406070","poster":"RoastChicken","content":"What was your answer? B?","upvote_count":"2"}]},{"content":"AS per the table, frontend IP address is already configured....","upvote_count":"1","comment_id":"396566","timestamp":"1625201400.0","poster":"johnywillies"},{"comments":[{"timestamp":"1625173860.0","content":"Is this a semantics thing, since the table does not specify an IP address and merely says \"public ip address\"? \n\nBecause I read this as it already has a pub ip, pool, load balancer rule and a health probe, and you don't need to add any additional per: https://docs.microsoft.com/en-us/azure/load-balancer/tutorial-load-balancer-port-forwarding-portal\n\nQuestion seems bad. IP is created as part of initial load balancer creation and should be present. Nothing else is required from the provided to add nat rules.","comment_id":"396354","upvote_count":"5","poster":"rawrkadia"}],"content":"Correct answer is A.\n\nhttps://docs.microsoft.com/en-us/azure/virtual-machines/windows/tutorial-load-balancer","comment_id":"394981","upvote_count":"3","timestamp":"1625072760.0","poster":"Steve1983"}]},{"id":"ZaqpM7CY4yI84g16xri8","question_text":"You have an Azure subscription that contains the resources in the following table.\n//IMG//\n\nSubnet1 is associated to VNet1. NIC1 attaches VM1 to Subnet1.\nYou need to apply ASG1 to VM1.\nWhat should you do?","answer":"A","answer_images":[],"url":"https://www.examtopics.com/discussions/microsoft/view/38679-exam-az-104-topic-5-question-40-discussion/","answer_description":"","answers_community":["A (100%)"],"exam_id":44,"timestamp":"2020-12-03 16:23:00","discussion":[{"comment_id":"237983","upvote_count":"131","timestamp":"1607411520.0","content":"Full explanation: \nCorrect Answer is A: \n\nAssociate Virtual Machines\nAn application security group is a logical collection of virtual machines (NICs). You join virtual machines to the application security group, and then use the application security group as a source or destination in NSG rules.\n\nThe Networking blade of virtual machine properties has a new button called Configure The Application Security Groups for each NIC in the virtual machine. If you click this button, a pop-up blade will appear and you can select which (none, one, many) application security groups that this NIC should join, and then click Save to commit the change.\n\nhttps://petri.com/understanding-application-security-groups-in-the-azure-portal#:~:text=You%20can%20start%20the%20process,Application%20Security%20Group%20blade%20appears.","poster":"bogdan89"},{"content":"Correct Answer: A\n\nApplication security groups enable you to configure network security as a natural extension of an application's structure, allowing you to group virtual machines and define network security policies based on those groups. You can reuse your security policy at scale without manual maintenance of explicit IP addresses. The platform handles the complexity of explicit IP addresses and multiple rule sets, allowing you to focus on your business logic.\n\nReference:\nhttps://docs.microsoft.com/en-us/azure/virtual-network/application-security-groups\nhttps://tutorialsdojo.com/network-security-group-nsg-vs-application-security-group","comment_id":"360482","timestamp":"1621340820.0","upvote_count":"83","poster":"mlantonis"},{"poster":"[Removed]","upvote_count":"1","timestamp":"1727359620.0","content":"Selected Answer: A\nA is correct","comment_id":"1289514"},{"poster":"tashakori","upvote_count":"2","comment_id":"1174131","timestamp":"1710488580.0","content":"A is right"},{"upvote_count":"1","comment_id":"798257","timestamp":"1675535580.0","content":"Selected Answer: A\nYou can use the Tthe Networking blade of virtual machine to add a machine to one or more ASGs","poster":"DeBoer"},{"comment_id":"651993","content":"Selected Answer: A\nCorrect Answer: A\n\nhttps://docs.microsoft.com/en-us/azure/virtual-network/application-security-groups","poster":"EmnCours","timestamp":"1661479080.0","upvote_count":"3"},{"poster":"Lazylinux","comment_id":"619569","timestamp":"1655778480.0","content":"Selected Answer: A\nA is correct\nAn application security group is a logical collection of virtual machines (NICs). You join virtual machines to the application security group, and then use the application security group as a source or destination in NSG rules.","upvote_count":"3"},{"poster":"AubinBakana","comment_id":"434839","timestamp":"1630266420.0","content":"ASG are not much covered in the Learn module, not that I remember. Answer is correct","upvote_count":"5"},{"poster":"mg","upvote_count":"4","timestamp":"1615733940.0","content":"Answer is correct.\nApplication security group ASG can be associated with NIC","comment_id":"310602"},{"upvote_count":"5","content":"A is answer\nAssociate Virtual Machines\nAn application security group is a logical collection of virtual machines (NICs). You join virtual machines to the application security group, and then use the application security group as a source or destination in NSG rules.\n\nThe Networking blade of virtual machine properties has a new button called Configure The Application Security Groups for each NIC in the virtual machine. If you click this button, a pop-up blade will appear and you can select which (none, one, many) application security groups that this NIC should join, and then click Save to commit the change.\n\nhttps://petri.com/understanding-application-security-groups-in-the-azure-portal#:~:text=You%20can%20start%20the%20process,Application%20Security%20Group%20blade%20appears.","poster":"ZUMY","timestamp":"1614786840.0","comment_id":"302717"},{"content":"ASG cannot only be added to NIC so the only option according to MS docs.","poster":"aMiPL","upvote_count":"2","timestamp":"1613067240.0","comment_id":"288465"},{"timestamp":"1612166640.0","poster":"ckyap","content":"Came in exam 1st Feb 2021. Selected A","upvote_count":"5","comment_id":"281118"},{"upvote_count":"5","poster":"waterzhong","timestamp":"1611300480.0","comment_id":"273533","content":"All network interfaces assigned to an application security group have to exist in the same virtual network that the first network interface assigned to the application security group is in. For example, if the first network interface assigned to an application security group named AsgWeb is in the virtual network named VNet1, then all subsequent network interfaces assigned to ASGWeb must exist in VNet1. You cannot add network interfaces from different virtual networks to the same application security group.","comments":[{"content":"Good explanation - thank you.","poster":"macross","upvote_count":"1","comment_id":"280652","timestamp":"1612108980.0"}]},{"upvote_count":"4","timestamp":"1610491020.0","poster":"Hardikm007","comment_id":"265899","content":"ASG are NOT in exams. Check on site."},{"comment_id":"251207","content":"Answer is correct. \"A\"\nASG is a virtual grouping of VMs through their NIC. Accordingly, you need to connect NIC to ASG.","poster":"fedztedz","timestamp":"1608748800.0","upvote_count":"18"},{"comment_id":"249081","upvote_count":"4","poster":"waterzhong","timestamp":"1608529920.0","content":"Application security groups enable you to configure network security as a natural extension of an application's structure, allowing you to group virtual machines and define network security policies based on those groups"},{"poster":"chenmat","upvote_count":"5","comment_id":"243344","content":"Answer: A \n\nRefer https://tutorialsdojo.com/network-security-group-nsg-vs-application-security-group/","timestamp":"1607929020.0"},{"timestamp":"1607371620.0","poster":"Andersonalm","upvote_count":"1","comments":[{"poster":"jelly_baby","timestamp":"1607510400.0","comment_id":"239106","content":"Don't spam answers without an explanation. Everyone's saying A but you say C but don't explain why? Shut up.","upvote_count":"61","comments":[{"content":"I can feel that brother !!!!! :D","comment_id":"304685","timestamp":"1615039260.0","upvote_count":"3","poster":"az104bd"}]}],"comment_id":"237623","content":"Answer C"},{"timestamp":"1607345820.0","content":"Answer A.\nIn the previous picture, NIC1 and NIC2 are members of the AsgWeb application security group. NIC3 is a member of the AsgLogic application security group. NIC4 is a member of the AsgDb application security group. Though each network interface in this example is a member of only one network security group, a network interface can be a member of multiple application security groups, up to the Azure limits. None of the network interfaces have an associated network security group. NSG1 is associated to both subnets and contains the following rules:\nhttps://docs.microsoft.com/en-us/azure/virtual-network/application-security-groups","poster":"antonio_ferraz","comment_id":"237327","upvote_count":"4"},{"poster":"Hibs2016","comment_id":"236424","timestamp":"1607258580.0","content":"Answer is correct it is A. This blog discusses it well: \nhttps://medium.com/awesome-azure/azure-application-security-group-asg-1e5e2e5321c3\nAlso in comments here: https://azure.microsoft.com/en-us/blog/applicationsecuritygroups/\nhttps://docs.microsoft.com/en-us/azure/virtual-network/application-security-groups","upvote_count":"7"},{"upvote_count":"4","timestamp":"1607009520.0","content":"What you can do is to put a ASG into a NSG, by inbound or outbound rules. \nBut not directly on NIC","poster":"Leandroalonso","comment_id":"234119"},{"poster":"Leandroalonso","content":"Navigating on the portal, Network Interface are only assossiable with NSG, not with ASG.\nOn the VM networking blade, there are an another blade ASG that you can assossiate a ASG there. \nNone alternative are correct. Maybe there is something dismissed here.","comment_id":"234110","timestamp":"1607008980.0","upvote_count":"4"}],"isMC":true,"topic":"5","choices":{"C":"Modify the properties of NSG1","B":"Modify the properties of ASG1","A":"Associate NIC1 to ASG1"},"question_images":["https://www.examtopics.com/assets/media/exam-media/04223/0041100001.png"],"question_id":475,"unix_timestamp":1607008980,"answer_ET":"A"}],"exam":{"id":44,"isBeta":false,"provider":"Microsoft","numberOfQuestions":606,"isImplemented":true,"isMCOnly":false,"name":"AZ-104","lastUpdated":"12 Apr 2025"},"currentPage":95},"__N_SSP":true}