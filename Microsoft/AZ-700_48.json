{"pageProps":{"questions":[{"id":"XKtasEQiSDCmEj4Yq2WB","answers_community":["B (84%)","A (16%)"],"isMC":true,"question_text":"Note: This question is part of a series of questions that present the same scenario. Each question in the series contains a unique solution that might meet the stated goals. Some question sets might have more than one correct solution, while others might not have a correct solution.\nAfter you answer a question in this section, you will NOT be able to return to it. As a result, these questions will not appear in the review screen.\nYou have an Azure subscription that contains the following resources:\n✑ A virtual network named Vnet1\n✑ A subnet named Subnet1 in Vnet1\n✑ A virtual machine named VM1 that connects to Subnet1\n✑ Three storage accounts named storage1, storage2, and storage3\nYou need to ensure that VM1 can access storage1. VM1 must be prevented from accessing any other storage accounts.\nSolution: You create a network security group (NSG) and associate the NSG to Subnet1.\nDoes this meet the goal?","unix_timestamp":1654173000,"question_images":[],"answer":"B","discussion":[{"content":"Assuming the NSG does not magically know what you're trying to do, we can assume the answer is no.","poster":"derrrp","upvote_count":"34","comment_id":"633117","timestamp":"1705608180.0"},{"poster":"tartarus23","upvote_count":"12","timestamp":"1704958440.0","content":"Selected Answer: B\nB. No\n\nI do not think it meets the goal since the NSG was not specific on what account or access it allowed or denied.","comment_id":"629838"},{"comment_id":"812138","upvote_count":"4","content":"Selected Answer: B\nB. No\n\nThis solution does not fully meet the goal.\n\nAlthough creating a network security group (NSG) and associating it to Subnet1 is a step in the right direction for securing network traffic, simply associating an NSG to a subnet does not restrict outbound traffic from VM1 to the storage accounts.\n\nTo ensure that VM1 can access storage1 and is prevented from accessing any other storage accounts, you need to apply a specific set of rules to the NSG. One way to achieve this is by configuring the NSG to allow outbound traffic only to storage1 and deny outbound traffic to all other storage accounts.\n\nSo, to fully meet the goal, you need to create an NSG, associate it to Subnet1, and then configure appropriate rules in the NSG to allow traffic from VM1 to storage1 and block traffic to all other storage accounts.","timestamp":"1723906560.0","poster":"omgMerrick"},{"comments":[{"upvote_count":"2","poster":"TJ001","timestamp":"1721558160.0","comment_id":"783264","content":"Creating service endpoint policy is a good idea"}],"poster":"TJ001","upvote_count":"1","comment_id":"783261","timestamp":"1721558100.0","content":"NSG wont help...we can define rules to deny/allow access to Storage service or a regional storage service by using service tags...but in this case the VM should access only one storage account... so NSG wont help here... Answer No"},{"timestamp":"1719709800.0","poster":"AzureJobsTillRetire","content":"Selected Answer: A\nHey guys, I think the answer might be A yes. I had this question in my exam in a group of three YES/NO questions. I passed the exam with a score of 900, which is not very high but enough. I thought that there would be one YES in the three questions, and if that is true, this one is the only one could be YES. We can either assume the NSG does not configure well and give it a NO, or assume the NSG is configured as it should be and give it a YES.","upvote_count":"2","comment_id":"761647","comments":[{"timestamp":"1720501500.0","content":"That's a pretty good score bro","poster":"Aunehwet79","upvote_count":"4","comment_id":"770101"},{"comment_id":"861160","timestamp":"1728051540.0","content":"All of these 3 questions would be a no. The simplest solution to this problem would be to implement a service endpoint for storage on the subnet that VM1 is on and then use a service endpoint policy to limit it to the storage1 resource only.\n\nSource: https://learn.microsoft.com/en-us/azure/virtual-network/virtual-network-service-endpoint-policies-overview","upvote_count":"3","poster":"wooyourdaddy"}]},{"comment_id":"717081","content":"it's too vague the solution so the answer is NO.","timestamp":"1715565480.0","upvote_count":"3","poster":"GohanF2"},{"timestamp":"1712957100.0","comment_id":"693386","upvote_count":"2","content":"Selected Answer: B\nit doesnt stipulate what is in the NSG, so assuming it is empty, in which case it will not do anything","poster":"Prutser2"},{"timestamp":"1711502160.0","poster":"BlackZeros","content":"Selected Answer: B\ndefault NSG will allow the traffic to still go out.","comment_id":"680234","upvote_count":"2"},{"poster":"Alessandro365","comment_id":"677336","content":"Selected Answer: B\nNo is correct","upvote_count":"2","timestamp":"1711222020.0"},{"comment_id":"651912","timestamp":"1708892520.0","poster":"azeem0077","upvote_count":"3","content":"Selected Answer: B\nJust adding an NSG won't do any change. So answer is B. Incase if the question also said that outbound and inbound rules are there in the NSG, then the answer may have been A."},{"content":"Selected Answer: B\nA NSG would do nothing without Rules. \n\nAlso if the Storage Accounts are public then you would need to set a Service Endpoint and then block it. This would affect all the storage accounts.\n\nWithout clarity this is cleared a NO.","comment_id":"648463","timestamp":"1708272000.0","upvote_count":"3","poster":"Jamesat"},{"poster":"jeffangel28","timestamp":"1707583080.0","comment_id":"645033","upvote_count":"3","content":"Selected Answer: B\nCorrect!, is not only create and associate NSG necessary!"},{"comment_id":"639397","timestamp":"1706575620.0","content":"Selected Answer: B\nB. No\nThis just creates a network security group and associates it to Subnet1. Further configuration is required.","upvote_count":"7","poster":"hogemax"},{"poster":"rac_sp","content":"extremely abstract the information provided in the question.","comment_id":"631035","upvote_count":"2","timestamp":"1705181640.0"},{"timestamp":"1704583020.0","content":"It happens only thru service endpoint policies using which u can restrict access to only one storage account.","upvote_count":"3","comment_id":"628116","poster":"Swetareddy"},{"upvote_count":"1","content":"Appeared on exam Jun/28/22","poster":"unclegrandfather","timestamp":"1703804460.0","comment_id":"624253"},{"timestamp":"1701527400.0","comment_id":"610591","content":"Selected Answer: A\nI think this will meet the goal.","poster":"BenH","upvote_count":"5","comments":[{"poster":"jeffangel28","upvote_count":"2","content":"explain how pls","timestamp":"1707582960.0","comment_id":"645032"},{"content":"A NSG by itself (with only default rules configured) won't work at all","timestamp":"1732815000.0","upvote_count":"1","poster":"Diazan","comment_id":"908714"}]}],"timestamp":"2022-06-02 14:30:00","answer_images":[],"choices":{"B":"No","A":"Yes"},"question_id":236,"url":"https://www.examtopics.com/discussions/microsoft/view/76500-exam-az-700-topic-4-question-14-discussion/","answer_ET":"B","topic":"4","answer_description":"","exam_id":58},{"id":"GiBMEqaCbVGClKLL856y","question_images":["https://www.examtopics.com/assets/media/exam-media/04253/0017900006.png"],"choices":{"B":"No","A":"Yes"},"answer_ET":"B","question_id":237,"discussion":[{"content":"Selected Answer: B\nthe service tag in a blanket rule can only deny all storage or permit all storage, it would have no further granularity","poster":"Prutser2","timestamp":"1681334820.0","comment_id":"693388","upvote_count":"8"},{"upvote_count":"1","content":"Could be done with an NSG and an Application Security Group.\n\nNSG rules:\nRule1 with Storage Service Tag. \n- Permit access for an ASG with all VMs required access to storage. \n- priority 100\nRule2 with Storage Service Tag. Deny any access to Storage. \n- priority 1000","comment_id":"1218864","timestamp":"1732619220.0","poster":"RemmyT"},{"content":"Selected Answer: B\ncorrect","timestamp":"1679872620.0","poster":"BlackZeros","upvote_count":"1","comment_id":"680236"},{"comment_id":"648464","content":"Selected Answer: B\nCorrect.\n\nI am assuming they mean to create an NSG rule with Storage Service Tag. Not sure whether they are denying access or not, however, this would apply to all Storage Accounts access via public endpoints.","upvote_count":"3","poster":"Jamesat","timestamp":"1676736240.0"},{"poster":"derrrp","comment_id":"633119","upvote_count":"1","timestamp":"1674072360.0","content":"No. This proposed solution does not mention any means of blocking VM1 from Storage2 and Storage3."},{"content":"Appeared on exam Jun/28/22","poster":"unclegrandfather","timestamp":"1672268460.0","upvote_count":"1","comment_id":"624255"}],"exam_id":58,"isMC":true,"answers_community":["B (100%)"],"topic":"4","question_text":"Note: This question is part of a series of questions that present the same scenario. Each question in the series contains a unique solution that might meet the stated goals. Some question sets might have more than one correct solution, while others might not have a correct solution.\nAfter you answer a question in this section, you will NOT be able to return to it. As a result, these questions will not appear in the review screen.\nYou have an Azure subscription that contains the following resources:\n✑ A virtual network named Vnet1\n\nA subnet named Subnet1 in Vnet1 -\n//IMG//\n\n✑ A virtual machine named VM1 that connects to Subnet1\n✑ Three storage accounts named storage1, storage2, and storage3\nYou need to ensure that VM1 can access storage1. VM1 must be prevented from accessing any other storage accounts.\nSolution: You create a network security group (NSG). You configure a service tag for Microsoft.Storage and link the tag to Subnet1.\nDoes this meet the goal?","answer_images":[],"answer":"B","timestamp":"2022-06-28 23:01:00","unix_timestamp":1656450060,"answer_description":"","url":"https://www.examtopics.com/discussions/microsoft/view/77179-exam-az-700-topic-4-question-15-discussion/"},{"id":"DnwXU2CmtB9zPirLnAHh","question_text":"You need to use Traffic Analytics to monitor the usage of applications deployed to Azure virtual machines.\nWhich Azure Network Watcher feature should you implement first?","choices":{"A":"NSG flow logs","C":"Connection monitor","B":"IP flow verify","D":"Packet capture"},"timestamp":"2022-09-27 01:21:00","isMC":true,"discussion":[{"upvote_count":"2","poster":"Lazylinux","content":"Selected Answer: A\nGiven answer is correct as it is one of the requirement for using the Traffic analytics","timestamp":"1727085660.0","comment_id":"1014800"},{"timestamp":"1708738620.0","comment_id":"819995","poster":"JennyHuang36","upvote_count":"4","content":"In exam Feb, 2023"},{"timestamp":"1705740720.0","upvote_count":"2","content":"Answer A\nEnable NSG Flog Logs. Part of the activity requires the below\n Requires a Log Analytics Workspace to enable Traffic Analytics Solution\n Storage account is needed to store NSG Flow Logs","poster":"TJ001","comment_id":"782030"},{"poster":"sapien45","timestamp":"1696178280.0","upvote_count":"4","content":"Selected Answer: A\nTraffic analytics examines raw NSG flow logs. It then reduces the log volume by aggregating flows that have a common source IP address, destination IP address, destination port, and protocol.\nReduced logs are enhanced with geography, security, and topology information and then stored in a Log Analytics workspace.","comment_id":"684348"},{"poster":"BlackZeros","timestamp":"1695770520.0","upvote_count":"2","comment_id":"680240","content":"https://learn.microsoft.com/en-us/azure/network-watcher/traffic-analytics\nNSG Flow Logs are the key component"},{"poster":"BlackZeros","timestamp":"1695770460.0","upvote_count":"1","comment_id":"680239","content":"Selected Answer: A\nA seems to be the correct answer."}],"answer":"A","answers_community":["A (100%)"],"exam_id":58,"answer_images":[],"answer_ET":"A","answer_description":"","topic":"4","question_id":238,"unix_timestamp":1664234460,"url":"https://www.examtopics.com/discussions/microsoft/view/83743-exam-az-700-topic-4-question-16-discussion/","question_images":[]},{"id":"EoqggZodKIaSP0gmUncG","discussion":[{"timestamp":"1663956600.0","upvote_count":"15","comment_id":"677363","comments":[{"comment_id":"825701","content":"But being that is requested the configuration of the ASG only on the SQL vm's to minimize administrative effort the answer should be halfed: \n4 asg = 2 (onlysql)\n6 assigments per nic = 3 (only sql)","timestamp":"1677664800.0","upvote_count":"2","poster":"Ayokun"},{"timestamp":"1677664620.0","comment_id":"825699","upvote_count":"1","content":"Hence being the ASG associated per NIC it should be 6 the second answer.","poster":"Ayokun"}],"poster":"Alessandro365","content":"2 ASGs e 3 assignments, aswer is correct.\n\n\"All network interfaces assigned to an application security group have to exist in the same virtual network that the first network interface assigned to the application security group is in.\"\nhttps://learn.microsoft.com/en-us/azure/virtual-network/application-security-groups\n\n\nthe ASG needs to be associated with the network card of the VMs, so there are 3 associations"},{"upvote_count":"11","comments":[{"upvote_count":"4","comment_id":"859659","timestamp":"1680508680.0","content":"Yes, but question also says: \"block traffic from SQL Server 2019 to IIS\". With your ASG for IIS you deny any kind of instance / service to access IIS.","comments":[{"timestamp":"1689894900.0","upvote_count":"1","content":"I think it would be:\n\nVNET 2: Create 1 ASG for SQL inbound deny and assign to IIS NIC.","comments":[{"timestamp":"1689894900.0","comment_id":"957937","poster":"Ditka","content":"Total 2 ASGs and 2 ASG assignments.","upvote_count":"1"},{"poster":"ironbornson","content":"On SQL Traffic will use a random source port and dst-port 80,443. If you apply an ASG to IIS you will have no way to identify if traffic is coming from SQL or not. The only way to block VM-SQL to VM-IIS is to create a rule blocking ASG for VM-SQL like this:\nDirection: outbound, Source:ASG-VM, Dst: (you can put IIS IP or IIS ports), Action: deny\n\nTL;DR: 2 ASG and 3 assignments","comment_id":"1028204","upvote_count":"2","timestamp":"1696786380.0"}],"comment_id":"957935","poster":"Ditka"}],"poster":"Apptech"},{"comment_id":"1097694","poster":"Rododendron2","content":"Not correct due to not correctly understood Qeuestion. Once again - Question is looking for minimum administrative effort, not for minimal number of ASG/assignments.","timestamp":"1702673820.0","upvote_count":"1"}],"comment_id":"829608","content":"2 ASG and 2 ASG assignments\n\nThe question is looking for minimum.\n\nVNET 1:\nCreate 1 ASG for SQL. Create outbound deny rule and assign to SQL1 Nic\n\nVNET2: Create 1 ASG for IIS. Create inbound deny rule and assign to Web3 Nic","timestamp":"1677988020.0","poster":"keilah123"},{"content":"Correct answer: \n- 2 AGSs - an application security group can be assigned at the level of the VNet. We have 2 VNets, so 2 ASGs. https://www.cayosoft.com/azure-security-best-practices/azure-application-security-group/\n- 3 assignments - we have 3 IIS resources, so we need to assign 3 NICs to the ASGs, so we need to block each of them from reaching SQL with a deny NSG rule per ASG","comment_id":"1559812","timestamp":"1744358400.0","poster":"xRiot007","upvote_count":"1"},{"timestamp":"1726762680.0","upvote_count":"1","comment_id":"1286529","content":"One ASG ( all SQL VM) per vnet. in each Web VM's NSG (3 IIS Nic) you need to assign that ASG.","poster":"0dc759b"},{"comment_id":"1189226","timestamp":"1712225400.0","poster":"_cloudio_","content":"1 ASG and 2 assignments.\n\nExplanation:\n\nVnet 1 does not need ASG because there's only 1 SQL server, so there's no point in creating ASG.\n\nVnet 2 has 2 SQL servers that need to be added to 1 ASG. So, 2 assignments (1 for each SQL server), and 1 ASG.","upvote_count":"1"},{"timestamp":"1710728940.0","content":"https://learn.microsoft.com/en-us/azure/virtual-network/application-security-groups#:~:text=You%20can%27t%20add%20network%20interfaces%20from%20different%20virtual%20networks%20to%20the%20same%20application%20security%20group.","poster":"jayek","upvote_count":"1","comment_id":"1176208"},{"timestamp":"1706887800.0","comment_id":"1138674","poster":"CiscoExam","upvote_count":"1","content":"2 ASGs and 6 Assignments\nASGs are per Resource Group and not per VNET. So, one for each app type (iis & sql)\nThere are 6 VMs. Each NIC needs to be told what ASG it's part of. Then one NSG applied to both VNETs with one rule. Src-SQL-ASG ; Dst-IIS-ASG ; Deny"},{"comments":[{"upvote_count":"1","comment_id":"1161958","content":"then subnet level NSGs with inbound rule (source SQL application group -> dst any > deny)\nShoudln't this be:\nthen subnet level NSGs with inbound rule (source SQL application group -> dst IIS Subnets > deny )?","timestamp":"1709149800.0","poster":"cerifyme85"}],"content":"2 ASG / 3 assignments:\n\n1x ASG for vnet1/sql\n1x ASG for vnet2/sql\n\nnow assignments:\n1) 1st sql server in vnet1\n2) 1st sql server in vnet 2\n3) 2nd sql server in vnet 2 \n\nthen subnet level NSGs with inbound rule (source SQL application group -> dst any > deny)","comment_id":"1112200","upvote_count":"7","poster":"Webesciaki","timestamp":"1704224520.0"},{"content":"2 & 3\nkey word is \"minimize administrative effort\", and remember goal is to block sql.\nso work only with outbound rule applied to SQL server, when building the rule will'have the tcp-80, doesn't matter which destination (use any), for sure IIS server are in.\nin this case 2 ASG (1 each vnet) for sql are required and 3 ssignment (1 each sql server nic).","poster":"occupatissimo","timestamp":"1683537960.0","upvote_count":"3","comment_id":"891964","comments":[{"timestamp":"1684416180.0","upvote_count":"2","content":"or think in this way too\ncommunication between vnet is deny due to degault rule in nsg, so only to block traffic between subnet in the sane vnet. Assuming in the sql subnet the source as any and the dest the ASG necessary is for web server only, tis in each vnet, so 2 ASG in total.\nAssociate then the three web server nics to them.","comment_id":"901237","poster":"occupatissimo"}]},{"poster":"guchao2000","comment_id":"849704","timestamp":"1679702700.0","content":"NSG and ASG can be used in different vnet. Tested.","upvote_count":"3"},{"content":"it's only required : from SQL Server 2019 to IIS. what about these 3 ASG assignments:\n(Source=Vnet1/Sub1/SQL, Destination=Vnet1/Sub1/IIS, Access=Deny)\n(Source=Vnet2/Sub1/SQL, Destination=Vnet2/Sub1/IIS, Access=Deny)\n(Source=Vnet2/Sub2/SQL, Destination=Vnet2/Sub1/IIS, Access=Deny)","upvote_count":"3","timestamp":"1679594820.0","comment_id":"848534","poster":"iVath"},{"comments":[{"poster":"TJ001","comment_id":"782046","upvote_count":"4","timestamp":"1674206400.0","content":"it appears the option does not have an ideal set up and it looks it is only considering attaching ASG to SQL component in which case ....we could half the consideration above to conclude the answers as 2 ASG and 3 assignments ...not elegant/scalable approach but will have go with that"}],"upvote_count":"1","content":"No of ASGs [ANS 4 ] - So there are 2 VNETs, 2 types of applications in both VNET one of type IIS and one of type SQL. The best practice is to use ASG assignment for both app types... which means 2 ASGs per VNET = 4 ASGs required. Note ASG cannot reference multiple VNETs\n2)No of associations [Ans 6] ? - The assignment is at subnet level, so we could do add either an outbound rule for SQL server subnet or an inbound rule at IIS server subnet or both .. Assume we are adding only one rule (either inbound or outbound) and the question asks minimum no of assignments \n - In VNET 1 add an outbound rule for Subnet 1 to deny traffic from SQL ASG to IIS ASG\n - In VNET 2 add an inbound rule for Subnet 1 to deny traffic from SQL ASG to IIS ASG\nso 1 NSG rule per VNET is sufficient to introduce the control.. To meet this solution the ASG needs to associated to all the VMs in all VNET ... so total 6 associations is needed (if by 'association' it means attaching ASG to VM NIC)","comment_id":"782044","poster":"TJ001","timestamp":"1674206220.0"},{"upvote_count":"3","content":"I think you must create one ASG for all IIS NIC's and one NSG on al SQL server NICs \nIn the NSG Block all outgoing traffic to IIS ASG. (You need only to block traffic from SQL Server 2019 to IIS)\n1 ASG (for all IIS NICS)\n1 NSG (for all SQL NICs)\nIt's not a pretty solution, but with the least administrative effort","comments":[{"comment_id":"772575","upvote_count":"1","timestamp":"1673444040.0","content":"If all network interfaces assigned to an application security group have to exist in the same virtual network that the first network interface assigned to the application security group is in. You need 2 ASG's","poster":"Goofer"}],"comment_id":"772572","timestamp":"1673443860.0","poster":"Goofer"},{"poster":"mhmyz","comments":[{"poster":"Goofer","comment_id":"772545","upvote_count":"2","timestamp":"1673442960.0","comments":[{"upvote_count":"1","content":"NSG's can be assigned at the NIC level.","comment_id":"840116","timestamp":"1678901760.0","poster":"palthainon"}],"content":"How do you block traffic between Web1 and SQL1. They are on the same subnet."}],"upvote_count":"4","comment_id":"758231","timestamp":"1672125300.0","content":"2 ASGs\nHow to make the IIS side (receiving side) an application group,\nHow to make the SQL side (sending side) an application group\nThere are two, and both methods create one application group for each VNET, so there are two application groups.\n\n2 Assignments\nIn VNET1, the IIS side is set as an application group, and transmission to the IIS application group can be suppressed in the transmission traffic of Subnet1 or NIC of SQL1.\nIn VNET2, the SQL side is set as an application group, and reception to the IIS application group should be suppressed in the reception traffic of Subnet1 or NIC of Web3."},{"comment_id":"744482","timestamp":"1670968320.0","upvote_count":"6","content":"Confuse answer, the correct answer is to have 2 ASG and 3 associations per VNET, in this case, there are 2 VNETs. Total 4 ASG and 6 associations, one association per VM","comments":[{"timestamp":"1674206520.0","upvote_count":"3","comment_id":"782049","poster":"TJ001","comments":[{"timestamp":"1689560580.0","poster":"daemon101","upvote_count":"1","comment_id":"953785","content":"I also agree. If only vnet1 contains IISs and Vnet2 has SQL then it will only need two ASGs."}],"content":"agree but the options does not have 4 ASG"}],"poster":"NoeHdzMll"},{"poster":"Prutser2","content":"answer is correct","upvote_count":"4","timestamp":"1665610440.0","comment_id":"693391"},{"poster":"sapien45","comment_id":"684366","timestamp":"1664643960.0","upvote_count":"4","content":"By network security group assigement, they mean how many Microsoft SQL servers assigned within an Application secuirty grroup"}],"answer_description":"Box 1: 2 -\nAll network interfaces assigned to an application security group have to exist in the same virtual network that the first network interface assigned to the application security group is in.\nWe need one application security group for each of the two virtual networks.\n\nBox 2: 3 -\nOne network assignment in VNet1. Two network assignments in VNET2.\nReference:\nhttps://docs.microsoft.com/en-us/azure/virtual-network/application-security-groups","answer_ET":"","question_images":["https://www.examtopics.com/assets/media/exam-media/04253/0018100001.png","https://www.examtopics.com/assets/media/exam-media/04253/0018200001.png"],"exam_id":58,"answers_community":[],"question_text":"HOTSPOT -\nYou have an Azure subscription that contains the virtual machines shown in the following table.\n//IMG//\n\nVNet1 and VNet2 are NOT connected to each other.\nYou need to block traffic from SQL Server 2019 to IIS by using application security groups. The solution must minimize administrative effort.\nHow should you configure the application security groups? To answer, select the appropriate options in the answer area.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","answer_images":["https://www.examtopics.com/assets/media/exam-media/04253/0018200002.jpg"],"unix_timestamp":1663956600,"timestamp":"2022-09-23 20:10:00","question_id":239,"answer":"","url":"https://www.examtopics.com/discussions/microsoft/view/83345-exam-az-700-topic-4-question-17-discussion/","isMC":false,"topic":"4"},{"id":"v9ySds82q221RGHzHhn3","url":"https://www.examtopics.com/discussions/microsoft/view/78663-exam-az-700-topic-4-question-18-discussion/","answer_images":["https://img.examtopics.com/az-700/image579.png"],"question_id":240,"exam_id":58,"topic":"4","discussion":[{"comment_id":"654945","timestamp":"1661938860.0","poster":"Sheriboy","upvote_count":"97","content":"should be N,N, Y\n\n1) Inbound rule on subnet1 will deny\n2) Inbound rule on subnet2 will deny\n3) No rule on VM3 so it would allow connections","comments":[{"upvote_count":"2","comment_id":"1337984","content":"2) which is the inbound rule blocking on subnet 2 exactly?","timestamp":"1736348700.0","poster":"manhattan"},{"upvote_count":"2","comment_id":"1229398","poster":"CharlesS76","content":"3) In correct reason: VM3 is on subnet2 which has NSG2 applied. \"NSG2 has only the default rules configured.\" Default rules allow traffic within the vNET, this is why the answer is YES.","timestamp":"1718214720.0"},{"poster":"EdinaldoJunior1981","comment_id":"744014","content":"N,N,Y correct","upvote_count":"1","timestamp":"1670935740.0"},{"timestamp":"1662154620.0","upvote_count":"1","poster":"Cristoicach91","content":"correct.","comment_id":"657854"},{"poster":"AWSAZ0","comment_id":"753419","upvote_count":"4","content":"N,N,Y Agree, and I tested it in the LAB using ICMP","timestamp":"1671721800.0"},{"timestamp":"1663965300.0","comment_id":"677432","content":"Disagree.. Should be N Y Y","comments":[{"comments":[{"timestamp":"1706360280.0","upvote_count":"1","comment_id":"1133350","content":"if that's the case then NNY is correct answer","poster":"Faridtnx"}],"content":"it should be N N Y. \n\nIntra-Subnet traffic - It's important to note that security rules in an NSG associated to a subnet can affect connectivity between VMs within it.\n\nhttps://learn.microsoft.com/en-us/azure/virtual-network/network-security-group-how-it-works#intra-subnet-traffic","timestamp":"1689562080.0","upvote_count":"4","poster":"daemon101","comment_id":"953792"}],"upvote_count":"18","poster":"mav3r1ck"},{"timestamp":"1663270020.0","upvote_count":"10","content":"Agree but explanation for #2 is incorrect they are both (VM1 and VM2) in subnet 1 so they are effected by NSG1 attached to subnet 1.","comment_id":"670260","comments":[{"comment_id":"690697","poster":"Prutser2","timestamp":"1665375000.0","content":"correct intra subnet traffic can be effected by an NSG associated with that subnet as per:\nntra-Subnet traffic\nIt's important to note that security rules in an NSG associated to a subnet can affect connectivity between VMs within it. By default, virtual machines in the same subnet can communicate based on a default NSG rule allowing intra-subnet traffic. If a rule is added to *NSG1 that denies all inbound and outbound traffic, VM1 and VM2 will no longer be able to communicate with each other.\nhttps://learn.microsoft.com/en-us/azure/virtual-network/network-security-group-how-it-works#intra-subnet-traffic so NNY","upvote_count":"15"}],"poster":"Chriscrown"}]},{"comment_id":"676299","timestamp":"1663860060.0","comments":[{"timestamp":"1736834100.0","upvote_count":"1","comment_id":"1340185","content":"Intra-Subnet traffic\nIt's important to note that security rules in an NSG associated to a subnet can affect connectivity between VMs within it. By default, virtual machines in the same subnet can communicate based on a default NSG rule allowing intra-subnet traffic. If you add a rule to NSG1 that denies all inbound and outbound traffic, VM1 and VM2 won't be able to communicate with each other.","poster":"0af6e8e"},{"poster":"davidkerr7","upvote_count":"14","timestamp":"1664329560.0","comment_id":"681337","content":"2) is wrong \n\"It's important to note that security rules in an NSG associated to a subnet can affect connectivity between VM's within it.\""}],"poster":"charlesr1700","content":"N, inbound rule on subnet one will deny\nY, Communication within the same subnet does not go through an NSG, so nothing blocking\nY, Standard rules do not block vNet to vNet communication unless explicit.","upvote_count":"36"},{"timestamp":"1738285980.0","poster":"bobothewiseman","comment_id":"1349345","upvote_count":"1","content":"NNY\n\nVM3 can connect to VM1 on port 8080? ❌ No\n 2. VM1 and VM2 can connect on port 9090? ❌ No\n 3. VM1 can connect to VM3 on port 9090? ✅ Yes"},{"upvote_count":"1","comment_id":"1198957","content":"NNY\n\n1 and 2 Inbound rule deny because of NSG 1 assigned to Subnet 1 \nand Default Inbould Rule is allowVnet any to any so, Vm1 can connect to Vm3 by default","poster":"Aydin","timestamp":"1713591240.0"},{"content":"3) NSG Default inbound rule include DenyAllInBound rule. So this answer is No.","comments":[{"poster":"BJack","timestamp":"1721812860.0","upvote_count":"1","comment_id":"1254278","content":"DenyAllInBound is, by default, the lowest priority rule. The default higher priority rule, AlowVnetInBound, allows all traffic between Virtual Networks, therefore 3 = Yes."}],"upvote_count":"1","poster":"hogehogehoge","comment_id":"1062423","timestamp":"1699136400.0"},{"poster":"GBAU","timestamp":"1698361680.0","content":"N,N,Y\n\nLab confirmed: Virtual Network 200 * Deny rule blocks both:\n-VM1 to VM2\n-VM3 to VM1\n\nRemove that rule and connectivity is restored\n\nGood to know, as I had thought the NSG applied to a SN only worked on the ingress and egress of the SN, but it also can work within the SN itself. Maybe I am remembering back to my AWS networking, or just imagining things.\n\nI don't think anyone is disputing VM1->VM3 = Y","comment_id":"1054962","upvote_count":"2"},{"timestamp":"1695631440.0","comment_id":"1016624","poster":"Lazylinux","upvote_count":"1","content":"NNY\n * Inbound rule on subnet1 will deny\n* Inbound rule on subnet2 will deny - remember the scope is the whole vNET\n* No rule on VM3 and default rule allows for vNET communication without restrictions","comments":[{"upvote_count":"1","poster":"xRiot007","timestamp":"1744358880.0","content":"The scope of NSG2 is subnet2 and nothing more. \nThe scope of NSG1 is subnet1 and nothing more. \nVM3 can connect to VM2 using default NSG2 on subnet2 because the default rule to allow inbound VNet is higher than the default deny rule. https://learn.microsoft.com/en-us/azure/virtual-network/manage-network-security-group?tabs=network-security-group-portal#view-details-of-a-network-security-group","comment_id":"1559816"}]},{"content":"NNY\n\"If you add a rule to NSG1 that denies all inbound and outbound traffic, VM1 and VM2 won't be able to communicate with each other.\" \nhttps://learn.microsoft.com/en-us/azure/virtual-network/network-security-group-how-it-works#intra-subnet-traffic","comment_id":"963172","upvote_count":"1","poster":"Billabongs","timestamp":"1690325520.0"},{"poster":"UR","content":"NNY\nRef for #2:\nhttps://learn.microsoft.com/en-us/azure/virtual-network/network-security-group-how-it-works#intra-subnet-traffic","comment_id":"948619","upvote_count":"1","timestamp":"1689044040.0"},{"poster":"Rivaillexd07","upvote_count":"3","content":"I think the best answer is N,N,N\n\nthe first two are already very clear, about the last one, it is said that the NSG2 has default rules, nothing is said about port 9090 released, so, based on this, access would be denied. Anyone else agree?","comment_id":"944517","comments":[{"timestamp":"1688717700.0","content":"I'm sorry guys I read again the question is the right answer is N,N and Y communication between subnets is released by default, NSG2 is using default rules.","upvote_count":"1","poster":"Rivaillexd07","comment_id":"945487"}],"timestamp":"1688638440.0"},{"timestamp":"1685635380.0","upvote_count":"1","content":"1. N — VM3 is trying to access VM1 through port 8080 and port 8080 not in allowed port list of NSG1\n2. N — VM1 and VM2 tryin to talk with each other. Even though the are on the same subnet the NSG1 deny rule will include port 9090\n3. Y — VM1 and VM3 can have connection NSG1 will not affect any outbound connection. \n\nNSG 1 is applied inbound and which means it affect connections that comes Subnet 1 only. The only allowed port is http (80) and https (443) and the rest is blocked. Any connection going out side of Subnet 1 is allowed. VM1 and VM2 will be affected by NSG1 because they are under Subnet1. NG2 will not affect anything because only default rules are configured.","poster":"ABIYGK","comment_id":"912248"},{"upvote_count":"1","poster":"ABIYGK","timestamp":"1685634360.0","content":"The answer should be\nN\nN\nY","comment_id":"912235"},{"comment_id":"869784","upvote_count":"1","poster":"MrBlueSky","content":"I re-created this in a lab and can confirm that the VMs could not communicate with one another even though they are in the same subnet. As others have discussed and provided the link for... NSGs are still used for intra-subnet communication. \n\nAnswer is NNY","timestamp":"1681421940.0"},{"upvote_count":"1","comment_id":"865326","content":"I would go with N,N,Y as described,\"By default, virtual machines in the same subnet can communicate based on a default NSG rule allowing intra-subnet traffic. If a rule is added to *NSG1 that denies all inbound and outbound traffic, VM1 and VM2 will no longer be able to communicate with each other.\" With NSG1 having custom rules, intra-communication is defined by the rules.","timestamp":"1681022640.0","poster":"faeem"},{"timestamp":"1680509700.0","poster":"Apptech","upvote_count":"3","content":"should be NYN\n1. Inbound rule on subnet1 will deny\n2.By default, virtual machines in the same subnet can communicate based on a default NSG rule allowing intra-subnet traffic. (https://learn.microsoft.com/en-us/azure/virtual-network/network-security-group-how-it-works#intra-subnet-traffic)\n3. VM3 has default rule as the text states. DenyAllInbound is the default vor NSG. See here: https://learn.microsoft.com/en-us/azure/virtual-network/network-security-groups-overview","comment_id":"859673","comments":[{"content":"\"By default, virtual machines in the same subnet can communicate based on a default NSG rule allowing intra-subnet traffic\" - unless a rule to block them exists, which it does, so 2 is NO. \n\n3 is Yes because the there is a default rule to allow inbound vnet higher than deny all inbound.","timestamp":"1744359060.0","upvote_count":"1","comment_id":"1559817","poster":"xRiot007"},{"content":"NYN is correct. However, it is strange that nobody noticed that NSG2 is not associated with any subnet or NIC","timestamp":"1737817140.0","upvote_count":"1","comment_id":"1346516","poster":"Sergovladi"},{"poster":"farajcmm","comment_id":"1238860","content":"i agree NYN","timestamp":"1719601740.0","upvote_count":"1"}]},{"upvote_count":"3","comment_id":"838646","poster":"Libaax01","content":"VM3, which is part of Subnet 2, can not connect to port 8080 on VM1, because we have inbound rule that denies all ports accept port 80 and 443. so, the answer is No! \n\nVM1 and VM2 are on the same subnet and by default inbound rules within a virtual network are allowed, however we NSG with a lower priority(200) over riding the default allowed rule which is priority 65000. So the Answer is NO! \n\nVM1 is on Subnet 1 and VM3 is on Subnet 2, and outbound communication by default between subnets in the same virtual network is allowed and the question states NSG2 has only the default rules configured. so the answer is YES!\n\nN\nN\nY","timestamp":"1678782660.0"},{"timestamp":"1676764260.0","comment_id":"813586","content":"It should be N,N, Y","upvote_count":"2","poster":"samir111"},{"content":"N,N,Y .... NSG1 is incomplete there is no reference to Destination...(assumed it is Subnet1)","timestamp":"1674207300.0","comment_id":"782056","upvote_count":"1","poster":"TJ001"},{"comment_id":"769231","content":"https://www.youtube.com/watch?v=flCoRc1uv9o","upvote_count":"1","timestamp":"1673169360.0","poster":"Goofer"},{"timestamp":"1670970600.0","poster":"NoeHdzMll","content":"That is correct N,N,Y\n1)Inbound rule on subnet 1\n2)Inbound rule also applied intraVNET traffic\n3) The NSG is stateful and with no inbound rule the connection is working","upvote_count":"2","comment_id":"744501"},{"content":"I think the answer is N, N, N.\n1 - Inbound rule on subnet1 will deny\n2 - Inbound rule on subnet2 will deny\n3 - Traffic sourced from the virtual network for any port deny. The NSG is a stateful firewall and an inbound rule created on it automatically creates the same outbound rule.","upvote_count":"5","timestamp":"1670474880.0","poster":"Nisha318","comment_id":"738626"},{"upvote_count":"6","content":"1. VM3 is attached to subnet; which has default outband connection. However, VM1 has NSG that denies traffic in any ports except 80 and 443 from any IP address. But, communication from Virtual network is set to Deny so, the answer here is NO \n\n2. VM1 and VM2 belongs to the same subnet 1 and each of them has default Outbound policy rule that will allow the traffic but Inbound is restricted for any port except 80 and 443. So, answer here is NO\n\n3. VM1 cancommunicate to VM3 due that there is no restriction in Outbbound policy for NGSG1 and no restrictions for NSG2 inbound. So, answer here is YES. \n\nNO\nNO \nYES","comment_id":"717088","timestamp":"1668313080.0","poster":"GohanF2"},{"timestamp":"1666718760.0","poster":"mr_slow","comment_id":"704060","upvote_count":"4","content":"Tested in lab,\n\n1. VM3 can connect to port 8080 on VM1 : false, UserRule_DenyVirtualNetworkInbound\n2. VM1 and VM2 can connect on port 9090: false, UserRule_DenyVirtualNetworkInbound\n3. VM1 can connect to VM3 on port 9090: true"},{"comment_id":"703013","timestamp":"1666615080.0","poster":"Syldana","content":"N, inbound rule on subnet one will deny\nY, Communication within the same subnet does not go through an NSG, so nothing blocking\nY, Standard rules do not block vNet to vNet communication unless explicit.","upvote_count":"2"},{"comment_id":"693163","poster":"GiorgioLDN","timestamp":"1665584760.0","upvote_count":"5","content":"The correct answer is N,Y,Y. Let me explain why.\nNSG1 basically allows all traffic towards subnet 1 on ports 80 and 443. It will block everything else.\n\n1. VM3 will be allowed to access VM1 on any port outbound on NSG2. VM3 will be blocked by NSG1 inbound since it is trying to access port 8080.\n2. VM1 and VM2 can connect on any port between themselves since they are communicating inside the subnet. Thus the answer is yes.\n3. Since NSG2 has the default rules applied, it means that Subnet2 can accept traffic from any subnet within the VNET. Thus the answer is Yes."},{"poster":"smosmo","content":"N,N,Y \nSee here, especially for Box 2","comment_id":"686802","upvote_count":"3","timestamp":"1664967780.0"},{"content":"NNY\nVM1 and VM2 are in subnet1, they are prohibited from communicating on other ports than 80 and 443\nVM3 is in subnet2, default AllowVNetInBound and AllowVnetOutBound apply.","upvote_count":"4","poster":"sapien45","timestamp":"1664645040.0","comment_id":"684379"},{"poster":"BlackZeros","upvote_count":"4","comment_id":"680242","timestamp":"1664235000.0","content":"Answer is No, Yes and Yes"},{"timestamp":"1663654800.0","poster":"DGladiator","comments":[{"content":"you are correct: https://learn.microsoft.com/en-us/azure/virtual-network/network-security-group-how-it-works#intra-subnet-traffic","comments":[{"upvote_count":"1","comment_id":"957941","timestamp":"1689895440.0","content":"The first paragraph literally explains that they won't be able to communicate.\n\nIt's important to remember that an NSG is enforced at the NIC regardless of where it is configured. Creating an \"any\" or \"vnet\" rule will affect all machines within the subnet and vnet.","poster":"Ditka"}],"upvote_count":"2","comment_id":"673854","poster":"DGladiator","timestamp":"1663655160.0"}],"upvote_count":"3","content":"shouldnt 2 be YES, since the 2 VM's are in the same subnet and the NSG is attached at the Subnet level?","comment_id":"673852"}],"answer_description":"","answer_ET":"","unix_timestamp":1661938860,"timestamp":"2022-08-31 11:41:00","question_images":["https://www.examtopics.com/assets/media/exam-media/04253/0018300001.jpg","https://www.examtopics.com/assets/media/exam-media/04253/0018300002.jpg","https://www.examtopics.com/assets/media/exam-media/04253/0018400001.jpg","https://www.examtopics.com/assets/media/exam-media/04253/0018400002.jpg"],"question_text":"HOTSPOT -\nYou have an Azure virtual network that contains the subnets shown in the following table.\n//IMG//\n\nIn.NSG1, you create inbound rules as shown in the following table.\n//IMG//\n\nNSG2 has only the default rules configured.\nYou have the Azure virtual machines shown in the following table.\n//IMG//\n\nFor each of the following statements, select Yes if the statement is true. Otherwise, select No.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","answer":"","isMC":false,"answers_community":[]}],"exam":{"lastUpdated":"12 Apr 2025","isImplemented":true,"provider":"Microsoft","name":"AZ-700","isMCOnly":false,"id":58,"numberOfQuestions":351,"isBeta":false},"currentPage":48},"__N_SSP":true}