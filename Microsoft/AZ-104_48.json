{"pageProps":{"questions":[{"id":"0GXPv1pAXopoyKf7hl9e","discussion":[{"content":"NYY\nVNET is created by default but we can connect to an existing VNET\n\"you can create an AKS cluster that uses kubenet and connect to an existing virtual network subnet\"\n\"With kubenet, a route table must exist on your cluster subnet(s). AKS supports bringing your own existing subnet and route table.\"\nhttps://learn.microsoft.com/en-us/azure/aks/configure-kubenet","timestamp":"1678843920.0","comments":[{"timestamp":"1679522040.0","content":"Agree with the answer NYY. explaination as follows\n1. N subnet is not in the same location as cluster \"If you want to select an existing virtual network, make sure it's in the same location and Azure subscription as your Kubernetes cluster.\"\nhttps://learn.microsoft.com/en-us/azure/aks/configure-azure-cni\n2. Y azure cni network in same loacation as cluster and within the total pod no. limit \n3. Y \"Bring your own subnet and route table with kubenet .With kubenet, a route table must exist on your cluster subnet(s). AKS supports bringing your own existing subnet and route table.\"\nhttps://learn.microsoft.com/en-us/azure/aks/configure-kubenet#prerequisites","upvote_count":"32","poster":"madao322","comment_id":"847551","comments":[{"upvote_count":"1","poster":"[Removed]","content":"When you create and use your own VNet and route table with the kubenet network plugin, you need to use a user-assigned control plane identity. For a system-assigned control plane identity, you can't retrieve the identity ID before creating a cluster, which causes a delay during role assignment.\n\nBoth system-assigned and user-assigned managed identities are supported when you create and use your own VNet and route table with the Azure network plugin. We highly recommend using a user-assigned managed identity for BYO scenarios.","timestamp":"1697787420.0","comment_id":"1048506"}]},{"poster":"obaali1990","upvote_count":"13","content":"Your explanation is not clear","comment_id":"845229","timestamp":"1679345280.0"}],"upvote_count":"24","comment_id":"839440","poster":"ltson1"},{"upvote_count":"8","comment_id":"838710","timestamp":"1678788120.0","poster":"Doman01","comments":[{"upvote_count":"4","timestamp":"1681321560.0","comment_id":"868655","content":"Exactly in the same doc you linked:\n\"As a compromise, you can create an AKS cluster that uses kubenet and connect to an existing virtual network subnet. This approach lets the nodes receive defined IP addresses, without the need to reserve a large number of IP addresses up front for all of the potential pods that could run in the cluster.\"","poster":"Driede"},{"timestamp":"1679537640.0","upvote_count":"7","comment_id":"847695","comments":[{"upvote_count":"2","poster":"Renss78","timestamp":"1680068700.0","comment_id":"854046","content":"You are right!\n\nKubenet (basic) networking\n\nThe kubenet networking option is the default configuration for AKS cluster creation. With kubenet:\n\n Nodes receive an IP address from the Azure virtual network subnet.\n Pods receive an IP address from a logically different address space than the nodes' Azure virtual network subnet.\n Network address translation (NAT) is then configured so that the pods can reach resources on the Azure virtual network.\n The source IP address of the traffic is translated to the node's primary IP address.\n\nhttps://learn.microsoft.com/en-us/azure/aks/concepts-network#kubenet-basic-networking"}],"poster":"djgodzilla","content":"Agree .\n- Kubenet is a NAT style networking allowing access to pods through translation node interfaces/VIPs and ports \n- CNI provides dedicated Network interfaces for Pods integrating Azure VNETs\n\n1. NO = is CNI but Region of the VNET2 is not the same than the one of AKS1 \n2. YES = is CNI and VNET1 region is the same than AKS2\n3. NO = uses kubenet is an internal network piece that doesn't require VNETs"}],"content":"1. NO\n2. YES\n\nIt is because https://learn.microsoft.com/en-us/azure/aks/configure-azure-cni \n\n\"If you want to select an existing virtual network, make sure it's in the same location and Azure subscription as your Kubernetes cluster\"\n\n3. NO - https://learn.microsoft.com/en-us/azure/aks/configure-kubenet\n\n\"By default, AKS clusters use kubenet, and an Azure virtual network and subnet are created for you.\""},{"content":"Correct.\n\nGeneral rule. AKS cluster and VNet must be in same region. Resources in difference resource groups can interact. AKS can use either CNI or Kubenet for networking.","comment_id":"1410232","poster":"70ec7c1","timestamp":"1742956020.0","upvote_count":"1"},{"comment_id":"1319517","timestamp":"1732847400.0","upvote_count":"6","poster":"danlo","content":"Please remove question!! AKS is not in AZ-104 Skills measured!!"},{"comment_id":"1312667","upvote_count":"2","content":"No -- Vnet loaction and AKS loacation should be same\nYes - Vnet is in the same location and have enough IP address. (Each node requires 31 IP atleast )\nYes - Vnet is in the same location. Subnet has enough number of IP (each node requires only one IP) \nhttps://learn.microsoft.com/en-us/azure/aks/configure-kubenet#ip-address-availability-and-exhaustion","poster":"RVivek","timestamp":"1731681360.0"},{"timestamp":"1730559300.0","content":"Does this still come up on the exam","upvote_count":"1","poster":"1d07c8e","comment_id":"1306201"},{"comment_id":"1278933","poster":"[Removed]","content":"CORRECT","timestamp":"1725540360.0","comments":[{"upvote_count":"1","comment_id":"1280432","timestamp":"1725805380.0","poster":"[Removed]","content":"The regions must be the same"}],"upvote_count":"2"},{"upvote_count":"7","timestamp":"1721931600.0","comment_id":"1255173","content":"You should not care about Kubernetes, there won't be any question as for the exam preparation guide of AZ104","poster":"CheMetto"},{"timestamp":"1720363140.0","upvote_count":"1","poster":"Matsane","comment_id":"1243883","content":"No3: No, \n\nyou cannot deploy AKS3 to VNet3 as it is currently configured.\nThe subnet IP address range of VNet3 (10.3.0.0/24) is not large enough to support the deployment of AKS3 with 50 nodes. The recommended subnet size for an AKS cluster with 50 nodes is at least /19 (8192 IP addresses).\nTo deploy AKS3 to VNet3, you would need to:\nCreate a new subnet with a larger IP address range (e.g. /19) within VNet3.\nUpdate the network configuration of AKS3 to use the new subnet.\nOnly then can you successfully deploy AKS3 to VNet3."},{"upvote_count":"1","poster":"Amir1909","timestamp":"1711050420.0","content":"Given answer is right","comment_id":"1179580"},{"comment_id":"1160383","poster":"Amir1909","upvote_count":"1","timestamp":"1709026560.0","content":"Correct"},{"upvote_count":"1","timestamp":"1706343960.0","poster":"MatAlves","comment_id":"1133158","content":"1. N = \"f you want to select an existing virtual network, make sure it's in the same location and Azure subscription as your Kubernetes cluster.\"\n\n2. Y = same reason\n\n3. \"To provide network connectivity, AKS clusters can use kubenet (basic networking) or Azure CNI (advanced networking).\"\n\nhttps://learn.microsoft.com/en-us/azure/aks/azure-cni-overview\nhttps://learn.microsoft.com/en-us/azure/aks/configure-kubenet#prerequisites"},{"upvote_count":"4","comments":[{"comment_id":"1050551","content":"AKS is in the scope of AZ-104.\nhttps://learn.microsoft.com/pt-br/credentials/certifications/resources/study-guides/az-104","upvote_count":"2","timestamp":"1697977680.0","poster":"trferreiraBR"}],"timestamp":"1696918860.0","poster":"bryant12138","comment_id":"1039222","content":"I thought AKS is out of scope now for AZ-104."},{"timestamp":"1693525560.0","upvote_count":"1","content":"People who pass the exam did you study all questions here? and if yes, did you see word for word or different wording but questions from here?","comment_id":"995545","poster":"lahart99"},{"timestamp":"1692839460.0","poster":"MGJG","content":"NYN\n3.- AKS clusters use kubenet and create an Azure virtual network and subnet for you by default. With kubenet, nodes get an IP address from the Azure virtual network subnet. Pods receive an IP address from a logically different address space to the Azure virtual network subnet of the nodes. Network address translation (NAT) is then configured so the pods can reach resources on the Azure virtual network. The source IP address of the traffic is NAT'd to the node's primary IP address. This approach greatly reduces the number of IP addresses you need to reserve in your network space for pods to use.\nhttps://learn.microsoft.com/en-us/azure/aks/configure-kubenet","upvote_count":"1","comment_id":"988771"},{"poster":"Codelawdepp","upvote_count":"3","comment_id":"984385","timestamp":"1692355080.0","content":"ChatGPT says:\n\n1. No\n2. Technically Yes\n3. Yes\n\n1. You can deploy AKS1 to VNet2? = No\nAKS1 is in RG1 and located in West US.\nVNet2 is in RG2 and located in Central US.\n\n2. You can deploy AKS2 to VNet1? = Technically Yes\nAKS2 is in RG2 and located in West US.\nVNet1 is in RG1 and located in West US.\n\nThe regions match up, as both are in West US. However, AKS and the VNet are in different resource groups. While it is technically possible to deploy an AKS cluster in one resource group and have it use a VNet in another resource group, the setup is complex and requires the VNet to be specially prepared and permissions set correctly.\n\nAnswer: Technically Yes, but it's complex and not a straightforward process.\n\n3. You can deploy AKS3 to VNet3? = Yes\nAKS3 is in RG3 and located in East US.\nVNet3 is also in RG3 and located in East US."},{"poster":"MGJG","timestamp":"1691533560.0","upvote_count":"1","comment_id":"976065","content":"NYN\n1 and 2.- location of kubenet and vnet shoud be the same.\n3.- AKS clusters use kubenet and create an Azure virtual network and subnet for you by default. With kubenet, nodes get an IP address from the Azure virtual network subnet. Pods receive an IP address from a logically different address space to the Azure virtual network subnet of the nodes. Network address translation (NAT) is then configured so the pods can reach resources on the Azure virtual network."},{"poster":"fongode","content":"maximum nodes per node pool is 1000:\nhttps://learn.microsoft.com/en-us/azure/aks/quotas-skus-regions","comment_id":"915505","upvote_count":"1","timestamp":"1685976840.0"},{"comment_id":"904023","upvote_count":"2","content":"For 3，Is it necessary for VNET3 to be in the same location as AKS3?","poster":"NK203","timestamp":"1684758300.0"},{"timestamp":"1682718600.0","upvote_count":"1","poster":"JunetGoyal","content":"NYN\nkubenet: It create a new vnet for cluster\nCNI: you can use existing or create new\n1. As vnet is different Region so BIG NO\n2. Yes as ypu are uing CNI\n3. No, Coz kubenet will create a new vnet for cluster.\nif you want to text chose \"kubenet\" under networking while creating cluster. later you will see a new vnet in a RG separately created for AKS.","comment_id":"883920"},{"comment_id":"839184","poster":"ChakaZilly","upvote_count":"3","comments":[{"timestamp":"1707430500.0","content":"No Yes Yes\nThe MS link clearly states that with kubenet you can use existing virtual network subnet \nhttps://learn.microsoft.com/en-us/azure/aks/configure-kubenet\n\"As a compromise, you can create an AKS cluster that uses kubenet and connect to an existing virtual network subnet. This approach lets the nodes receive defined IP addresses without the need to reserve a large number of IP addresses up front for any potential pods that could run in the cluster. With kubenet, you can use a much smaller IP address range and support large clusters and application demands.\"","upvote_count":"1","poster":"umavaja","comment_id":"1145069"}],"timestamp":"1678821720.0","content":"Should be No, Yes, Yes. \n3 Yes, because Kubenet can use an existing VNET with the only requirement that it should be in the same region. See also: https://learn.microsoft.com/en-us/azure/aks/configure-kubenet: <<<snip>> As a compromise, you can create an AKS cluster that uses kubenet and connect to an existing virtual network subnet. This approach lets the nodes receive defined IP addresses, without the need to reserve a large number of IP addresses up front for all of the potential pods that could run in the cluster.<<snip>>"},{"upvote_count":"2","timestamp":"1678617960.0","comment_id":"836914","poster":"elrizos","content":"NYN\nhttps://learn.microsoft.com/en-us/azure/aks/configure-kubenet\n\nhttps://learn.microsoft.com/en-us/azure/aks/configure-kubenet"}],"url":"https://www.examtopics.com/discussions/microsoft/view/102394-exam-az-104-topic-3-question-69-discussion/","topic":"3","isMC":false,"question_id":236,"question_text":"HOTSPOT\n-\n\nYou have an Azure subscription that contains the resource groups shown in the following table.\n\n//IMG//\n\n\nThe subscription contains the virtual networks shown in the following table.\n\n//IMG//\n\n\nYou plan to deploy the Azure Kubernetes Service (AKS) clusters shown in the following table.\n\n//IMG//\n\n\nFor each of the following statements, select Yes if the statement is true. Otherwise, select No.\n\nNOTE: Each correct selection is worth one point.\n\n//IMG//","answer_description":"","question_images":["https://img.examtopics.com/az-104/image658.png","https://img.examtopics.com/az-104/image659.png","https://img.examtopics.com/az-104/image660.png","https://img.examtopics.com/az-104/image661.png"],"answer":"","answers_community":[],"exam_id":44,"timestamp":"2023-03-12 11:46:00","unix_timestamp":1678617960,"answer_ET":"","answer_images":["https://img.examtopics.com/az-104/image662.png"]},{"id":"GSE5snywrcUXks6NKvdY","timestamp":"2020-11-30 23:09:00","question_images":["https://www.examtopics.com/assets/media/exam-media/04223/0015000001.png","https://www.examtopics.com/assets/media/exam-media/04223/0015100001.jpg","https://www.examtopics.com/assets/media/exam-media/04223/0015200001.png"],"question_text":"HOTSPOT -\nYou have an Azure subscription that contains the resources shown in the following table.\n//IMG//\n\nThe status of VM1 is Running.\nYou assign an Azure policy as shown in the exhibit. (Click the Exhibit tab.)\n//IMG//\n\nYou assign the policy by using the following parameters:\nMicrosoft.ClassicNetwork/virtualNetworks\nMicrosoft.Network/virtualNetworks\nMicrosoft.Compute/virtualMachines\nFor each of the following statements, select Yes if the statement is true. Otherwise, select No.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","answer":"","answers_community":[],"url":"https://www.examtopics.com/discussions/microsoft/view/38162-exam-az-104-topic-3-question-7-discussion/","question_id":237,"unix_timestamp":1606774140,"exam_id":44,"answer_description":"","isMC":false,"discussion":[{"timestamp":"1606849860.0","poster":"bogdan89","comments":[{"content":"N- When you move a VM to a RG2, it is like creating a new VM, so the policy will prevent that for sure, no resource's modification or creation is allowed..... Y- VM1 is already created, so it won't get affected in the policy, new creation or modification will not be allowed, not deallocating the existed ones... N since I am modifying something in the resource newly, which is not allowed duo of the policy.... so the suggested answer by EXAMTOPICS is TRUE !!!","comment_id":"1336431","upvote_count":"1","timestamp":"1736006280.0","poster":"58b2872"},{"content":"Tested IN lab Jan 2025\nN,N,N","comment_id":"1335545","upvote_count":"6","timestamp":"1735820280.0","poster":"vrm1358"},{"poster":"comin","timestamp":"1624908720.0","content":"The answer is wrong.\nJust did the test following the same structure as in the question and the answer they give is correct.\n\nAnswer: N Y N\n\nWhy wouldn't the VM state change to deallocated? You just can't make changes in the Settings section.","upvote_count":"9","comments":[{"comment_id":"534965","timestamp":"1643403780.0","comments":[{"content":"**that policies also apply to changes done after applying a policy","timestamp":"1643403840.0","comment_id":"534966","poster":"Mozbius_","upvote_count":"3"}],"upvote_count":"10","content":"Policies don't make changes. They only mark already existing resources as non-compliant unless you setup a remediation which is not done by default. Policies affect new resources. I wasn't sure about changes done to already existing resources but it makes sense that policies also apply changes done after applying a policy.\n\nThat's a topic found even in AZ-900.","poster":"Mozbius_"},{"upvote_count":"3","timestamp":"1721906100.0","comment_id":"1254955","poster":"Sanaz90","content":"His answer is completely incorrect. It's NO NO NO. tested in lab."},{"poster":"MrJJ10","comment_id":"758993","content":"VM1 never changed...its in RG2....nothing says its connected to VNET1 (VNET1 is RG1)....the policy is set for RG2","timestamp":"1672171380.0","upvote_count":"1"}],"comment_id":"393215"},{"poster":"S3ktar","comments":[{"comment_id":"1326900","timestamp":"1734272400.0","content":"You cannot change the VNet address space when the 'VM is in running state'.","poster":"aaqibkhan123","upvote_count":"1"},{"upvote_count":"1","timestamp":"1731688260.0","poster":"sca88","comment_id":"1312713","content":"Totally agree with you. NNY"},{"comment_id":"1312578","timestamp":"1731665700.0","poster":"2d153f5","upvote_count":"1","content":"That's it. And it is clearly explained."}],"timestamp":"1640267880.0","upvote_count":"139","content":"The answers have been reversed but this is 100% correct.\nNo - You cannot move a resource into a RG if the resource is restricted in the destination RG\nNo - The VM will not become deallocated, it will instead be marked as non-compliant\nYes - You can change the VNet address space, even with the virtualnetwork restriction, instead you will be prevented from making ANOTHER VNet and the existing VNet will be marked as Non-Compliant.\n\nSource: Tested it in my Azure Lab","comment_id":"507928"}],"comment_id":"232172","upvote_count":"217","content":"Y-N-N tested today in a LAB."},{"comments":[{"upvote_count":"3","timestamp":"1649605200.0","content":"Agreed, tested in a lab.","poster":"ostych","comment_id":"583762"},{"upvote_count":"4","content":"This makes the most sense. Only one I am not sure on is how the policy would modify the change to the address space?","poster":"Anon6969","timestamp":"1607166840.0","comment_id":"235618"},{"comment_id":"242470","poster":"prashantjoge","upvote_count":"5","timestamp":"1607855400.0","content":"I agree. Existing non-compliant resources can be remediated with a remediation task. But no action is taken against them other than to mark them as non-compliant"},{"timestamp":"1648126560.0","content":"Agree with N-N-N, trying to move VNET1 to RG2 gives 'disallowed by policy' error after validation checking. Modifying address space fails with 'Failed to save address space changes to virtual network 'VNET2'. Error: Resource 'VNET2' was disallowed by policy. '","upvote_count":"8","comment_id":"574355","poster":"Baconrind"}],"comment_id":"231417","timestamp":"1606774140.0","poster":"idlir","content":"N-N-N\nPolicy will identify the VM as not compliant but will not put VM in deallocate","upvote_count":"160"},{"upvote_count":"1","poster":"MrMoris","content":"N-N-N\nTested in my lab.\nlots if comments said that you are able to change the address space even with the policy, but it's not possible. The policy prevents you from doing that!","comment_id":"1356924","timestamp":"1739635500.0"},{"content":"N- restricted by policy \nN - no changes \nN - yes, you can make changes on ressources that restricted by policy","upvote_count":"4","poster":"witalis","timestamp":"1732342980.0","comment_id":"1316587"},{"comment_id":"1312717","timestamp":"1731688740.0","content":"Answer should be NNY.\nThe policy don't allow the creation of new resources in RG2 like VM and VNET, but it doesn't affect the already created resources. So 1 and 2 is NO.\nThe number 3 is YES, because the policy doesn't affect the administrator to edit the resources. Nobody can be create a new VNET, but admin can modify existing one.","upvote_count":"2","poster":"sca88"},{"comment_id":"1305034","content":"Answer given is correct. N-Y-N\n1. I am given the error Resource 'VNET1' was disallowed by policy \n2. Virtual Machine deallocated without an issue\n3. Error message: Failed to save address space changes to virtual network 'VNET2'. Error: Resource 'VNET2' was disallowed by policy","upvote_count":"4","poster":"christovski","timestamp":"1730299140.0"},{"poster":"TodRose","comment_id":"1302121","timestamp":"1729700760.0","content":"The correct answers are:\n1. No\n2. No\n3. No\n\n\nWhen you apply a policy that restricts certain resource types (e.g., Microsoft.Network/virtualNetworks and Microsoft.Compute/virtualMachines), it only prevents the creation of new resources of those types after the policy is enforced. Here's how it affects your existing resources:\n\n1. State of VM1 (existing virtual machine):\n\nThe existing VM1 will remain unaffected. Azure Policy works as an allow/deny mechanism during the creation or modification of resources. It does not retroactively delete or modify existing resources that were created before the policy was applied. So, VM1 will continue to run normally after the policy is applied.\n\n\n\n2. Changing the address space of the VNet:\n\nSince the policy prevents actions on Microsoft.Network/virtualNetworks, you would not be able to modify the address space of the existing VNet. The policy will block updates or changes to the VNet because it restricts actions on resources of that type.","upvote_count":"2"},{"timestamp":"1727869800.0","upvote_count":"3","comment_id":"1292386","poster":"kejo2","content":"Justed tested this in my LAB. The answer is N,N,N\nFailed to save virtual network changes\nFailed to save address space changes to virtual network 'VNET2'. Error: Resource 'VNET2' was disallowed by policy. Policy identifiers: '[{\"policyAssignment\":{\"name\":\"Not allowed resource types\",\"id\":\"/subscriptions/4b52c793-3612-4942-a61f-2caf2d665ccf/resourceGroups/RG2/providers/Microsoft.Authorization/policyAssignments/0fa54e46d93e48dd9c72f3a1\"},\"policyDefinition\":{\"name\":\"Not allowed resource"},{"timestamp":"1727780760.0","poster":"Mshaty","upvote_count":"3","content":"the answer is N_N_Y since the policy restricts creation of new resources and does not affect the resources that already in the resource group","comment_id":"1291930"},{"comment_id":"1277723","upvote_count":"2","content":"WRONG\n\nNo\nNo\nNo","poster":"[Removed]","timestamp":"1725380100.0"},{"comment_id":"1260196","upvote_count":"5","content":"If you are confused about all those comments, The answer is NO, NO, NO, I have just tested on my azure account. When you create the policy, you should give it 10mn at least to show non compliant resources.\n1. Resource move policy validation failed. Please see details. Diagnostic information: \nPolicy identifiers: '[{\"policyAssignment\":{\"name\":\"Not allowed resource types\",\"id\":\"/subscriptions/.......\n\n2. The VM still running, I thought that it has restarted but no, it is still running\n\n3. Failed to save address space changes to virtual network 'VNET2'. Error: Resource 'VNET2' was disallowed by policy. Policy identifiers: '[{\"policyAssignment\":{\"name\":\"Not allowed resource types\"......","poster":"radouani","timestamp":"1722676740.0"},{"comment_id":"1259900","upvote_count":"3","timestamp":"1722604440.0","content":"Tried this out.\n\nAnswer > NYN\n\nAn Administrator can move VNet1 to RG2 > NO\n[Error > Resource move policy validation failed. Resource 'VNet1' was disallowed by policy. Policy identifiers: '[{\"policyAssignment\":{\"name\":\"Not allowed resource types\"]\n\nThe state of VM1 changed to deallocated > YES\n[ Was able to stop the VM. Was also able to start the VM]\n\nAn administrator can modify the address space of VNet2 > NO \n[Error > Failed to save address space changes to virtual network 'VNet2'. Error: Resource 'VNet2' was disallowed by policy. Policy identifiers: '[{\"policyAssignment\":{\"name\":\"Not allowed resource types\"]","poster":"Surs"},{"content":"N-N-N Tested in lab, \nA - Cannot add a V-Net to the RG\nB- the VM's status will not be changed to deallocated \nC- Cannot modify Address space of V-Net in the RG","timestamp":"1721562300.0","comment_id":"1252411","poster":"Y2","upvote_count":"1"},{"timestamp":"1720754460.0","comment_id":"1246448","upvote_count":"1","poster":"Jedi_sg2000","content":"NYN is the answer"},{"comment_id":"1221555","content":"Correct Answer: N N N","poster":"23169fd","timestamp":"1717069680.0","upvote_count":"2"},{"comment_id":"1215341","upvote_count":"1","timestamp":"1716342660.0","content":"Final Answer : NNY","poster":"varinder82"},{"timestamp":"1711055940.0","poster":"Amir1909","comment_id":"1179668","content":"Yes\nNo\nYes","upvote_count":"1"}],"answer_images":["https://www.examtopics.com/assets/media/exam-media/04223/0015200002.png"],"answer_ET":"","topic":"3"},{"id":"Dd9cl3rCCmKoOxhZqfAb","answer_images":[],"answer_ET":"B","question_text":"Note: This question is part of a series of questions that present the same scenario. Each question in the series contains a unique solution that might meet the stated goals. Some question sets might have more than one correct solution, while others might not have a correct solution.\n\nAfter you answer a question in this section, you will NOT be able to return to it. As a result, these questions will not appear in the review screen.\n\nYou have an Azure Storage account named storage1.\n\nYou need to enable a user named User1 to list and regenerate storage account keys for storage1.\n\nSolution: You assign the Storage Account Encryption Scope Contributor Role to User1.\n\nDoes this meet the goal?","timestamp":"2024-08-20 23:21:00","answer_description":"","discussion":[{"content":"The Storage Account Encryption Scope Contributor role allows a user to manage encryption scopes in a storage account but does not grant the ability to list and regenerate storage account keys.\n\nTo meet the goal, you would need to assign the Storage Account Key Operator Service Role or a role with broader access such as the Storage Account Contributor role, which includes permissions to list and regenerate keys.","poster":"Dankho","upvote_count":"6","comment_id":"1295327","timestamp":"1728517260.0"},{"poster":"Bravo_Dravel","comment_id":"1347269","timestamp":"1737961200.0","upvote_count":"1","content":"Selected Answer: B\nThis role allows managing encryption scopes but does not grant permissions to list and regenerate storage account keys1.\n\nTo enable User1 to list and regenerate storage account keys, you should assign the Storage Account Key Operator Service Role or the Storage Account Contributor Role"},{"comment_id":"1278936","comments":[{"timestamp":"1725805620.0","comment_id":"1280433","poster":"[Removed]","content":"You assign the Storage Account Key Operator Service Role to User1.","upvote_count":"1"}],"poster":"[Removed]","timestamp":"1725540720.0","content":"Selected Answer: B\nB is corerct","upvote_count":"1"},{"timestamp":"1724399880.0","comment_id":"1271172","poster":"alsmk2","content":"Selected Answer: B\nSA Cont or Key operator role required.","upvote_count":"1"},{"comment_id":"1271151","poster":"Shakka","content":"Selected Answer: B\nthe Storage Account Encryption Scope Contributor role does not have the permissions to list and regenerate storage account keys. These actions require specific permissions that are not included in this role.\n\nTo list and regenerate storage account keys, you would need a role that includes the Microsoft.Storage/storageAccounts/listKeys/action and Microsoft.Storage/storageAccounts/regenerateKey/action permissions. Some roles that have these permissions are:\n\nOwner\nContributor\nStorage Account Key Operator Service Role1.","upvote_count":"2","timestamp":"1724396340.0"},{"poster":"Mentalfloss","comment_id":"1270659","content":"Selected Answer: B\nCancelling my previous A vote.","timestamp":"1724327640.0","upvote_count":"1"},{"content":"Selected Answer: B\nIt should be Storage Account Key Operator Service Role.","comment_id":"1270636","timestamp":"1724323440.0","poster":"arunyadav09","upvote_count":"2"},{"upvote_count":"1","timestamp":"1724268600.0","poster":"appyapurv","comment_id":"1270361","content":"• The Storage Account Encryption Scope Contributor role provides permissions to manage encryption scopes within a storage account. However, it does not grant permissions to list or regenerate storage account keys.\n • To allow a user to list and regenerate storage account keys, the user should be assigned the Storage Account Key Operator Service Role or a higher role like Contributor or Storage Account Contributor.\n\nThus, assigning the Storage Account Encryption Scope Contributor role does not meet the goal of enabling User1 to list and regenerate storage account keys."},{"content":"The Storage Account Encryption Scope Contributor role does not grant permissions to list and regenerate storage account keys.\n\n-\nNo","poster":"Alawi1990","timestamp":"1724224380.0","upvote_count":"2","comment_id":"1269916"},{"timestamp":"1724188860.0","poster":"Mentalfloss","comment_id":"1269696","upvote_count":"2","comments":[{"comment_id":"1270658","upvote_count":"1","timestamp":"1724327520.0","content":"I stand corrected. Dumb-a me looked up that the role existed, it sounded like it does what it says on the tin, but other comments following mine indicate otherwise.","poster":"Mentalfloss"},{"poster":"arunyadav09","upvote_count":"1","comment_id":"1270634","timestamp":"1724323380.0","content":"It should be Storage Account Key Operator Service Role."}],"content":"Selected Answer: A\nI wasn't sure if this was a real role so I Googled it, answer is A (Yes)."}],"topic":"3","choices":{"A":"Yes","B":"No"},"answer":"B","unix_timestamp":1724188860,"exam_id":44,"url":"https://www.examtopics.com/discussions/microsoft/view/146190-exam-az-104-topic-3-question-70-discussion/","answers_community":["B (80%)","A (20%)"],"isMC":true,"question_images":[],"question_id":238},{"id":"HhJ3dlYmEOLNZGorGi4H","exam_id":44,"answer_images":["https://img.examtopics.com/az-104/image673.png"],"question_images":["https://img.examtopics.com/az-104/image671.png","https://img.examtopics.com/az-104/image672.png"],"answer_ET":"","timestamp":"2023-05-06 14:35:00","discussion":[{"content":"Correct answers:\nMinimize network cost - Default routing tier to Internet Routing\nAfter creation you can modify - Encryption type","timestamp":"1688082240.0","comment_id":"938619","comments":[{"timestamp":"1735120560.0","poster":"ozansenturk","content":"ChatGPT: \nNo, you cannot change the default routing tier of a storage account after creating a Premium File Share for it.\n\nExplanation:\nThe routing preference for a storage account (e.g., Microsoft network routing or Internet routing) is generally configurable at the time of creating the storage account. However:\n\nPremium File Shares use the Microsoft network by default to optimize performance and low-latency access.\nOnce a Premium File Share is created for a storage account, the routing preference becomes locked to the Microsoft network, and you cannot change it to Internet routing.\nIf you need to use a different routing tier, you'll need to create a new storage account with the desired routing preference and configure it accordingly. Let me know if you need help setting up or managing this configuration!","upvote_count":"2","comment_id":"1331488"},{"content":"You can't change Network Routing type if you create Premium File Shares, is just grayed out. You can change Network Routing type only if you create Premium Block Blob or Page Blobs. \nYou can change performance of created File Share on the right side by clicking on 3 point and then choose \"Change size and performance\"","comments":[{"content":"SA w/Premium & FileStorage, the option in networking is greyed out: \"The current combination of storage account kind, performance, replication, and location does not support network routing.\"\n\nGoing with performance for Box A","timestamp":"1732848360.0","comment_id":"1319520","poster":"danlo","upvote_count":"4"},{"content":"I have tried this in Portal and can confirm that Internet Routing option is greyed out for Premium File Shares.","poster":"MiniLa92","timestamp":"1722317400.0","upvote_count":"6","comment_id":"1257887"},{"content":"providing the link would help us to better understand your findings","upvote_count":"3","poster":"suddin1","comment_id":"1218154","timestamp":"1716628560.0"}],"upvote_count":"9","timestamp":"1702399620.0","comment_id":"1094739","poster":"Azure2020"},{"timestamp":"1733536920.0","upvote_count":"4","comment_id":"1322971","poster":"SiddharthAvaiya","comments":[{"comment_id":"1339161","content":"It's not correct. Tested in lab\nPerformance can't be changed\n\"Standard storage accounts are backed by magnetic drives and provide the lowest cost per GB. They're best for applications that require bulk storage or where data is accessed infrequently. Premium storage accounts are backed by solid state drives and offer consistent, low-latency performance. They can only be used with Azure virtual machine disks, and are best for I/O-intensive applications, like databases.\"\nShould be networking\n\n2. Encryption type - correct\n\n11.01.2025","poster":"youngjanpawel","timestamp":"1736601060.0","upvote_count":"2"}],"content":"Correct Answer \n1. Performance - if you see the exhibit storage is not created. so to minimize cost of accessing you can change the performance.\n2. Encryption type\nenable infrastructure encryption and premium account type is only changeable when you creating storage which eliminate this options here. \nEnable support for Customer-managed keys is also not applied on this storage because storage is created by selecting Microsoft managed keys."},{"upvote_count":"3","poster":"fead","comments":[{"comment_id":"1319612","content":"for \"Enable support for customer-managed keys\" we have a note under this option which implies \"This option cannot be changed after this storage account is created\"\nSo Encryption type is correct for second item.","poster":"vrm1358","timestamp":"1732866840.0","upvote_count":"2"}],"comment_id":"1013388","content":"Correct answers\n\nhttps://learn.microsoft.com/en-us/azure/storage/common/network-routing-preference\n\nhttps://learn.microsoft.com/en-gb/azure/storage/common/infrastructure-encryption-enable?tabs=portal","timestamp":"1695328560.0"}],"upvote_count":"43","poster":"MichaelMelb"},{"comment_id":"890735","poster":"wasilak","comments":[{"upvote_count":"12","content":"Encryption type is the correct answer for the second one, your reasoning is correct, but you ,is read the question.","poster":"Ccastan1","timestamp":"1685295660.0","comment_id":"908775"},{"content":"Minimize network cost - Default routing tier to Internet Routing seems like the correct option as per answer above.\n\nGood idea to read through the article just once:\nhttps://learn.microsoft.com/en-us/azure/storage/common/network-routing-preference","timestamp":"1683710580.0","upvote_count":"3","comment_id":"893784","poster":"AnonFox"},{"upvote_count":"2","comment_id":"1006352","content":"I agree with 'wasilak' about the answers. Also, the links shared by him offers the correct answers, read them carefully. \n\"Configuring routing preference gives you the flexibility to optimize your traffic either for premium network performance or for cost.\"\n\"When you configure customer-managed keys for a storage account, Azure Storage wraps the root data encryption key for the account with the customer-managed key in the associated key vault or managed HSM. The protection of the root encryption key changes, but the data in your Azure Storage account remains encrypted at all times. There is no additional action required on your part to ensure that your data remains encrypted. Protection by customer-managed keys takes effect immediately.\nYou can switch between customer-managed keys and Microsoft-managed keys at any time.\"","poster":"alexvv89","timestamp":"1694592540.0"}],"upvote_count":"21","timestamp":"1683376500.0","content":"to minimize network cost - default routing tier\nhttps://learn.microsoft.com/en-us/azure/storage/common/network-routing-preference\n\nwhat can be changed after creation - cutomer-managed key\n\"You can switch between customer-managed keys and Microsoft-managed keys at any time\"\nhttps://learn.microsoft.com/en-us/azure/storage/common/customer-managed-keys-overview"},{"content":"Too many opinions here, tested it out myself and the correct answers are:\n\nFirst box: Network Connectivity\nSecond box: Encryption Type","upvote_count":"1","timestamp":"1739096280.0","poster":"cris_exam","comment_id":"1353839"},{"timestamp":"1731682620.0","comments":[{"upvote_count":"1","poster":"zeuge","content":"Everyone who answered \"1. Default routing tier\" for the first box, try creating a storage account with the specified settings. In the \"Routing preference\" section, the \"Internet routing\" option is greyed out and inactive. Additionally, it's not possible to change the Endpoint type — this setting is not available. Unfortunately, I couldn't find a suitable answer for myself.","timestamp":"1733136780.0","comment_id":"1320898"}],"upvote_count":"1","content":"Correct answers\nDefault routing tier to Internet Routing\nhttps://learn.microsoft.com/en-us/azure/storage/common/network-routing-preference\n\n-------------------------------------------------------------------\nEnable support Customer managed keys\nhttps://learn.microsoft.com/en-gb/azure/storage/common/customer-managed-keys-configure-existing-account?toc=%2Fazure%2Fstorage%2Fblobs%2Ftoc.json&bc=%2Fazure%2Fstorage%2Fblobs%2Fbreadcrumb%2Ftoc.json&tabs=azure-portal#configure-encryption-for-automatic-updating-of-key-versions","poster":"RVivek","comment_id":"1312680"},{"timestamp":"1725541200.0","comment_id":"1278938","content":"WRONG\n\n1. Default routing tier\n2. Encryption type","upvote_count":"2","poster":"[Removed]"},{"poster":"[Removed]","timestamp":"1724433480.0","comment_id":"1271397","upvote_count":"4","content":"Tested in lab:\n1. Performance: default routing cannot be set to internet routing because it is not supported with File shares. It would work with block blob though.\n2. Encription type: \n\"Customer-managed key (CMK) support can be limited to blob service and file service only, or to all service types. After the storage account is created, this support cannot be changed\"\n\"By default, Azure encrypts storage account data at rest. Infrastructure encryption adds a second layer of encryption to your storage account’s data. This option can only be enabled during the storage account creation.\"\nAccount type cannot be changed thats clear at least"},{"poster":"raj29oct","content":"Default routing tier to Internet Routing\nEncryption type","upvote_count":"1","timestamp":"1723392540.0","comment_id":"1264215"},{"content":"Correct Answer :\n1. Default Routing \n2. Encryption Type","poster":"varinder82","comment_id":"1212782","timestamp":"1715934360.0","upvote_count":"1"},{"comment_id":"1179644","poster":"Amir1909","upvote_count":"2","content":"- Default routing tier\n- Encryption type","timestamp":"1711054620.0"},{"content":"Tested. Performance and routing cannot be changed. Everything is grayed out","upvote_count":"3","poster":"bacana","comment_id":"1174246","timestamp":"1710504000.0"},{"upvote_count":"2","timestamp":"1709274240.0","poster":"tashakori","comment_id":"1163252","content":"Correct answers: Minimize network cost - Default routing tier to Internet Routing After creation you can modify - Encryption type"},{"content":"to minimize network cost - default routing tier\nhttps://learn.microsoft.com/en-us/azure/storage/common/network-routing-preference\n\nwhat can be changed after creation - cutomer-managed key\n\"You can switch between customer-managed keys and Microsoft-managed keys at any time\"\nhttps://learn.microsoft.com/en-us/azure/storage/common/customer-managed-keys-overview","comment_id":"1115544","comments":[{"content":"you switch to CMK by changing the encryption type","timestamp":"1718835000.0","poster":"enklau","upvote_count":"1","comment_id":"1233260"}],"timestamp":"1704591420.0","poster":"SkyZeroZx","upvote_count":"2"},{"comment_id":"1064388","content":"default routing tier\nencryption type","timestamp":"1699318440.0","upvote_count":"3","poster":"ziggy1117"},{"content":"Default routing tier \nEncryption type","upvote_count":"3","timestamp":"1696376040.0","comment_id":"1024286","poster":"YesPlease"},{"content":"1. Default Routing Tier\n2. Encryption Type\n\nVery confident!","comment_id":"1019788","poster":"bobster","timestamp":"1695901080.0","upvote_count":"5"},{"poster":"oopspruu","upvote_count":"12","timestamp":"1692307980.0","content":"Confirmed in Azure Lab as of 17/08/2023:\n1. Default Routing Tier can be changed to lower networking costs. Choose Internet Routing for low cost. \n2. After an storage account is created, Only Encryption Type can be changed. \"Enabled support for customer-managed keys\" and \"Infrastructure Encryption\" both cannot be changed.","comment_id":"984006"},{"timestamp":"1692171960.0","content":"Enable support for customer-managed keys is INCORRECT.\nCustomer-managed key (CMK) support can be limited to blob service and file service only, or to all service types. After the storage account is created, this support cannot be changed. \nCopied and pasted directly from Azure.","poster":"Tomuren","upvote_count":"1","comment_id":"982304"},{"comment_id":"958184","comments":[{"content":"Agree\nCustomer-managed key (CMK) support can be limited to blob service and file service only, or to all service types. After the storage account is created, this support cannot be changed\nhttps://aka.ms/accountinfrastructureencryption","upvote_count":"1","poster":"quocdunginfo2","timestamp":"1693119300.0","comment_id":"991265"}],"poster":"Josete1106","upvote_count":"3","timestamp":"1689925500.0","content":"A & C Default routing tier to Internet Routing & Encryption type."},{"upvote_count":"2","content":"BOX 2: Encryption type. \n\nEnable support for customer-managed keys can't be changed after Storage account is created.","poster":"antropaws","comment_id":"952381","timestamp":"1689425100.0"},{"poster":"tralala1000","upvote_count":"2","timestamp":"1688612760.0","content":"https://learn.microsoft.com/en-us/azure/storage/common/customer-managed-keys-overview\nYou can switch between customer-managed keys and Microsoft-managed keys at any time. For more information about Microsoft-managed keys, see About","comment_id":"944270"},{"upvote_count":"3","content":"I don't believe it is customer managed keys for Box 2, see image in MS URL;\nhttps://learn.microsoft.com/en-us/azure/storage/common/storage-account-create?tabs=azure-portal","comments":[{"poster":"RandomNickname","content":"And from the below doesn't look to be \"Enable infrastructure encryption\"\nhttps://learn.microsoft.com/en-us/azure/storage/common/infrastructure-encryption-enable?tabs=portal\n\nSo appears to be \"Encryption Type\"","timestamp":"1685542560.0","upvote_count":"4","comment_id":"911351"},{"poster":"jackill","timestamp":"1686377340.0","comment_id":"919836","upvote_count":"8","content":"Good point. I add more explanation to confirm this.\nOne may be confused and select \"Enable support for customer-managed keys\", because it sounds to be the option that \"enables/disables\" customer-managed keys. But If you look better to the image the value for this option is not a true/false value, but \"Blobs and files only\". So this option is really used only to activate customer-managed keys to Tables and Queues, as described in \nhttps://learn.microsoft.com/en-us/azure/storage/common/account-encryption-key-create?tabs=portal\nThe option that allows to enable/disable customer-managed keys is \"Encryption type\", that can be set to \"Microsoft-managed keys (MMK)\" or \"Customer-managed keys (CMK)\"\nThis is explained in https://learn.microsoft.com/en-us/azure/storage/common/storage-encryption-key-model-get?tabs=portal and visible in the image visible in https://learn.microsoft.com/en-us/azure/storage/common/storage-account-create?tabs=azure-portal#encryption-tab"}],"timestamp":"1685532180.0","poster":"RandomNickname","comment_id":"911149"},{"timestamp":"1684649940.0","content":"new question?","upvote_count":"2","poster":"lulzsec2019","comment_id":"902939"},{"upvote_count":"14","timestamp":"1683885960.0","content":"Tested in lab:\n\nBox 1: Inconclusive because for the exact settings in the exhibit it is disabled for my pay as u go subscription perhaps. Portal says it depends on a combination of subscription, storage account kind, performance, replication and location.\n\nBox 2: Encryption type is the only setting that can be changed","poster":"fcert1att","comment_id":"895813"}],"question_text":"HOTSPOT\n-\n\nYou have an Azure subscription that has offices in the East US and West US Azure regions.\n\nYou plan to create the storage account shown in the following exhibit.\n\n//IMG//\n\n\nUse the drop-down menus to select the answer choice that completes each statement based on the information presented in the graphic.\n\nNOTE: Each correct selection is worth one point.\n\n//IMG//","answer":"","url":"https://www.examtopics.com/discussions/microsoft/view/108646-exam-az-104-topic-3-question-71-discussion/","answers_community":[],"unix_timestamp":1683376500,"isMC":false,"topic":"3","question_id":239,"answer_description":""},{"id":"wVFBEgvT200SOtaWZJx7","question_id":240,"answer_images":["https://img.examtopics.com/az-104/image675.png"],"topic":"3","answer_ET":"","unix_timestamp":1683190020,"url":"https://www.examtopics.com/discussions/microsoft/view/108476-exam-az-104-topic-3-question-72-discussion/","question_images":["https://img.examtopics.com/az-104/image674.png"],"answers_community":[],"answer_description":"","timestamp":"2023-05-04 10:47:00","question_text":"HOTSPOT\n-\n\nYou have an Azure subscription.\n\nYou plan to deploy a new storage account.\n\nYou need to configure encryption for the account. The solution must meet the following requirements:\n\n• Use a customer-managed key stored in a key vault.\n• Use the maximum supported bit length.\n\nWhich type of key and which bit length should you use? To answer, select the appropriate options in the answer area.\n\nNOTE: Each correct selection is worth one point.\n\n//IMG//","exam_id":44,"discussion":[{"comment_id":"889330","content":"*RSA 4096\ntypo","timestamp":"1683192780.0","poster":"crymo99","upvote_count":"21"},{"upvote_count":"16","content":"Answer is correct:\n Key: RSA\nlength: 4096\nhttps://learn.microsoft.com/en-us/azure/storage/common/customer-managed-keys-overview#key-vault-requirements","timestamp":"1683517380.0","comment_id":"891780","poster":"chiquito"},{"upvote_count":"2","poster":"[Removed]","comment_id":"1278940","content":"CORRECT","timestamp":"1725541320.0"},{"poster":"Limobakry","timestamp":"1715601360.0","upvote_count":"1","comment_id":"1210842","content":"RSA - 4069\nhttps://learn.microsoft.com/en-us/azure/key-vault/keys/about-keys"},{"poster":"Amir1909","timestamp":"1711040520.0","upvote_count":"1","comment_id":"1179448","content":"Given answer is correct"},{"content":"RSA\n4096","upvote_count":"1","comment_id":"1097339","timestamp":"1702646460.0","poster":"Xerinzxx"},{"comment_id":"1082736","timestamp":"1701189480.0","poster":"river1999991","upvote_count":"1","content":"RSA\n4096"},{"timestamp":"1689707400.0","poster":"Navigati0n","comment_id":"955811","content":"RSA: \"Software-protected\" RSA key Supported (2048-bit, 3072-bit, 4096-bit)\n\nhttps://learn.microsoft.com/en-us/azure/key-vault/keys/about-keys#hsm-protected-keys","upvote_count":"4"},{"poster":"saim18","timestamp":"1688373300.0","upvote_count":"6","comment_id":"941629","content":"Is this in the syllabus I don't think so"},{"upvote_count":"5","content":"key: RSA\nbit length: 4098\n\nhttps://learn.microsoft.com/en-us/azure/storage/common/customer-managed-keys-overview?toc=%2Fazure%2Fstorage%2Fblobs%2Ftoc.json&bc=%2Fazure%2Fstorage%2Fblobs%2Fbreadcrumb%2Ftoc.json","timestamp":"1683190020.0","comment_id":"889309","poster":"crymo99","comments":[{"comment_id":"893786","content":"Correct answer as per article.\n\n\"Azure storage encryption supports RSA and RSA-HSM keys of sizes 2048, 3072 and 4096.\"\nhttps://learn.microsoft.com/en-us/azure/storage/common/customer-managed-keys-overview#key-vault-requirements","upvote_count":"4","timestamp":"1683710940.0","poster":"AnonFox"}]}],"answer":"","isMC":false}],"exam":{"numberOfQuestions":606,"name":"AZ-104","lastUpdated":"12 Apr 2025","isImplemented":true,"isBeta":false,"isMCOnly":false,"provider":"Microsoft","id":44},"currentPage":48},"__N_SSP":true}