{"pageProps":{"questions":[{"id":"bywFtDuYbornt1l5BRd9","answer":"","answer_ET":"","exam_id":48,"timestamp":"2021-03-20 09:25:00","answers_community":[],"answer_images":["https://img.examtopics.com/az-204/image623.png"],"topic":"13","unix_timestamp":1616228700,"question_id":51,"question_text":"DRAG DROP -\nYou need to correct the corporate website error.\nWhich four actions should you recommend be performed in sequence? To answer, move the appropriate actions from the list of actions to the answer area and arrange them in the correct order.\nSelect and Place:\n//IMG//","question_images":["https://www.examtopics.com/assets/media/exam-media/04273/0031100001.jpg"],"isMC":false,"answer_description":"","url":"https://www.examtopics.com/discussions/microsoft/view/47796-exam-az-204-topic-13-question-2-discussion/","discussion":[{"comment_id":"359813","timestamp":"1637185980.0","comments":[{"upvote_count":"10","content":"received 2023-04-17 went with above answer, score 926","timestamp":"1697533740.0","poster":"surprise0011","comment_id":"872516"}],"upvote_count":"90","content":"Answer:\n• Generate a certificate\n• Upload the certificate to Azure key vault\n• Import the certificate to Azure App Service\n• Add the certificate thumbprint to the WEBSITE_LOAD_CERTIFICATES app setting\n\nhttps://ankitvijay.net/2021/04/14/certificate-azure-app-service-linux/","poster":"Frakandel"},{"upvote_count":"28","content":"1. Generate a certificate.\n2. Upload the certificate to Azure Key Vault.\n3. Import the certificate to Azure App Service.\n4. Add the certificate thumbprint to the WEBSITE_LOAD_CERTIFICATES app setting.\nPrerequisite: Scale up your App Service plan if your app is in a shared infrastructure tier.\nhttps://docs.microsoft.com/en-us/azure/app-service/configure-ssl-certificate\nhttps://docs.microsoft.com/en-us/azure/app-service/configure-ssl-certificate-in-code#load-certificate-in-linuxwindows-containers","comment_id":"361187","timestamp":"1637318700.0","poster":"SnakePlissken"},{"poster":"raymond_abcd","comment_id":"1142147","timestamp":"1722940440.0","upvote_count":"1","content":"See: https://learn.microsoft.com/en-us/azure/app-service/environment/overview-certificates#private-client-certificate\n\nLast box is: \"Add the certificate thumbprint to the WEBSITE_LOAD_CERTIFICATES app setting\""},{"poster":"acjdev514","timestamp":"1711637820.0","content":"My vote: the answer provided is the correct one.\nhttps://learn.microsoft.com/en-us/azure/app-service/configure-ssl-certificate-in-code","upvote_count":"1","comment_id":"1019875"},{"timestamp":"1697348400.0","content":"correct\nhttps://learn.microsoft.com/en-us/azure/app-service/configure-ssl-certificate-in-code#when-updating-renewing-a-certificate","comment_id":"870672","poster":"surprise0011","upvote_count":"1"},{"timestamp":"1686947520.0","upvote_count":"7","poster":"st0rmtrooperx","content":"Got this on Dec 16th, 2022. Scored 921 and went with:\n• Generate a certificate\n• Upload the certificate to Azure key vault\n• Import the certificate to Azure App Service\n• Add the certificate thumbprint to the WEBSITE_LOAD_CERTIFICATES app setting","comment_id":"747662"},{"content":"Answer of Frakadel OK. \nBut otherwise : this is bad practice. Azure Key Vault with managed identity should be used for that purpose.","timestamp":"1682061540.0","upvote_count":"3","comment_id":"700605","poster":"coffecold"},{"comment_id":"689079","upvote_count":"2","content":"This is an essay question, but I will bet my time on :\nGenerate\nUpload to keyvault\nImport to App service (from keyvault)\nAdd to WEBSITE_LOAD_CERTIFICATES (Important so that it is available in /var/ssl/... or c:\\appservies\\..\\secret path. The code seems to be using that)","timestamp":"1680936240.0","poster":"gmishra88"},{"content":"Agree to brettusmaximus \n1. Generate a certificate\n2. Upload to key vault (mandatory security requirements)\n3. Import the certificate to Azure App Service. For Linux container, it keeps the private certificates at the location /var/ssl/private and public certificates at /var/ssl/certs.\n4. Add the certificate thumbprint to the WEBSITE_LOAD_CERTIFICATES app setting.\n\nRefer configure-SSL-CERTIFICATE-IN-CODE","timestamp":"1671224100.0","poster":"Sandeep12093","upvote_count":"1","comment_id":"617368"},{"poster":"lugospod","content":"Got this one 01/2022. Went with most voted (to avoid writing answers again)","timestamp":"1658235420.0","comment_id":"527633","upvote_count":"6"},{"upvote_count":"5","timestamp":"1657099260.0","poster":"asdasdasg2","content":"what a horrible question. Security.cs is not even valid C# and its usage is not even shown in the following snippet that contains the function.","comment_id":"518176"},{"comments":[{"upvote_count":"1","poster":"GreenPanda","content":"https://docs.microsoft.com/en-us/azure/app-service/configure-ssl-certificate-in-code#load-certificate-in-linuxwindows-containers","timestamp":"1644715440.0","comment_id":"423940"},{"comment_id":"517350","timestamp":"1657008300.0","content":"yes I agree, but I think this is a typo...the same way the path has ~ in front...","upvote_count":"1","poster":"lugospod"}],"content":"Does the ReadAllBytes method need to specify the file path instead of the directory?","comment_id":"423937","poster":"GreenPanda","upvote_count":"1","timestamp":"1644715320.0"},{"content":"Ok - How does the cert get to be located at the URL (/var/ssl/private)?\n1. Generate a certificate\n2. Upload to key vault\n3. Add the certificate thumbprint to the WEBSITE_LOAD_CERTIFICATES app setting.\n4. Add the certificate to Source Control (/var/ssl/private), So when the app deploys it gets there.\nIt doesn't matter about nice error messages.","poster":"BrettusMaximus","timestamp":"1635747960.0","comment_id":"346564","comments":[{"upvote_count":"15","content":"OK I am slightly wrong here; as in https://ankitvijay.net/2021/04/14/certificate-azure-app-service-linux/\n1. Generate a certificate\n2. Upload to key vault (mandatory security requirements)\n3. Import the certificate to Azure App Service. For Linux container, it keeps the private certificates at the location /var/ssl/private and public certificates at /var/ssl/certs.\n4. Add the certificate thumbprint to the WEBSITE_LOAD_CERTIFICATES app setting.\n\nIt doesn't matter about nice error messages.","timestamp":"1635749220.0","comment_id":"346575","poster":"BrettusMaximus"}],"upvote_count":"1"},{"comment_id":"343516","poster":"[Removed]","upvote_count":"2","timestamp":"1635273780.0","comments":[{"timestamp":"1657008420.0","content":"Adding exception handling won't help you solve the problem...so not needed. You Must use key vault so you are missing that part as a second step.","comment_id":"517351","upvote_count":"2","poster":"lugospod"}],"content":"General information\n\n* CryptographicException: The system cannot find the file specified \n* According to the path we are running a linux container (/var/ssl/private)\n* Question seems to have a typo (line SC03, ~ is not needed)\n\nAnswer \n\n1. Generate a certificate\n2. Import the certificate to Azure App Service\n3. Add the certificate thumbprint to the WEBSITE_LOAD_CERTIFICATES app setting\n4. Update line SC05 to include error handling ... \n\nFurther reading: \n\nhttps://docs.microsoft.com/en-us/azure/app-service/configure-ssl-certificate-in-code#load-certificate-in-linuxwindows-containers"},{"comment_id":"335271","content":"So what is the correct answer to this?","poster":"anastakasim","timestamp":"1634196600.0","upvote_count":"3"},{"content":"1. Generate a certificate\n2. Import the certificate to Azure App Service.\n3. Add the certificate thumbprint to the WEBSITE_LOAD_CERTIFICATES app setting.\nhttps://docs.microsoft.com/en-us/azure/app-service/configure-ssl-certificate-in-code#make-the-certificate-accessible\n4. Update line SC05 of Security.cs to include error handling and then redeploy the code.","comments":[{"upvote_count":"2","content":"Certificates should be imported from azure key vault. its one of the requirement. so it would be :\n1. Generate Cert\n2. Upload to key vault\n3. import from key vault.\n4. Update config thumbprint value\n5. Handle the error in the code gracefully\n\nhttps://docs.microsoft.com/en-us/azure/app-service/configure-ssl-certificate\nhttps://docs.microsoft.com/en-us/azure/app-service/configure-ssl-certificate-in-code#load-certificate-in-linuxwindows-containers","timestamp":"1635396240.0","comments":[],"poster":"SwatiN","comment_id":"344379"}],"upvote_count":"4","timestamp":"1634088720.0","poster":"clarionprogrammer","comment_id":"334350"},{"comment_id":"327284","poster":"jokergester","upvote_count":"2","comments":[{"timestamp":"1657007100.0","comment_id":"517337","content":"There is a requirement that states that key vault MUST be used to store certificates.","poster":"lugospod","upvote_count":"2"}],"timestamp":"1633255980.0","content":"I think it should be\n1. Generate Cert\n2. Upload to App Service\n3. Update config thumbprint value\n4. Handle the error in the code gracefully\n\nUploading to Key Vault would offer a better security but another step(s) would be needed it is to add access policy for the App Service to use the Certificate"},{"content":"https://docs.microsoft.com/en-us/azure/app-service/configure-ssl-certificate-in-code#make-the-certificate-accessible","poster":"Zsolt72","timestamp":"1633085940.0","upvote_count":"1","comment_id":"325733"},{"timestamp":"1632405960.0","content":"honestly I don't understand why i have to use try..catch block (error handling) as proposed by the given answer in box 4. In a similar sample on microsoft website it's sufficient to verify if the certificate variable is not null. https://docs.microsoft.com/en-in/azure/app-service/configure-ssl-certificate-in-code#load-certificate-in-windows-apps. But if you look above in the same article (make the certificate accessible, https://docs.microsoft.com/en-us/azure/app-service/configure-ssl-certificate-in-code#make-the-certificate-accessible) you can see it's mandatory to add certificate thumbprint to the WEBSITE_LOAD_CERTIFICATES app setting. But this answer has been discarded. But i think it's more important than add error handling in the code! I addition the exception is CryptographicException. If the problem is accessing a null certification object the error message would be \"object reference not set to an instance of an object\" (IsNullReferenceExeption).","poster":"rdemontis","comment_id":"318228","upvote_count":"3","comments":[{"comment_id":"330252","poster":"kwaazaar","content":"should be the 4th answer indeed. That setting makes the certificates available on disk of the server.","upvote_count":"1","timestamp":"1633602780.0"}]},{"comment_id":"315472","upvote_count":"2","comments":[{"content":"This is an option on Windows not on Linux.","timestamp":"1632451080.0","comment_id":"318770","poster":"Bengkel","upvote_count":"1"}],"timestamp":"1632119100.0","content":"4 - box is correct. Thumbprint can be hardcoded in code it-self and add error-handling to check certificate is null.\nhttps://docs.microsoft.com/en-in/azure/app-service/configure-ssl-certificate-in-code#load-certificate-in-windows-apps","poster":"Alluru"}]},{"id":"K3bR3diHguSO1q6sauOm","url":"https://www.examtopics.com/discussions/microsoft/view/46558-exam-az-204-topic-13-question-3-discussion/","answer_ET":"","answer_images":["https://img.examtopics.com/az-204/image624.png"],"answers_community":[],"topic":"13","question_images":["https://www.examtopics.com/assets/media/exam-media/04273/0031300001.png"],"discussion":[{"comment_id":"308270","content":"The second box should be Inbound instead of Outbound.\nhttps://docs.microsoft.com/en-us/azure/api-management/api-management-access-restriction-policies \nQuoting:\nThis policy can be used in the following policy sections and scopes.\nPolicy sections: inbound\nPolicy scopes: all scopes","comments":[{"content":"received 2023-04-17 went with above answer, score 926","comment_id":"872515","timestamp":"1713344880.0","poster":"surprise0011","upvote_count":"7"},{"upvote_count":"2","timestamp":"1712584320.0","comment_id":"864727","content":"https://learn.microsoft.com/en-us/azure/api-management/validate-jwt-policy#:~:text=Policy%20sections%3A%20inbound","poster":"warchoon"},{"comment_id":"309311","timestamp":"1647133200.0","upvote_count":"12","content":"you are correct. it should be INBOUND for Validate JWT \nhttps://docs.microsoft.com/en-us/azure/api-management/api-management-access-restriction-policies#ValidateJWT","poster":"sam365"},{"content":"Correct, you can't pass request to controllers if certificate doesn't exists...","poster":"Dani_ac7","timestamp":"1688747220.0","upvote_count":"1","comment_id":"628419"}],"upvote_count":"118","poster":"ZiadAZ","timestamp":"1647026280.0"},{"content":"Box 1: Validate JWT\nThe validate-jwt policy enforces existence and validity of a JWT extracted from either a specified HTTP Header or a specified query parameter.\n\nBox 2: Inbound\nAuthentication should be done on Incoming Request and that should be done in Inbound section of the policy of course.\n\nThis policy can be used in the following policy sections and scopes.\nPolicy sections: inbound\nPolicy scopes: all scopes\n\nReference:\n\nhttps://docs.microsoft.com/en-us/azure/api-management/api-management-access-restriction-policies\n\nhttps://docs.microsoft.com/en-us/azure/api-management/api-management-access-restriction-policies#ValidateJWT\n\nhttps://docs.microsoft.com/en-us/azure/api-management/api-management-access-restriction-policies","comment_id":"371939","upvote_count":"30","poster":"mlantonis","timestamp":"1654092360.0"},{"content":"JWT=Json Web Token (for who does not know).","timestamp":"1729011420.0","comment_id":"1044312","poster":"Ciupaz","upvote_count":"3"},{"upvote_count":"3","comment_id":"644931","content":"Agreed with inbound. Only inbound direction can be choose when using a JWT token.","timestamp":"1691666220.0","poster":"OlivierPaudex"},{"poster":"Eltooth","comment_id":"622041","content":"JWT \nInbound","upvote_count":"2","timestamp":"1687679700.0"},{"poster":"SivajiTheBoss","content":"Correct answer:\n1. JWT \n2. Inbound","comment_id":"563632","timestamp":"1678324740.0","upvote_count":"5"},{"comment_id":"530253","poster":"leonidn","content":"Validate JWT\nInbound","upvote_count":"5","timestamp":"1674448980.0"},{"content":"Scenario, section 'Authentication':\n5. The web application calls an API and includes the access token in the authentication header. The application ID is sent as the audience (`˜aud') claim in the access token.\n6. The back-end API validates the access token.\n\nSo, shouldn't the first box be \"Check HTTP header\"?","timestamp":"1672853700.0","poster":"fr369","comments":[{"content":"Yeap, it could be done that way also... there is a small performance hit when using JWT validation. There is no need to have the validation on both places except in the case one has a \"great\" number of invalid JWT tokens and you want to remove the burden from the backend server.\n\nSo I think that deciding between checking the existence of the header vs validation JWT in this exams boils down to \"lucky guess\".","poster":"lugospod","timestamp":"1672914780.0","comment_id":"517365","upvote_count":"2"}],"comment_id":"516867","upvote_count":"4"},{"upvote_count":"3","poster":"MrXBasit","comments":[{"poster":"MrXBasit","timestamp":"1658845380.0","content":"Use the Validate JWT policy to pre-authorize requests in API Management, by validating the access tokens of each incoming request. If a request does not have a valid token, API Management blocks it. Validate JWT policy is part of <inbound> policy section of the the API. It checks the audience claim in an access token, and returns an error message if the token is not valid.\n\nhttps://docs.microsoft.com/en-us/azure/api-management/api-management-access-restriction-policies#ValidateJWT","comment_id":"414760","upvote_count":"4"}],"content":"Policy Section should be Inbound","timestamp":"1658845320.0","comment_id":"414759"},{"content":"The correct answer is:\nValidate JWT\nInbound","upvote_count":"3","timestamp":"1652874660.0","poster":"anandhprakash","comment_id":"360436"},{"content":"wht is the correct answer \nrestrict caller ip & inbound","comment_id":"358489","poster":"pavan555manjunath","timestamp":"1652693100.0","upvote_count":"1"},{"timestamp":"1650428040.0","comments":[{"timestamp":"1652432700.0","poster":"SnakePlissken","upvote_count":"2","content":"IP restriction is only asked for file access, not API calls.","comment_id":"356186"}],"content":"the answer should be restrict caller ip & inbound","upvote_count":"1","poster":"faizalzain","comment_id":"339308"},{"poster":"kwaazaar","comments":[{"content":"A very good point, but I hope Microsoft guys do not understand the difference between Authentication and Authorization and go with the most-voted answer. Majority wins (does it?). All of these questions are substandard","timestamp":"1696747680.0","poster":"gmishra88","comment_id":"689082","upvote_count":"1"}],"upvote_count":"2","content":"Shouldn't it also restrict by up? Or was that not intended, since the question is about authentication instead of authorization?","timestamp":"1649327760.0","comment_id":"330254"},{"timestamp":"1648919220.0","content":"It should be Inbound. Authentication should be done on Incoming Request and that should be done in Inbound section of the policy ofcourse.","comment_id":"326831","poster":"SubhoG","upvote_count":"4"}],"question_id":52,"isMC":false,"unix_timestamp":1615490280,"exam_id":48,"timestamp":"2021-03-11 20:18:00","answer_description":"","question_text":"HOTSPOT -\nYou need to configure API Management for authentication.\nWhich policy values should you use? To answer, select the appropriate options in the answer area.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","answer":""},{"id":"omAIwGITp5bx2ZX4Rp5u","exam_id":48,"answer_description":"","url":"https://www.examtopics.com/discussions/microsoft/view/46753-exam-az-204-topic-13-question-4-discussion/","question_images":[],"choices":{"E":"Azure AD tenant ID","C":"HTTP response code","D":"Azure AD endpoint URI","A":"ID token signature","B":"ID token claims"},"topic":"13","isMC":true,"question_text":"You need to authenticate the user to the corporate website as indicated by the architectural diagram.\nWhich two values should you use? Each correct answer presents part of the solution.\nNOTE: Each correct selection is worth one point.","answer":"AD","answer_images":[],"answer_ET":"AD","discussion":[{"comment_id":"328586","timestamp":"1617620940.0","upvote_count":"40","content":"You need ID Token Claims for authorisation.\nYou need to validate ID Token signature as a part of authentication.\nSo the correct answer is A.\nHaving both D & E does not make sense, URI has tenant ID in it, so answer D.","poster":"trance13","comments":[{"content":"received 2023-04-17 went with given answer, score 926","poster":"surprise0011","timestamp":"1681722480.0","upvote_count":"5","comment_id":"872514"},{"upvote_count":"2","content":"couldn't agree more.\nID Token signature should be validated to Authenticate User\nTo get token you need to make a request to Microsoft Identity Platform Endpoint which also contains tenant. \nSo most appropriate are A and D","timestamp":"1681538160.0","comment_id":"870683","poster":"surprise0011"}]},{"upvote_count":"21","poster":"faizalzain","content":"it should be D & E","comment_id":"339309","timestamp":"1618892220.0"},{"timestamp":"1733350260.0","content":"Selected Answer: AB\nhttps://learn.microsoft.com/en-us/entra/identity-platform/claims-validation\n\nTo validate the ID token we need to validate its signature (to ensure it has not been tampered= and we need to validate the AUD claim (The application ID is sent as the audience (‘aud’) claim in the access token.)\n\nSo I believe it's A and B","upvote_count":"1","poster":"cmmr","comment_id":"1322119"},{"poster":"overhill","timestamp":"1732437840.0","comment_id":"1316972","content":"For Authentication is DE, you need the endpoint and the tenant you are authenticating against\nPost Authentication is AB post autentication we will use claims and can use signature to verify the response\nso it depends what the guys are asking.\nI think they are asking what will you use to authenticate and in that case it has to be DE.\nnot AB which you don't know prior to authenticate. the Signature and claims are received after sending the authentication request when we perform a id_token request","comments":[{"content":"I Was wrong for a few reasons.\nIt is not the URL but rather the URI, which means that D) already contains E)\n\nThat said in order for the authentication to be completed the signature needs to be veridfied and that is done comparing the response with the id_token signature","comment_id":"1316975","timestamp":"1732438260.0","upvote_count":"1","poster":"overhill"}],"upvote_count":"1"},{"upvote_count":"2","timestamp":"1731374760.0","poster":"ptpt1","comment_id":"1310396","content":"Selected Answer: DE\nis the right answer"},{"timestamp":"1711650600.0","poster":"oskx2","content":"I think the correct answer is A and B based on the following: https://learn.microsoft.com/en-us/entra/identity-platform/v2-protocols-oidc#validate-the-id-token\n\n\"Receiving an ID token in your app might not always be sufficient to fully authenticate the user. You might also need to validate the ID token's signature and verify its claims per your app's requirements.\"\n\nSince the app Id is mentioned in the requirements, I assume that you need to validate the signature and the aud claim","comment_id":"1184953","upvote_count":"1"},{"content":"Selected Answer: AD\nD contains E","upvote_count":"2","timestamp":"1700228640.0","comment_id":"1073353","poster":"AlwaysInvade"},{"comment_id":"907812","content":"Appeared in exam I took at 27-5-2023\nI chose A and D","upvote_count":"4","poster":"Vmwarevirtual","timestamp":"1685169780.0"},{"comment_id":"772612","content":"This question came on jan9,2023. Choose d,e. Score 834","timestamp":"1673446140.0","poster":"sriazure213","upvote_count":"2"},{"comments":[{"timestamp":"1680962580.0","upvote_count":"2","content":"If only the solution is multitenant. Which is not.","poster":"warchoon","comment_id":"864733"}],"timestamp":"1669546800.0","comment_id":"728143","poster":"hubekpeter","content":"Selected Answer: AE\nGuys this is a standard Sign-in flow. I think the correct answer is AE. First you need to know the tenant it so you'll be able to send a sign in request GET https://login.microsoftonline.com/{tenant}/oauth2/v2.0/authorize? and in reply you'll get a id_token (JWT), which in turn can be used to get an access token to UserInfo endpoint. I'm not 100% sure, but this way, it makes sense to me.","upvote_count":"2"},{"comment_id":"717294","timestamp":"1668342660.0","content":"Selected Answer: AD\ncorrect ans","poster":"OPT_001122","upvote_count":"3"},{"poster":"coffecold","timestamp":"1666339740.0","comments":[{"upvote_count":"1","content":"You're getting a claims from the auth endpoint in turn.","comment_id":"728129","timestamp":"1669545060.0","poster":"hubekpeter"}],"content":"Answer A+ B \n\"Each correct answer presents part of the solution\"\nFrom a JWT the header and signature are used to verify the authenticity of the token. The signature is raw information to verify so A is correct.\nThe claims in the header you need to validate this signature of the token , especially the 'kid' claim. So you need header claims (these are token claims, answer B) as well.\n \nhttps://learn.microsoft.com/en-us/azure/active-directory/develop/id-tokens\nhttps://learn.microsoft.com/en-us/azure/active-directory/develop/access-tokens","comment_id":"700648","upvote_count":"1"},{"timestamp":"1665212100.0","comments":[{"content":"I want to go for ID token signature and the token-claims as the answer.\nTo check authentication, one need to validate first the signature to be sure it is correct. Check the audience is the the application and then of course check the service principal (combination of oid and sub claims). But all these are in the ID token (claims and the signature). So I just need the ID token.","poster":"gmishra88","comment_id":"689088","comments":[{"content":"So, it is either AB or DE at least. Just the signature is not enough for authentication, you need also the claims.","poster":"gmishra88","timestamp":"1665213000.0","comment_id":"689089","upvote_count":"1"},{"upvote_count":"1","content":"wait a minute, I'm overthinking. I do not think this certification department from Microsoft understands difference between Authentication and Authorization. So, right answer at the level of Microsoft intelligence is DE. Look at the \"steps to authenticate\" they mention access token there. That clearly shows they do not understand the authentications steps. Because it uses an access_token it cannot be A and B.","comment_id":"689091","comments":[{"upvote_count":"1","content":"Can't we have claims in access tokens? https://learn.microsoft.com/en-us/azure/active-directory/develop/access-tokens#claims-in-access-tokens","comments":[{"upvote_count":"1","timestamp":"1684843800.0","comment_id":"904872","content":"..But the possible answers mention ID token signature/claims... Nevermind","poster":"damianadalid"}],"timestamp":"1684843740.0","poster":"damianadalid","comment_id":"904870"}],"timestamp":"1665213240.0","poster":"gmishra88"}],"timestamp":"1665212940.0","upvote_count":"1"}],"content":"\"Which two values should you use?\" Where, Microsoft, where? While forwarding the request to an authorize endpoint to retrieve an ID token? Or while validating the id-token-signature? The question creator had something in his mind when he suddenly stopped thinking. We have to guess where he stopped. This is a psychology question","upvote_count":"4","comment_id":"689086","poster":"gmishra88"},{"timestamp":"1660136400.0","comment_id":"644974","content":"1. The user have to authenticate clicking on a link in the web app. It means that the \"tenant ID\" of the AD is used here, not the URI.\n\n2. You have to use the aud claim to ensure that the user intended to call the application. If the identifier of the resource isn't in the aud claim, reject it.\n\nhttps://docs.microsoft.com/en-us/azure/active-directory/develop/access-tokens#validating-tokens\n\nIn my opinion, the right answers are:\nB: ID token claims\nE: Azure AD tenant ID\n\nNot sure at all, but there was the right options choose by others exam website.","poster":"OlivierPaudex","upvote_count":"3"},{"poster":"ChrisEvans","comment_id":"584437","upvote_count":"5","timestamp":"1649718600.0","content":"Selected Answer: AD\nClaims are for authorization. The signature is used for authentication, and the endpoint url includes the tenant id, so A&D are correct by process of elimination."},{"content":"Selected Answer: AD\nAuthentication is not sign in!\nSo for example API Management needs to check whether the user is as stated.\nSo it needs\n* D to find the correct authentication \"service\".\n* And to check if the user is as stated \"A\" is needed, since this is the only option that contains information about the user.\n\nB is not viable since the claims alone are not trustworthy.\nI don't know why E would help and it can surely not replace A or D.\nC is surely not needed since it contains neither information about the user nor the AD.","timestamp":"1646309100.0","comments":[{"content":"https://learn.microsoft.com/en-us/azure/app-service/overview-authentication-authorization#authentication-flow:~:text=Client%20code%20posts%20token%20from%20provider%20to%20/.auth/login/%3Cprovider%3E%20for%20validation.","comment_id":"864751","timestamp":"1680963780.0","poster":"warchoon","upvote_count":"1"}],"comment_id":"560030","upvote_count":"4","poster":"ReniRechner"},{"comment_id":"556579","upvote_count":"2","timestamp":"1645864980.0","poster":"chingdm","content":"To authenticate, you need to know the url of auth service api and the tenant id i.e. https://login.microsoftonline.com/{tenant}/oauth2/v2.0/authorize?\nclient_id=6731de76-14a6-49ae-97bc-6eba6914391e\n&response_type=code\n&redirect_uri=http%3A%2F%2Flocalhost%2Fmyapp%2F\n&response_mode=query\n\nafter visiting that url, it will be presented the AD consent and login, then auth code is appended to the redirect url, which can be used to get the access token.\n\nso answer is D and E."},{"comments":[{"content":"id_token signature is needed as part of validating the jwt response","poster":"overhill","comment_id":"1316978","upvote_count":"1","timestamp":"1732438980.0"}],"poster":"leonidn","comment_id":"530254","content":"Selected Answer: DE\nWe are asked about what we need to get authenticated. A and B make sense when a user is authenticated. Hence, both options are invalid. I do not know why we need Response Code. Consequently, options D and E.","timestamp":"1642913280.0","upvote_count":"3"},{"timestamp":"1642604280.0","upvote_count":"10","comment_id":"527636","content":"Got this one 01/2022. Went with DE since they are asking about AUTHENTICATION and not AUTHORIZATION","poster":"lugospod"},{"timestamp":"1642143960.0","content":"Selected Answer: DE\nthis is the correct answer","comment_id":"523392","upvote_count":"1","poster":"Loai"},{"timestamp":"1641468480.0","content":"AzureAD token is a JWT - therefore A&D are correct. You need the token signature and the claims (for business-logic validation).\n\nhttps://docs.microsoft.com/en-us/azure/active-directory/develop/access-tokens#validating-tokens","poster":"asdasdasg2","upvote_count":"1","comments":[{"comment_id":"518183","poster":"asdasdasg2","content":"Sorry, meant A&B","upvote_count":"1","timestamp":"1641468540.0"}],"comment_id":"518182"},{"timestamp":"1641380280.0","upvote_count":"3","comment_id":"517379","comments":[{"timestamp":"1665211920.0","upvote_count":"1","content":"ID token is about authentication and not authorization. Access token is about authorization. But this question is very unclear","comment_id":"689083","poster":"gmishra88"}],"poster":"lugospod","content":"I would say that the question is about authentication and NOT authorization so this automatically eliminates A & B. C makes no sense, so we are left with two options D & E which you really do need to connect and authenticate via AD (additionally Client/Application ID is needed)"},{"upvote_count":"3","content":"It should be A & E\nhttps://docs.microsoft.com/en-us/azure/api-management/api-management-howto-protect-backend-with-aad","poster":"tiggertag2000","timestamp":"1639453080.0","comment_id":"501041"},{"upvote_count":"4","timestamp":"1636152300.0","poster":"phvogel","content":"It should be D & E. Check out this code sample: Step 3 (run your Visual Studio program) and the information that has to be provided in step 5: The tenant Id and the redirect URI (also the application Id but that's not listed here): https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-v2-aspnet-webapp","comment_id":"473245"},{"content":"The answer would be A and D\nPre-authorize requests in API Management with the Validate JWT policy, by validating the access tokens of each incoming request. If a request does not have a valid token, API Management blocks it.","comment_id":"448497","upvote_count":"3","timestamp":"1632176280.0","poster":"RajMasilamani"},{"poster":"ning","upvote_count":"7","timestamp":"1629501240.0","comment_id":"428430","content":"If you are talking about configuring AAD, then I will go D, E ...\nIf you are talking about validate the token, then it must be ID Token ...\nI am not sure what is the question asking for???"},{"timestamp":"1627309440.0","comments":[{"comment_id":"415863","poster":"SWedig","content":"I think you are right. \nhttps://docs.microsoft.com/en-us/azure/app-service/configure-authentication-provider-aad","comments":[{"content":"Just talked to a friend who works at the MS Azure Team and he would pick D and E. This was his explanation.","timestamp":"1665639720.0","comment_id":"693637","poster":"VaterGanz","upvote_count":"1"}],"upvote_count":"1","timestamp":"1627443120.0"}],"content":"The answer is D and E \n\nUser authentication flow-\nThe following steps detail the user authentication process:\n1. The user selects Sign in in the website.\n2. The browser redirects the user to the Azure Active Directory (Azure AD) sign in page.\n3. The user signs in.\n4. Azure AD redirects the user's session back to the web application. The URL includes an access token.\n\nTo redirect user for authentication when user clicks on Sign in, we need Azure AD endpoint URI and Azure AD tenant ID.\n\nhttps://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-v2-aspnet-webapp","comment_id":"414761","upvote_count":"13","poster":"MrXBasit"},{"comments":[{"timestamp":"1627289700.0","comment_id":"414527","poster":"ZodiaC","upvote_count":"3","content":"NO ITS D & E 1000000000000000%!"}],"poster":"somenkr","timestamp":"1626068940.0","content":"Ans is correct","upvote_count":"2","comment_id":"404405"},{"timestamp":"1624722060.0","poster":"DParekh","comment_id":"391371","upvote_count":"3","content":"Yes, It should be D and E. Azure Endpoint URI and Tenant ID"},{"content":"I think it should be B and D","upvote_count":"3","comments":[],"comment_id":"379896","timestamp":"1623424980.0","poster":"neokrieg"},{"poster":"mlantonis","timestamp":"1622556060.0","comment_id":"371936","content":"That's a tricky question. I will go with D and E, even though I believe you need a token as well.","upvote_count":"4"},{"comment_id":"364171","upvote_count":"4","timestamp":"1621748880.0","poster":"BabyTechMaggie","content":"The correct answer is D & E"},{"timestamp":"1621339980.0","comment_id":"360466","poster":"anandhprakash","content":"Why can't B& E?\nToken claims\nTenant ID","upvote_count":"2"},{"comment_id":"347302","poster":"Lily2022","upvote_count":"3","timestamp":"1619912760.0","content":"The answer is correct"},{"comment_id":"336421","timestamp":"1618503420.0","poster":"PoundingCode","upvote_count":"3","content":"collect the following information which you will need later when you configure the authentication in the App Service app:\n\nClient ID\nTenant ID\nClient secret (optional)\nApplication ID URI\n\nhttps://docs.microsoft.com/en-us/azure/app-service/configure-authentication-provider-aad#-use-an-existing-registration-created-separately"},{"poster":"clarionprogrammer","content":"My vote is A & B.\nJust receiving an ID token is not enough to authenticate the user. Validate the ID token's signature and verify the claims in the token per your application's requirements. \nhttps://docs.microsoft.com/en-us/azure/active-directory-b2c/openid-connect","timestamp":"1618279920.0","comments":[{"comment_id":"411061","upvote_count":"5","content":"Claims are used for Authorization, not Authentication.","poster":"argoth","timestamp":"1626888420.0"}],"upvote_count":"1","comment_id":"334364"},{"comment_id":"330261","content":"AAD returns an access token and optionally an id token. The website doesn't validate it. The API does. The website may use the claims to show/hide certain functionality in the website.","poster":"kwaazaar","timestamp":"1617792240.0","upvote_count":"1"},{"upvote_count":"7","poster":"Zsolt72","timestamp":"1617277980.0","comment_id":"325758","content":"https://docs.microsoft.com/en-us/azure/app-service/configure-authentication-provider-aad\n\nD,E according to the above URL"},{"comment_id":"310889","upvote_count":"3","timestamp":"1615755780.0","poster":"Marusyk","content":"The answer is correct"},{"content":"https://www.examtopics.com/discussions/microsoft/view/36078-exam-az-204-topic-14-question-4-discussion/","comment_id":"309089","poster":"Kuna_Lambo","upvote_count":"2","timestamp":"1615576380.0"}],"unix_timestamp":1615576380,"answers_community":["AD (61%)","DE (26%)","9%"],"question_id":53,"timestamp":"2021-03-12 20:13:00"},{"id":"549uIf730n1YjpV0jUHD","answers_community":[],"url":"https://www.examtopics.com/discussions/microsoft/view/49178-exam-az-204-topic-13-question-5-discussion/","question_text":"HOTSPOT -\nYou need to correct the Azure Logic app error message.\nWhich configuration values should you use? To answer, select the appropriate options in the answer area.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","question_id":54,"topic":"13","discussion":[{"timestamp":"1638374100.0","upvote_count":"51","comments":[{"comment_id":"1102727","content":"Why System assigned?","upvote_count":"2","timestamp":"1718979480.0","poster":"bp_a_user"},{"content":"Reference:\n\nhttps://docs.microsoft.com/en-us/azure/logic-apps/logic-apps-azure-functions#set-up-anonymous-authentication-in-your-function","timestamp":"1638374160.0","upvote_count":"8","poster":"mlantonis","comment_id":"371933"},{"comment_id":"1097043","content":"Explanation for using anonymous https://learn.microsoft.com/en-us/azure/logic-apps/logic-apps-azure-functions?tabs=consumption#set-up-your-function-for-anonymous-authentication-consumption-workflows-only","upvote_count":"2","timestamp":"1718419860.0","poster":"Hike1216"}],"poster":"mlantonis","comment_id":"371932","content":"Logic app:\nYou test the Logic app in a development environment. The following error message displays: '400 Bad Request'.\nTroubleshooting of the error shows an HttpTrigger action to call the RequestUserApproval function.\n\nBox 1: anonymous\nTo use your logic app's managed identity in your function, you must set your function's authentication level to anonymous. Otherwise, your logic app throws a \"BadRequest\" error.\n\nBox 2: system-assigned\nYour logic app or individual connections can use either the system-assigned identity or a single user-assigned identity, which you can share across a group of logic apps, but not both. On your logic app menu, under Settings, select Identity > System assigned"},{"content":"According to this article Function authz should be set to anonymous as we're using AAD auth. https://adatum.no/azure/azure-ad-authentication-in-azure-functions","timestamp":"1633431420.0","poster":"rqb11","comments":[{"comment_id":"717598","timestamp":"1684019100.0","poster":"micro9000","upvote_count":"2","content":"agree on this based on the docs, \nFor your function to use your logic app's managed identity, you must set your function's authentication level to anonymous. Otherwise, your logic app workflow throws a BadRequest error."},{"comment_id":"608259","upvote_count":"2","poster":"RaviNikkam","comments":[{"timestamp":"1680938220.0","comment_id":"689096","upvote_count":"3","content":"That's why it is giving the error and that need to be solved","poster":"gmishra88"},{"poster":"xRiot007","comment_id":"620271","timestamp":"1671707580.0","upvote_count":"2","content":"That is for the function in the function app, not the logic app."}],"content":"Look at line RA05 which clearly mentions, authorization level as function.","timestamp":"1669618380.0"},{"content":"Agree, see also this: https://docs.microsoft.com/en-us/azure/logic-apps/logic-apps-azure-functions#enable-authentication-for-functions","upvote_count":"4","poster":"Imass","comment_id":"336931","timestamp":"1634381520.0"},{"poster":"anastakasim","comment_id":"336197","comments":[{"comment_id":"414531","upvote_count":"5","poster":"ZodiaC","content":"NOPE READ LINK !","timestamp":"1643194680.0"}],"timestamp":"1634296740.0","upvote_count":"1","content":"Not function?"}],"upvote_count":"35","comment_id":"328580"},{"content":"Logic apps are not in scope anymore for the test. This may change this question.","comment_id":"1208141","upvote_count":"3","poster":"robertical","timestamp":"1731040860.0"},{"timestamp":"1680938280.0","content":"For some weird reason Microsoft decided that logic apps cannot use the user-assigned identity when it is given to multiple. Totally random restriction that shows the inter-departmental issues in this organization. And they think that fault-line is a good question to ask.","comment_id":"689098","poster":"gmishra88","upvote_count":"7"},{"poster":"ChrisEvans","upvote_count":"1","timestamp":"1665530100.0","comment_id":"584439","comments":[{"upvote_count":"2","poster":"gmishra88","comment_id":"683450","timestamp":"1680170220.0","content":"I do agree the question is not clear. But if you think deep enough you will see that it is the function app that you need to change for the authorization (Box 1) and in the logic app to use the user-assigned-identity"}],"content":"We are fixing the logic app, not the function app. If you look at the function app code, you can see it's using function level authentication, so it can't be anonymous. I think it's function + system assigned."},{"upvote_count":"4","poster":"SivajiTheBoss","comment_id":"566699","timestamp":"1663055940.0","content":"Correct Answer: \nAnonymous\nSystem assigned identity"},{"content":"Can use combination of auth level=Function + managed identity=user-assigned, this works if you set the Function, Logic App and API Management to use this same user-assigned identity.\notherwise, the simpler approach but less secure is to have auth level=Anonymous set to Function and the Logic App to have the system-assigned managed identity.\nhttps://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/overview","comment_id":"556587","poster":"chingdm","upvote_count":"1","timestamp":"1661497560.0"},{"timestamp":"1658760180.0","content":"Why system-assigned?","poster":"edengoforit","upvote_count":"1","comment_id":"532262"},{"comment_id":"448006","poster":"Jonas_86","content":"Anonymous ans system-assigned\ncheck : https://docs.microsoft.com/fr-fr/azure/spring-cloud/tutorial-managed-identities-functions","timestamp":"1647764220.0","upvote_count":"1"},{"timestamp":"1645617000.0","comments":[{"comment_id":"429858","poster":"ning","timestamp":"1645617120.0","content":"Only thing I can see \"All user accounts and processes must receive only those privileges which are essential to perform their intended function.\" maybe system identity then ...","upvote_count":"4"}],"upvote_count":"1","content":"Either system or user identity works in this scenario ...\nWithout further requirements, it is hard to say ...","comment_id":"429856","poster":"ning"},{"content":"I think I would answer\nBox1: anonymous\nBox2: user-assigned -> there are 2 Logic Apps in the picture, so it makes sense to me to create a user-assigned identity that is being used for both Logic Apps?","timestamp":"1641895860.0","comment_id":"403770","poster":"jkes80","comments":[],"upvote_count":"2"},{"upvote_count":"5","comment_id":"360473","content":"Anonymous\nSystem assigned identity\n\nwill be correct answer? I am guessing","timestamp":"1637245140.0","poster":"anandhprakash"},{"upvote_count":"3","poster":"SnakePlissken","comments":[{"timestamp":"1680167520.0","upvote_count":"1","poster":"gmishra88","comment_id":"683427","content":"Logic app is removed, but function app is not and this question is about the function app. So, unfortunately this question is still in scope"},{"timestamp":"1639892940.0","poster":"if54uran","upvote_count":"1","comments":[{"timestamp":"1647523560.0","upvote_count":"3","content":"The left side of the table states the things that are retired from the exam. \"Previous Study Guide\" :)\nSo SnakePlissken is correct.","comment_id":"446565","poster":"hstml"}],"content":"It seems to still in ther o_O --> page 6 lower left side \"Develop an App Service Logic App\"\nAm I missing something here?","comment_id":"385189"}],"comment_id":"356200","timestamp":"1636803060.0","content":"Logic App is removed from the study guide on March 26, 2021.\nhttps://query.prod.cms.rt.microsoft.com/cms/api/am/binary/RE4oZ7B"},{"poster":"oadigun","upvote_count":"7","timestamp":"1636331760.0","content":"Answer is Anonymous....To use your logic app's managed identity in your function, you must set your function's authentication level to anonymous. Otherwise, your logic app throws a \"BadRequest\" error.\nhttps://docs.microsoft.com/en-us/azure/logic-apps/logic-apps-azure-functions#set-up-anonymous-authentication-in-your-function","comment_id":"352223"}],"question_images":["https://www.examtopics.com/assets/media/exam-media/04273/0031600001.png"],"unix_timestamp":1617620220,"answer":"","answer_description":"","isMC":false,"answer_images":["https://img.examtopics.com/az-204/image625.png"],"exam_id":48,"answer_ET":"","timestamp":"2021-04-05 12:57:00"},{"id":"aeqB4meJWCBt0HLVY8uG","question_images":["https://www.examtopics.com/assets/media/exam-media/04273/0031800001.png"],"isMC":false,"topic":"13","exam_id":48,"answer_description":"Box 1: Premium -\nService Bus can now emit events to Event Grid when there are messages in a queue or a subscription when no receivers are present. You can create Event Grid subscriptions to your Service Bus namespaces, listen to these events, and then react to the events by starting a receiver. With this feature, you can use Service\nBus in reactive programming models.\nTo enable the feature, you need the following items:\nA Service Bus Premium namespace with at least one Service Bus queue or a Service Bus topic with at least one subscription.\nContributor access to the Service Bus namespace.\n\nBox 2: Contributor -\nReference:\nhttps://docs.microsoft.com/en-us/azure/service-bus-messaging/service-bus-to-event-grid-integration-concept","question_id":55,"answer_images":["https://www.examtopics.com/assets/media/exam-media/04273/0031900001.png"],"answers_community":[],"discussion":[{"comment_id":"371941","timestamp":"1654092540.0","poster":"mlantonis","content":"To enable the feature, you need the following items:\n- A Service Bus Premium namespace with at least one Service Bus queue or a Service Bus topic with at least one subscription.\n- Contributor access to the Service Bus namespace.\n\nBox 1: Premium\n\nBox 2: Contributor\n\nReference:\n\nhttps://docs.microsoft.com/en-us/azure/service-bus-messaging/service-bus-to-event-grid-integration-concept","upvote_count":"36"},{"comment_id":"310892","comments":[{"poster":"TonyMel","timestamp":"1711362180.0","content":"correct, in 2023Mar24, score: 904/1000.","comment_id":"850016","upvote_count":"1"},{"timestamp":"1713344820.0","content":"received 2023-04-17 went with given answer, score 926","poster":"surprise0011","upvote_count":"2","comment_id":"872513"}],"content":"The answer is correct","upvote_count":"27","timestamp":"1647291960.0","poster":"Marusyk"},{"timestamp":"1733130120.0","upvote_count":"4","poster":"Weam","content":"Azure service bus + azure grid = Premium","comment_id":"1086000"},{"timestamp":"1722245160.0","upvote_count":"2","content":"got this question on 29/06/2023","poster":"BaoNguyen2411","comment_id":"966278"},{"poster":"gmishra88","upvote_count":"2","content":"RBAC role for what the service-bus, event-grid of \"you\"? I hope Microsoft does not ask such vague questions directly taken from their documentations","timestamp":"1696069200.0","comments":[{"poster":"gmishra88","comments":[{"comment_id":"689136","upvote_count":"1","poster":"gmishra88","timestamp":"1696754040.0","content":"All these requirements are for integration, but then I guess they are asking for the third case when guessing the options available:\n\"Azure Event Grid must use Azure Service Bus for queue-based load leveling.\nEvents in Azure Event Grid must be routed directly to Service Bus queues for use in buffering.\nEvents from Azure Service Bus and other Azure services must continue to be routed to Azure Event Grid for processing.\""}],"upvote_count":"3","timestamp":"1696752780.0","content":"\"You should have contributor access to setup this\". And also service bus should be premium. But what to setup is the issue. The problem with microsoft question is they do not tell what is the functionality that needs to be setup. Just that Azure service bus to Event grid integration. It could be for load-levelling, it could be for \"Service Bus can emit events to Event Grid when there are messages in a queue or a subscription when no receivers are present\". For the first use, you do not need to do this. It's a guessing game","comment_id":"689129"}],"comment_id":"683456"},{"content":"\"You need to configure Azure Service Bus to Event Grid integration\" < for what? there could be many integration possibilities but what exactly is the requirement. Or is Microsoft looking for the page with a similar title as that. Requirements should be functional. Integrate it for what purpose.","upvote_count":"1","timestamp":"1696069020.0","poster":"gmishra88","comment_id":"683455"},{"comment_id":"527637","timestamp":"1674140340.0","upvote_count":"5","content":"Got this one 01/2022. Went with most voted (to avoid writing answers again)","poster":"lugospod"},{"timestamp":"1658845560.0","comment_id":"414767","poster":"MrXBasit","upvote_count":"2","content":"Correct"},{"upvote_count":"7","poster":"syedaquib77","content":"Azure Service Bus to Event Grid integration overview\n\nTo enable the feature, you need the following items:\n\nA Service Bus *Premium* namespace with at least one Service Bus queue or a Service Bus topic with at least one subscription.\n\n*Contributor access* to the Service Bus namespace. Navigate to your Service Bus namespace in the Azure portal, and then select Access control (IAM), and select Role assignments tab. Verify that you have the contributor access to the namespace.\n\nhttps://docs.microsoft.com/en-us/azure/service-bus-messaging/service-bus-to-event-grid-integration-concept?tabs=event-grid-event-schema","comment_id":"334709","comments":[{"content":"Tier = Premium, because the requirement says \"Data must be replicated to a secondary region and three availability zones\". Standard and basic don't support Geo Disasster Recover and Availability Zones.","poster":"ferut","timestamp":"1653583980.0","comment_id":"367323","upvote_count":"15"}],"timestamp":"1649856240.0"},{"timestamp":"1649157000.0","upvote_count":"4","content":"Premium tier includes Geo-Disaster Recovery (Geo-DR): https://azure.microsoft.com/en-us/pricing/details/service-bus/","comment_id":"328587","poster":"rqb11","comments":[{"poster":"atomicicebreaker","content":"Microsoft for sure likes your mindset ;) You are correct, but the issue in this question is Service Bus <-> Event Grid communication, not availability or data recovery.","upvote_count":"4","timestamp":"1649670960.0","comment_id":"333187"}]}],"answer":"","url":"https://www.examtopics.com/discussions/microsoft/view/47104-exam-az-204-topic-13-question-6-discussion/","timestamp":"2021-03-14 22:06:00","unix_timestamp":1615755960,"question_text":"HOTSPOT -\nYou need to configure Azure Service Bus to Event Grid integration.\nWhich Azure Service Bus settings should you use? To answer, select the appropriate options in the answer area.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","answer_ET":""}],"exam":{"isBeta":false,"numberOfQuestions":452,"id":48,"lastUpdated":"12 Apr 2025","isMCOnly":false,"isImplemented":true,"provider":"Microsoft","name":"AZ-204"},"currentPage":11},"__N_SSP":true}