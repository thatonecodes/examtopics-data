{"pageProps":{"questions":[{"id":"S9GHJHfyushWPGyJu8Qn","answer_description":"","isMC":true,"timestamp":"2023-03-31 11:56:00","question_text":"You are designing an Azure Cosmos DB Core (SQL) API solution to store data from IoT devices. Writes from the devices will be occur every second.\nThe following is a sample of the data.\n//IMG//\n\nYou need to select a partition key that meets the following requirements for writes:\n✑ Minimizes the partition skew\n✑ Avoids capacity limits\n✑ Avoids hot partitions\nWhat should you do?","exam_id":69,"answer_images":[],"question_images":["https://www.examtopics.com/assets/media/exam-media/04276/0003900001.png"],"unix_timestamp":1680256560,"answer_ET":"A","discussion":[{"timestamp":"1736589840.0","content":"Selected Answer: A\nA is correct answer. Device id + timestamp avoid hot partitions, minimize partition skew and capacity limits.\n\nChoosing timestamp alone or static values like deviceManufacturer or sensor1Value wouldn't provide the dynamic distribution needed to handle frequent writes effectively. Thus, a combination key such as deviceId and timestamp is the most efficient way to achieve balanced partitioning for IoT device data.","comment_id":"1339117","poster":"Tuopikson","upvote_count":"1"},{"poster":"imando","comment_id":"856888","upvote_count":"4","timestamp":"1727690160.0","content":"Selected Answer: A\nCorrect answer"}],"question_id":11,"choices":{"A":"Create a new synthetic key that contains deviceId and timestamp","C":"Use deviceManufacturer as the partition key","D":"Use sensor1Value as the partition key","B":"Use timestamp as the partition key"},"answers_community":["A (100%)"],"url":"https://www.examtopics.com/discussions/microsoft/view/104629-exam-dp-420-topic-1-question-19-discussion/","topic":"1","answer":"A"},{"id":"HzqlFuUO06BtIpyeL2sd","answer_description":"Box 1: Yes -\nThe Automatic failover option allows Azure Cosmos DB to failover to the region with the highest failover priority with no user action should a region become unavailable.\n\nBox 2: No -\nWest Europe is used for failover. Only North Europe is writable.\nTo Configure multi-region set UseMultipleWriteLocations to true.\n\nBox 3: Yes -\nProvisioned throughput with single write region costs $0.008/hour per 100 RU/s and provisioned throughput with multiple writable regions costs $0.016/per hour per 100 RU/s.\nReference:\nhttps://docs.microsoft.com/en-us/azure/cosmos-db/sql/how-to-multi-master https://docs.microsoft.com/en-us/azure/cosmos-db/optimize-cost-regions","isMC":false,"timestamp":"2022-04-25 11:46:00","question_text":"HOTSPOT -\nYou have an Azure Cosmos DB Core (SQL) account that has a single write region in West Europe.\nYou run the following Azure CLI script.\n//IMG//\n\nFor each of the following statements, select Yes if the statement is true. Otherwise, select No.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","exam_id":69,"answer_images":["https://www.examtopics.com/assets/media/exam-media/04276/0001400001.jpg"],"question_images":["https://www.examtopics.com/assets/media/exam-media/04276/0001300001.png","https://www.examtopics.com/assets/media/exam-media/04276/0001300002.png"],"unix_timestamp":1650879960,"answer_ET":"","question_id":12,"discussion":[{"timestamp":"1682681760.0","poster":"nqthien041292","content":"Vote YNN","comment_id":"593777","upvote_count":"24"},{"poster":"wispa2001","timestamp":"1684158420.0","content":"1:No\n2:Yes\n3:No","comment_id":"602109","upvote_count":"12","comments":[{"content":"Your first answer is incorrect - in the above, there is a change of the priority zero, effectively changing the write region.","comments":[{"timestamp":"1692078720.0","poster":"ognamala","upvote_count":"1","content":"Your second answer is also incorrect - again the priority 0 is changing which initiates manual failover - so that should be No.","comment_id":"647048"}],"comment_id":"647047","upvote_count":"1","poster":"ognamala","timestamp":"1692078660.0"},{"comment_id":"824179","upvote_count":"2","content":"Should be YNY. for the third one tried it on pricing calculator, the cost does not change.","timestamp":"1709070360.0","poster":"Ranzzzan"}]},{"upvote_count":"1","timestamp":"1741842540.0","poster":"anto69","comment_id":"1388187","content":"Y-N-N (ChatGPT verified with correct explanation)"},{"timestamp":"1736978100.0","content":"If the account has a single write, how do these commands impact the number of databases or writable ones? There is ONLY one primary database , there is no other database.","upvote_count":"1","comment_id":"1341265","poster":"YellowSky002"},{"poster":"[Removed]","upvote_count":"1","comment_id":"1059717","timestamp":"1730466600.0","content":"Answer is YNN"},{"poster":"60919_S","upvote_count":"2","timestamp":"1725867540.0","content":"Which is the right answer totally confused .","comment_id":"1003017"},{"upvote_count":"3","timestamp":"1723799640.0","poster":"Shiven","comment_id":"982360","content":"1-Y\n2-N\n3-Y\n\n\nfailover_priority - (Required) The failover priority of the region. A failover priority of 0 indicates a write region. The maximum value for a failover priority = (total number of regions - 1). Failover priority values must be unique for each of the regions in which the database account exists. Changing this causes the location to be re-provisioned and cannot be changed for the location with failover priority 0."},{"poster":"orionduo","content":"The anwser are correct.\n A failover priority of 0 indicates a write region.\n The price of West Euro and North Euro for Costome DB is just exactly the same. You may check it with Azure Pricing Calculator: https://azure.microsoft.com/en-us/pricing/calculator/","timestamp":"1722476100.0","comment_id":"968652","upvote_count":"1"},{"timestamp":"1717475940.0","content":"Answer should be\n\nNo - After running the script, there will not be an instance of Azure Cosmos DB in North Europe that is writable. The script sets the failover priority of North Europe to 0, indicating that it is a secondary region and not writable.\n\nYes - After running the script, the Azure Cosmos DB instance in West Europe will still be writable. The script does not change the failover priority or zone redundancy of the West Europe region, so it remains the primary region and writable.\n\nYes - The cost of the Azure Cosmos DB account is unaffected by running the script. The script only modifies the configuration and failover policies of the account, but it does not change the pricing or billing aspects of the account.","comment_id":"914123","poster":"azuredemo2022three","comments":[{"content":"Yes, Answer is YNN","poster":"azuredemo2022three","comment_id":"927332","upvote_count":"1","timestamp":"1718788440.0"}],"upvote_count":"1"},{"poster":"kel7718","comments":[{"timestamp":"1706172360.0","content":"Costs have increased since North Europe is added. Now we have two regions instead of one. Each region is billed: https://learn.microsoft.com/en-us/training/modules/configure-replication-manage-failovers-azure-cosmos-db/4-evaluate-cost-distributing-data-globally\n\nBut since the statment is 'The cost ... is unaffected ...', the answer is no.\nTherefore: YNN","comment_id":"787413","poster":"Alex22022","upvote_count":"2"}],"timestamp":"1702720800.0","comment_id":"747023","content":"A failover priority of 0 indicates a write region (https://learn.microsoft.com/en-us/rest/api/cosmos-db-resource-provider/2021-04-01-preview/database-accounts/failover-priority-change?tabs=HTTP) \n\nKnowing this, North Europe is now 0 so write region, first answer is thus Yes. West Europe is now 1 and we did not enable multiple write regions so we can no longer write to west europe and costs haven't increased as it is still a single write region. YNN","upvote_count":"1"},{"timestamp":"1700322360.0","poster":"codingdown","comment_id":"721376","content":"bah , not clear at all","upvote_count":"2"},{"content":"Yes - triggering a manual failover by changing priority zero causes write and read regions to be swapped\nNo - triggering a manual failover by changing priority zero causes write and read regions to be swapped\nYes - unaffected only because we are switching between west and north europe, if it was say switzerland it would be more expensive","comment_id":"647052","upvote_count":"7","poster":"ognamala","timestamp":"1692079140.0"},{"timestamp":"1691198520.0","comment_id":"642668","comments":[{"upvote_count":"1","comment_id":"787430","poster":"Alex22022","content":"C is No because each region is billed additionally. Equivalent emxample from the docs: https://learn.microsoft.com/en-us/training/modules/configure-replication-manage-failovers-azure-cosmos-db/4-evaluate-cost-distributing-data-globally","timestamp":"1706172960.0"},{"poster":"susejzepol","upvote_count":"1","timestamp":"1701110820.0","content":"I think because they are un the same región. This cause that cost doesn't increase.","comment_id":"728521"}],"poster":"SQLK","upvote_count":"1","content":"Why option C is yes??"},{"timestamp":"1687043220.0","poster":"Gtus","upvote_count":"4","comment_id":"617968","content":"The third statement here is tricky. Normally, Azure resource price is different for regions, this applicable to Cosmos DB as well. However, the price of West Euro and North Euro for Costome DB is just exactly the same. You may check it with Azure Pricing Calculator: https://azure.microsoft.com/en-us/pricing/calculator/"},{"poster":"lakime","content":"IMO C should be No","timestamp":"1682415960.0","upvote_count":"3","comment_id":"591521"}],"answers_community":[],"url":"https://www.examtopics.com/discussions/microsoft/view/74431-exam-dp-420-topic-1-question-2-discussion/","topic":"1","answer":""},{"id":"NR1azndrHwX4UsHp5vkQ","answer_images":[],"question_text":"You need to create a data store for a directory of small and medium-sized businesses (SMBs). The data store must meet the following requirements:\n✑ Store companies and the users employed by them. Each company will have less than 1,000 users.\n✑ Some users have data that is greater than 2 KB.\n✑ Associate each user to only one company.\n✑ Provide the ability to browse by company.\n✑ Provide the ability to browse the users by company.\n✑ Whenever a company or user profile is selected, show a details page for the company and all the related users.\n✑ Be optimized for reading data.\nWhich design should you implement to optimize the data store for reading data?","answer":"D","isMC":true,"unix_timestamp":1680182340,"topic":"1","url":"https://www.examtopics.com/discussions/microsoft/view/104481-exam-dp-420-topic-1-question-20-discussion/","answer_description":"","answers_community":["D (48%)","B (31%)","A (21%)"],"discussion":[{"poster":"arnabdt","comments":[{"timestamp":"1718875320.0","content":"The filter for both queries is company ID. B would result in cross partition queries with are not optimized for reading. A is the correct answer - one container, company ID as partition key and you can distinguish users from companies using a type prop, so if I only care to browse for a company I will not retrieve all its users because that would be extra data irrelevant for my search.","comment_id":"1101469","poster":"xRiot007","upvote_count":"8"}],"timestamp":"1696079940.0","comment_id":"855791","content":"Selected Answer: B\nB. Create a user container that uses the user ID as the partition key and a company container that uses the company ID as the partition key. Add the company ID to each user document.\n\nThis design separates the users and companies into two different containers, with each container optimized for querying their respective entities. The user container uses the user ID as the partition key, which allows for efficient retrieval of individual users. The company container uses the company ID as the partition key, which enables efficient retrieval of all users associated with a particular company.\n\nAdding the company ID to each user document in the user container allows for easy and fast querying of users by company. Whenever a company or user profile is selected, the details page for the company and all related users can be retrieved by joining the data from the two containers using the company ID.\n\nThis design meets all the requirements specified in the prompt, including efficient reading of data, browsing by company, and browsing users by company.","upvote_count":"12"},{"timestamp":"1706179800.0","comment_id":"962531","poster":"Zyo","upvote_count":"12","content":"1000 users with more than 2kb data can still exceed the 2MB allowed document size (dont forgot the company itself has data), so D is obviously incorrect."},{"timestamp":"1742416620.0","poster":"matejka","content":"Selected Answer: D\nD. In a company container, create a document for each company. Embed the users into company documents. Use the company ID as the partition key.\n\nHere's why:\nEfficiency in Data Retrieval: By embedding user data directly into the company document, all relevant user details can be fetched in a single query using the company ID. This aligns with the requirement to display a company's details and all related users on the details page.\n\nOptimized for Read Operations: Embedding ensures that browsing by company or browsing users within a company doesn't require multiple queries or complex joins. This makes the design highly performant for read-heavy operations.\n\nScalability: Since each company has less than 1,000 users, embedding users into a company document won't exceed size or scalability limits of most document databases.\n\nThis approach is particularly effective when the use case prioritizes read performance and browsing-related data access patterns.","comment_id":"1400729","upvote_count":"1"},{"upvote_count":"1","timestamp":"1739721780.0","poster":"szkielet","content":"Selected Answer: D\nSomebody has mention the limit.. But the limit of the document is up to 2MB not 2KB\n\nhttps://learn.microsoft.com/en-us/azure/cosmos-db/concepts-limits","comment_id":"1357288"},{"content":"Selected Answer: A\ndefinitely A","poster":"szkielet","comment_id":"1350267","upvote_count":"1","timestamp":"1738487220.0"},{"poster":"biglebowski88","content":"Selected Answer: A\nI've changed my mind to A. A would not have the risk of hitting the 2mb size limit whilst also maintaining in partition queries based on the companyID partition key.","timestamp":"1734175560.0","comment_id":"1326443","upvote_count":"1"},{"timestamp":"1734003600.0","comment_id":"1325585","upvote_count":"2","content":"Selected Answer: D\nD. Last statement says it should be optimized for reads. reads with embedded documents is most efficient and less compute resource intensive.","poster":"biglebowski88"},{"upvote_count":"1","content":"Selected Answer: B\noption B is the most suitable design to optimize the data store for reading data\n Partitioning data based on the company ID for companies and the user ID for users allows for efficient retrieval of data. When querying for a specific company or user, the partition key helps direct the query to the appropriate partition, minimizing the amount of data that needs to be scanned.","timestamp":"1725360840.0","poster":"[Removed]","comment_id":"1164783"},{"upvote_count":"7","timestamp":"1711107060.0","poster":"monniq","content":"Selected Answer: A\nA is correct, since the company and users will be in the same partition ang can be retrived in an optimized way. You can use type property to query for the companies only, or users only.\nB is incorrect since users are partioned by userid and when retrieving users for a company it will be a cross-partition query (not optimal way)\nD will create large company documents and it is not an optimal way again.\nC again is not an optimal way since the query to get user by company will run cross partition.","comment_id":"1013912"},{"upvote_count":"2","comment_id":"979129","timestamp":"1707721860.0","poster":"Womapoc","content":"Selected Answer: D\nD is correct"},{"upvote_count":"2","timestamp":"1706537880.0","poster":"akash211","comment_id":"966393","content":"B seems to be more optimized for reading data"},{"upvote_count":"1","poster":"vinayhat","timestamp":"1706161320.0","comment_id":"962303","content":"none of the options address \"Associate each user to only one company\". Ideally there should be a hierarchical key of userid / companyid to meet this requirement"},{"content":"Selected Answer: D\nOption D provides a well-optimized data store design that enables efficient browsing and retrieval of data by company, as well as an easy way to view company details and associated users on a single page.","timestamp":"1705169100.0","upvote_count":"8","poster":"wojteksc","comment_id":"950826"},{"content":"A is correct … We want users and companies on the same partition. This is done by using company id as partition key for both. As a compayid is a widely used filter thes data that are related can be covered from the same partition. we add a type pro to distinguish the two types","comment_id":"875789","poster":"TRUESON","upvote_count":"8","timestamp":"1697821080.0"},{"comment_id":"856894","timestamp":"1696068420.0","poster":"imando","upvote_count":"6","content":"Selected Answer: D\nD is correct answer. Googled other sites and they are showing D as answer."}],"question_id":13,"choices":{"C":"In a user container, create a document for each user. Embed the company into each user document. Use the user ID as the partition key.","A":"In a directory container, create a document for each company and a document for each user. Use the company ID as the partition key.","B":"Create a user container that uses the user ID as the partition key and a company container that uses the company ID as the partition key. Add the company ID to each user document.","D":"In a company container, create a document for each company. Embed the users into company documents. Use the company ID as the partition key."},"answer_ET":"D","question_images":[],"exam_id":69,"timestamp":"2023-03-30 15:19:00"},{"id":"LCUDZ323O6KDFQOOILK0","choices":{"E":"Associate a session token to the user account","C":"Use implicit session management when performing read requests","D":"Provide a stored session token when performing read requests","A":"Set the default consistency level to eventual","B":"Associate a session token to the device"},"url":"https://www.examtopics.com/discussions/microsoft/view/104426-exam-dp-420-topic-1-question-21-discussion/","answer_images":[],"question_text":"You are building an application that will store data in an Azure Cosmos DB Core (SQL) API account. The account uses the session default consistency level. The account is used by five other applications. The account has a single read-write region and 10 additional read region.\nApproximately 20 percent of the items stored in the account are updated hourly.\nSeveral users will access the new application from multiple devices.\nYou need to ensure that the users see the same item values consistently when they browse from the different devices. The solution must NOT affect the other applications.\nWhich two actions should you perform? Each correct answer presents part of the solution.\nNOTE: Each correct selection is worth one point.","topic":"1","isMC":true,"question_images":[],"question_id":14,"unix_timestamp":1680118920,"answers_community":["DE (62%)","BC (33%)","5%"],"answer_description":"","answer_ET":"DE","discussion":[{"upvote_count":"8","content":"Selected Answer: DE\nIn such case user would see the same data from the different device, because session would be the same","timestamp":"1724667600.0","comment_id":"990643","poster":"comoon"},{"comment_id":"910253","timestamp":"1717074120.0","poster":"imando","upvote_count":"5","content":"Selected Answer: DE\nD and E are correct answers"},{"comment_id":"1018417","timestamp":"1727410740.0","upvote_count":"1","content":"BC is the right answer. Please update. \nTo ensure that users see the same item values consistently when browsing from different devices while not affecting the other applications, you should perform the following two actions:\n\nB. Associate a session token to the device:\n\nYou should associate a session token with each user's device. This means that each device used by a user will have its own session token. This ensures that the same user, when browsing from different devices, maintains a consistent session with the Azure Cosmos DB. It allows users to see consistent item values across their devices.\nC. Use implicit session management when performing read requests:\n\nWhen performing read requests from the new application, use implicit session management. Implicit session management means that the SDK you are using to interact with Azure Cosmos DB automatically manages the session token for you. It keeps track of the session token associated with the device, ensuring that each read operation uses the correct session token. This ensures consistency for the user's session across devices.\nHere's an additional explanation of the options you should not select:","poster":"Garyn"},{"upvote_count":"2","timestamp":"1727151180.0","content":"D and E are correct. We login to device with a user-id so session token should be associated with user not device.","comment_id":"1015483","poster":"AshishKu"},{"poster":"krcmyoyo","content":"Selected Answer: BC\nB. By associating a session token with each device, you ensure that reads from the same device maintain consistent and up-to-date results. \nC. Implicit session management involves utilizing Cosmos DB's built-in session handling capabilities.","comment_id":"988870","upvote_count":"2","timestamp":"1724479020.0"},{"comment_id":"933494","poster":"azuredemo2022three","content":"Selected Answer: BC\nSelected Answer: BC","upvote_count":"2","timestamp":"1719313140.0"},{"content":"B. Associate a session token to the device.\nC. Use implicit session management when performing read requests.","timestamp":"1718095440.0","upvote_count":"2","comment_id":"920518","poster":"azuredemo2022three"},{"upvote_count":"1","comment_id":"918009","content":"B. Associate a session token to the device.\nE. Associate a session token to the user account.\n\nBy associating a session token to each device and user account, you can maintain consistency across multiple devices used by the same user. The session token represents a logical session and helps track the user's interaction with the data. This ensures that when the user switches between devices, they continue to see the same consistent data.","timestamp":"1717835100.0","poster":"aliounegdiop"},{"poster":"[Removed]","comment_id":"882351","content":"Selected Answer: BD\nBy associating a session token to the device and providing a stored session token when performing read requests, the application ensures that the user sees the same item values consistently when browsing from different devices.","timestamp":"1714203840.0","upvote_count":"1"},{"comment_id":"854884","content":"Selected Answer: BC\nB. Associate a session token to the device: When a user logs in to the application from a device, a session token should be generated and associated with the device. This will ensure that subsequent requests from the same device are routed to the same backend server that served the first request, and the user will see consistent item values.\n\nC. Use implicit session management when performing read requests: When performing read requests, the application should use implicit session management. This means that the SDK will automatically manage the session token, and the user will continue to see consistent item values regardless of which backend server serves the request.","poster":"arnabdt","timestamp":"1711748520.0","comments":[{"comment_id":"857932","content":"It talk about different devices so I think I will go with D & E.","poster":"arnabdt","timestamp":"1711977120.0","upvote_count":"4"}],"upvote_count":"3"}],"exam_id":69,"answer":"DE","timestamp":"2023-03-29 21:42:00"},{"id":"2khhSV9vufiIZbN5qgxS","unix_timestamp":1667440020,"answer":"","question_text":"HOTSPOT -\nYou have a container that stores data about families.\nThe following is a sample document.\n//IMG//\n\nYou run the following query against the container.\n//IMG//\n\nFor each of the following statements, select Yes if the statement is true. Otherwise, select No.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","answers_community":[],"question_id":15,"timestamp":"2022-11-03 02:47:00","question_images":["https://www.examtopics.com/assets/media/exam-media/04276/0004300001.png","https://www.examtopics.com/assets/media/exam-media/04276/0004400001.png","https://www.examtopics.com/assets/media/exam-media/04276/0004400002.png"],"exam_id":69,"answer_images":["https://www.examtopics.com/assets/media/exam-media/04276/0004500001.jpg"],"answer_description":"Box 1: No -\nThe result is empty, since the cross product of each item from source and an empty set is empty:\nNote: Joins result in a complete cross product of the sets participating in the join. The result of an N-way join is a set of N-element tuples, where each value in the tuple is associated with the aliased set participating in the join and can be accessed by referencing that alias in other clauses.\n\nBox 2: No -\nThe cross join is not on the pets.\n\nBox 3: Yes -\nThe cross join is not on the pets.\nReference:\nhttps://docs.microsoft.com/en-us/azure/cosmos-db/sql/sql-query-join","topic":"1","discussion":[{"poster":"YJC","comment_id":"710178","comments":[{"content":"You are right!","comment_id":"841323","upvote_count":"1","poster":"ferpin","timestamp":"1694887980.0"},{"upvote_count":"5","content":"You are right! In the first question the query return a value because \"c\" is represent the entire document and not only the parent's array.","timestamp":"1685399580.0","comment_id":"730955","poster":"susejzepol"},{"timestamp":"1728474120.0","upvote_count":"1","comment_id":"1192248","poster":"4415b99","content":"it depends what is meant by `having a parent defined`. my understanding is that parent = document. so, it probably means that there is no document which corresponds to the format specified above and as a result those children have nowhere to exist.\n\nso, the answer is No, No, Yes.\n\neven if u put only { \"children\": [...] } as an item, it will mean that the parent is defined. while the parent's name, pets and other properties except children r not defined."}],"content":"After I tested with JSON, the answer is Yes, No, Yes","timestamp":"1683071220.0","upvote_count":"29"},{"timestamp":"1693221540.0","comment_id":"824834","content":"Also tested this.\n\nThere's missing comma and should be ch.firstname instead of firstName:\nSELECT \n ch.name ?? ch.firstname AS childName, f.lastName, f.parents, ARRAY_LENGTH(ch.pets) ?? 0 AS numberOfPets, \n ch.pets \nFROM mktest1 AS f \nJOIN ch IN f.children \n\nAnswer is YES, NO, YES","upvote_count":"5","poster":"basiltomato"}],"url":"https://www.examtopics.com/discussions/microsoft/view/86875-exam-dp-420-topic-1-question-22-discussion/","answer_ET":"","isMC":false}],"exam":{"provider":"Microsoft","lastUpdated":"12 Apr 2025","isMCOnly":false,"isBeta":false,"id":69,"name":"DP-420","numberOfQuestions":147,"isImplemented":true},"currentPage":3},"__N_SSP":true}