{"pageProps":{"questions":[{"id":"PWujLf7UVR6cDFV2TTDR","answer_description":"","timestamp":"2021-12-15 14:37:00","answer":"","question_images":["https://www.examtopics.com/assets/media/exam-media/04258/0052600002.png","https://www.examtopics.com/assets/media/exam-media/04258/0052700001.jpg","https://www.examtopics.com/assets/media/exam-media/04258/0052700002.png"],"question_text":"HOTSPOT -\nYou have an Azure subscription that contains an Azure key vault named KeyVault1 and the virtual machines shown in the following table.\n//IMG//\n\nYou set the Key Vault access policy to Enable access to Azure Disk Encryption for volume encryption.\nKeyVault1 is configured as shown in the following exhibit.\n//IMG//\n\nFor each of the following statements, select Yes if the statement is true. Otherwise, select No.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","url":"https://www.examtopics.com/discussions/microsoft/view/68019-exam-az-500-topic-5-question-49-discussion/","question_id":421,"answer_ET":"","isMC":false,"topic":"5","discussion":[{"content":"Selected: 1. Yes 2. No 3. Yes\n \nSelected Networks for VNET1 and the exemption to allow access to the key vault, VM1 has access, VM2 doesn't. The last option, VM2 should be able to still user the ADE, the exemption only applies to the access to the key vault.","comment_id":"502185","upvote_count":"51","timestamp":"1639575420.0","poster":"wooyourdaddy","comments":[{"comment_id":"502193","content":"Further to my post, below the table to confirm / validate the 3rd answer: quote 'You set the Key Vault access policy to Enable access to Azure Disk Encryption for volume encryption.'","upvote_count":"6","timestamp":"1639575660.0","poster":"wooyourdaddy"},{"timestamp":"1665559740.0","content":"I agree. ADE is a trusted MS service and can bypass Firewall so VM2 can use the KV","upvote_count":"1","poster":"geuser","comment_id":"692808"},{"comment_id":"777335","content":"Those two IP addresses seem to, not 100% sure though, come from the same region, and that ticks the box.","upvote_count":"1","timestamp":"1673846520.0","poster":"AzureJobsTillRetire"}]},{"upvote_count":"22","poster":"JakeCallham","comment_id":"672343","content":"I highly disagree with the answers i see here\n\n1 No, the vm1 has access, but we don't what access policies are set for accessing keys or secrets.\n2 No, vm2 doesn't have network access and we don't know what access policies are set\n3 No vm2 still doesn't have network access.","comments":[{"timestamp":"1696776480.0","comment_id":"1028074","content":"Agreed.","poster":"TheProfessor","upvote_count":"1"},{"content":"Agree, No No No","comment_id":"685099","poster":"Kelly8023","timestamp":"1664749920.0","upvote_count":"2"},{"content":"yes, this seems the best explanation and answer","timestamp":"1666142760.0","comment_id":"698597","upvote_count":"1","poster":"koreshio"},{"poster":"Jhill777","timestamp":"1668787440.0","comment_id":"721393","upvote_count":"5","content":"Same. Everybody talking about \"access\" when it clearly says users can \"manage\" all keys and secrets. I'm going no, no, no."},{"upvote_count":"2","timestamp":"1685665980.0","comment_id":"912429","content":"That's right that we don't know what access policies are set but why you assuming those policies are set to block and not allow?","poster":"Alexbz"}],"timestamp":"1663503960.0"},{"timestamp":"1740167820.0","upvote_count":"1","comments":[{"content":"Well, the question is based on if the user can or cannot, so I will change my answer for the first one.\nY\nN\nY","upvote_count":"1","comments":[{"comment_id":"1365558","timestamp":"1741342440.0","upvote_count":"1","content":"I have to laugh because of all the issues with this question.\nY - They ask if users can or cannot manage access from that VM. They can, if they have the permissions\nN - No access for that VNet\nN - Even though \"Allow trusted Microsoft services...\" is set to Yes, the VNet2 is not allowed on the firewall.","poster":"Hot_156"}],"timestamp":"1741182480.0","poster":"Hot_156","comment_id":"1365408"}],"poster":"Hot_156","comment_id":"1359886","content":"N\nN\nY\n\nBecause we just know one change was applied to the key vault access policy and it is for the Azure disk encryption, \"You set the key-vault access policy to Enable access to Azure Disk Encryption for volume encryption.\"\n\nthere is not information about the policies set for the VMs/Users"},{"timestamp":"1705826340.0","poster":"Strive_for_greatness_kc","content":"The question is about network, there is no indication about the access policies defined for user, why people assume that users have or do not have managing access to the key. So here is my point :\n1. Yes VM1 is in VNET1 which have network access to the KV\n2. No VM2 is in VNET2 which does not have network access to the KV\n3. Yes VM2 does not have access but AllowTrusted Microsoft Services to Bypass Firewall is enabled so the VM2 can use ADE.","comment_id":"1127708","upvote_count":"6"},{"comment_id":"1102780","poster":"[Removed]","upvote_count":"1","content":"https://learn.microsoft.com/en-us/azure/key-vault/general/overview-vnet-service-endpoints#trusted-services\nAzure Disk Encryption volume encryption service Allow access to BitLocker Key (Windows VM) or DM Passphrase (Linux VM), and Key Encryption Key, during virtual machine deployment. This enables Azure Disk Encryption.\n\nProves 3 is Yes","timestamp":"1703178900.0"},{"comment_id":"1077415","poster":"wardy1983","upvote_count":"2","content":"Explanation:\n1. Yes 2. No 3. Yes\nSelected Networks for VNET1 and the exemption to allow access to the key vault, VM1 has access, VM2\ndoesn't. The last option, VM2 should be able to still user the ADE, the exemption only applies to the access to\nthe key vault.","timestamp":"1700661000.0"},{"timestamp":"1700122080.0","content":"I think its yyy because users from the vms can manage the keyvault through the azure Portal","upvote_count":"2","comments":[{"content":"but not from VM2 which is not allowed in the KV network access settings","poster":"pentium75","timestamp":"1722498840.0","comment_id":"1259251","upvote_count":"1"}],"comment_id":"1072260","poster":"Caius"},{"comment_id":"1050426","timestamp":"1697968800.0","upvote_count":"1","content":"Should be N N Y:\nSure VMs can access the vault on the network side, but the question talks about \"manage\" which we cannot assume from the question.\nLast one is Y: \"You set the Key Vault access policy to Enable access to Azure Disk Encryption for volume encryption.\"","comments":[{"timestamp":"1722498900.0","poster":"pentium75","comment_id":"1259252","content":"They can \"manage\" with whatever permission they have. The settings provided in the question do NOT prevent managing.","upvote_count":"1"}],"poster":"nox2447"},{"comments":[{"comment_id":"1006039","poster":"heatfan900","content":"I stand correct on question 3: Y,N,Y\n\nFROM MICORSOFT:\nNo, the key vault firewall does not block a VM from encrypting a disk with Azure Disk Encryption (ADE), as long as you enable access to Microsoft Trusted Services in the key vault networking settings1. This allows the VM to communicate with the key vault and retrieve the encryption keys and secrets.","timestamp":"1694551860.0","upvote_count":"2","comments":[{"content":"Do you have a ref link to this?","comment_id":"1011885","upvote_count":"1","timestamp":"1695182220.0","poster":"AzureAdventure"}]}],"upvote_count":"1","timestamp":"1694546040.0","content":"Y, N, N\n\nVM 1 is in VNET 1 which is allowed to access KV1.\nVM 2 is not allowed, therefore, can manage keys or secrets or use the KV for ADE purposes.","poster":"heatfan900","comment_id":"1006009"},{"content":"It is Y, N, N. Are you guys not reading the part which clearly states that the BYPASS OPTION does NOT replace the need to outline EXPLICIT PERMISSIONS in the Access Policy. VNET2 has no access to the KEY VAULT, and that includes ADE.","poster":"heatfan900","timestamp":"1691591220.0","comments":[{"comment_id":"1350957","content":"chill, the access is already given when you set ADE in key vault.\nanswer is YNY","timestamp":"1738595700.0","upvote_count":"1","poster":"golitech"}],"comment_id":"976740","upvote_count":"2"},{"poster":"zellck","content":"YNY is the answer.\n\nhttps://learn.microsoft.com/en-us/azure/key-vault/general/network-security#key-vault-firewall-enabled-trusted-services-only\n\nhttps://learn.microsoft.com/en-us/azure/key-vault/general/overview-vnet-service-endpoints#trusted-services\nHere's a list of trusted services that are allowed to access a key vault if the Allow trusted services option is enabled.\n- Azure Disk Encryption volume encryption service\nAllow access to BitLocker Key (Windows VM) or DM Passphrase (Linux VM), and Key Encryption Key, during virtual machine deployment. This enables Azure Disk Encryption.","timestamp":"1683118200.0","upvote_count":"6","comments":[{"poster":"ITTesters","upvote_count":"1","comment_id":"896432","content":"If the user has rights within KV then YNY, otherwise; NNY.","timestamp":"1683958800.0"}],"comment_id":"888525"},{"timestamp":"1678129200.0","poster":"tutonata","upvote_count":"2","content":"N N Y\nWhen Allowed trusted MS services is set to on then access is granted. It doesn't matter which vNet the VM is in.\nCheck list of trusted MS services and ADE is listed there so it 'bypasses' the FW.\nhttps://learn.microsoft.com/en-us/azure/key-vault/general/overview-vnet-service-endpoints#trusted-services","comments":[{"timestamp":"1681884120.0","upvote_count":"1","poster":"billo79152718","comment_id":"874308","content":"But it also states that it need explicit permission. So I will go with No on BOX3."}],"comment_id":"831170"},{"upvote_count":"2","timestamp":"1677952500.0","content":"NO\nNO\nYES","comment_id":"829225","poster":"majstor86"},{"comment_id":"824738","poster":"chikorita","content":"i think the correct answer is NNY\n1st and 2nd box: Users inside VMs CANNOT manage Keys even tho VM1 has connectivity to KV, to manage keys permissions needs to be set explicitly \n3rd box YES cuz ADE is trsuted MS service \nso even if the IPs or VNETs are not whitelisted, VM can STILL access KV","timestamp":"1677585240.0","upvote_count":"2"},{"poster":"ltjones12","upvote_count":"1","content":"@arseyam, I don't think that virtual machines are part of the azure trusted services list. https://learn.microsoft.com/en-us/azure/storage/common/storage-network-security?tabs=azure-portal#exceptions","timestamp":"1672336380.0","comment_id":"761327"},{"upvote_count":"1","poster":"mung","content":"It looks like the question has been changed based on the comment\n\nI would go NNN","comment_id":"734679","timestamp":"1670100600.0"},{"upvote_count":"2","content":"Trusted Services:\nADE is included\nhttps://learn.microsoft.com/en-us/azure/key-vault/general/overview-vnet-service-endpoints#trusted-services","timestamp":"1669052880.0","comment_id":"723803","poster":"Stubentiger"},{"upvote_count":"2","comments":[{"content":"Was there any labs ?","upvote_count":"1","timestamp":"1668272700.0","comment_id":"716818","poster":"Morozoro"}],"timestamp":"1667322540.0","comment_id":"709309","poster":"lahl","content":"On exam 31st October. I selected the answers : 1.yes 2.no and 3.yes"},{"poster":"arseyam","content":"Obviously this question is about network access to the key vault not about RBAC.\n1. Yes because VM1 has network access\n2. No because VM2 doesn't have network access\n3. Yes because Allow Trusted Microsoft Services to Bypass the Firewall is enabled","timestamp":"1667214600.0","comment_id":"708363","upvote_count":"10"},{"timestamp":"1666552620.0","comment_id":"702419","upvote_count":"4","poster":"Muaamar_Alsayyad","content":"Given Answer is WRONG\n\nCorrect answer:\nNO\nNO\nNO"},{"comment_id":"567694","timestamp":"1647266820.0","upvote_count":"4","poster":"Tash95","content":"In the setting it says “Allow Access from: Selected Networks” and it includes only VNET1. As VM1 which is in VNET1 has a private IP, it can access the key vault through this exception. As VNET2 is not included in this exception, and the public IP of VNET 2 is also not included in the firewall rule, VM2 doesn't have access. \nThe last option, VM2 should be able to still user the ADE, the exemption only applies to the access to the key vault, as the exercise title says: 'You set the Key Vault access policy to Enable access to Azure Disk Encryption for volume encryption.'"},{"comment_id":"556522","comments":[{"comments":[{"comments":[{"comment_id":"831171","poster":"tutonata","upvote_count":"2","content":"Check this page and understand the trusted MS services access bypasse the FW rules on the keyvault: https://learn.microsoft.com/en-us/azure/key-vault/general/overview-vnet-service-endpoints#trusted-services","timestamp":"1678129260.0"}],"upvote_count":"1","content":"3 No because it doesn't have access through network","poster":"JakeCallham","timestamp":"1663520040.0","comment_id":"672599"}],"comment_id":"556523","timestamp":"1645852560.0","upvote_count":"5","poster":"stack120566","content":"No, No , Yes .."}],"timestamp":"1645852560.0","upvote_count":"10","poster":"stack120566","content":"The question is poorly written. Allow access to the Key vault from vnet1/default does not imply permission to manage keys but rather it allows a connection to the vault. No where does this question imply that users of VM1 or VM2 have been granted access through RBAC or Access Policy."}],"exam_id":56,"unix_timestamp":1639575420,"answers_community":[],"answer_images":["https://www.examtopics.com/assets/media/exam-media/04258/0052800001.png"]},{"id":"57EhjWT0E5L6gD2IH0pL","question_images":[],"choices":{"B":"A user attempts to sign in as SELECT * FROM table1.","A":"A user updates more than 50 percent of the records in a table.","D":"A user deletes more than 100 records from the same table.","C":"A user is added to the db_owner database role."},"isMC":true,"exam_id":56,"topic":"5","answers_community":["B (100%)"],"question_text":"You have an Azure SQL Database server named SQL1.\nFor SQL1, you turn on Azure Defender for SQL to detect all threat detection types.\nWhich action will Azure Defender for SQL detect as a threat?","url":"https://www.examtopics.com/discussions/microsoft/view/61213-exam-az-500-topic-5-question-5-discussion/","discussion":[{"content":"# IN EXAM - 31/8/2021","upvote_count":"9","poster":"SecurityAnalyst","timestamp":"1630442880.0","comment_id":"436685"},{"upvote_count":"8","comment_id":"512575","timestamp":"1640802720.0","content":"Correct answer. In exam Dec 21. 40 questions, 1 case study, no labs.","poster":"WhalerTom"},{"comment_id":"1257266","content":"I would expect B - this is a potential injection attempt.","timestamp":"1722229560.0","poster":"xRiot007","upvote_count":"1"},{"content":"In Exam20/07/2024","poster":"saira23","timestamp":"1721445120.0","upvote_count":"3","comment_id":"1251513"},{"comment_id":"1248362","poster":"scottyboy23","content":"on exam 20240715. correct","upvote_count":"2","timestamp":"1721048820.0"},{"comment_id":"1136146","content":"In exam 1/28/24","timestamp":"1706646300.0","upvote_count":"3","poster":"Ivan80"},{"comment_id":"891417","poster":"zellck","content":"Selected Answer: B\nB is the answer.\n\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/threat-detection-overview?view=azuresql#overview\nAdvanced Threat Protection provides a new layer of security, which enables customers to detect and respond to potential threats as they occur by providing security alerts on anomalous activities. Users receive an alert upon suspicious database activities, potential vulnerabilities, and SQL injection attacks, as well as anomalous database access and queries patterns. Advanced Threat Protection integrates alerts with Microsoft Defender for Cloud, which include details of suspicious activity and recommend action on how to investigate and mitigate the threat. Advanced Threat Protection makes it simple to address potential threats to the database without the need to be a security expert or manage advanced security monitoring systems.","timestamp":"1683466200.0","comments":[{"poster":"zellck","timestamp":"1683715380.0","upvote_count":"5","comment_id":"893827","content":"Gotten this in May 2023 exam."}],"upvote_count":"4"},{"upvote_count":"4","timestamp":"1682761620.0","comment_id":"884202","content":"In exam 15/04/2023","poster":"Psychosikh"},{"upvote_count":"4","poster":"majstor86","comment_id":"829029","content":"Selected Answer: B\nB. A user attempts to sign in as SELECT * FROM table1 (Typical SQL injection)","timestamp":"1677939120.0","comments":[{"poster":"stepman","comment_id":"882885","content":"I chose this. This was On exam 4/27 with the new exam experience. No Sim or lab.","timestamp":"1682616060.0","upvote_count":"2"}]},{"upvote_count":"3","comment_id":"716541","content":"Selected Answer: B\nB SQL Injection","poster":"F117A_Stealth","timestamp":"1668240240.0"},{"comment_id":"698201","content":"In Exam 10/18/2022. One case study(6 ques), no lab.","timestamp":"1666094340.0","poster":"Diallo18","upvote_count":"3"},{"upvote_count":"2","content":"# In Exam 01-Oct-2022, correct answer.","poster":"Amit3","comment_id":"683854","timestamp":"1664573520.0"},{"content":"B is an attempt to brute force sql credentials.\nhttps://docs.microsoft.com/en-us/azure/azure-sql/managed-instance/threat-detection-configure","comments":[{"content":"It is SQL injection not brute force!!!","comment_id":"508494","upvote_count":"6","poster":"matetav","timestamp":"1640350200.0"}],"poster":"ad7399","comment_id":"477013","upvote_count":"3","timestamp":"1636729560.0"},{"content":"#exam ques # 29 Sep","comment_id":"454591","poster":"Jco","timestamp":"1632959460.0","upvote_count":"1"},{"poster":"kam117","comment_id":"452373","upvote_count":"1","content":"## Exam Question - 24 Sept 2021 ##","timestamp":"1632742380.0"},{"comment_id":"448466","upvote_count":"1","content":"## Exam Question - 17 Sept 2021 ##","timestamp":"1632169440.0","poster":"TonytheTiger"}],"answer_description":"","timestamp":"2021-08-31 22:48:00","question_id":422,"unix_timestamp":1630442880,"answer_ET":"B","answer":"B","answer_images":[]},{"id":"zlyvnAPG9mfIFSfm8UC5","discussion":[{"content":"Tested in lab, should be storage 1 and 2 only, need to be in the same region and premium file share is NOT supported","upvote_count":"12","poster":"CeliaZhou","comments":[{"content":"The real answer is not on the among of option. Celia you are right for these reasons.\nStorage3 EastUS premium (file share) is not suitable because Azure SQL Database auditing requires blob storage, not file share storage.\nStorage4 EastUS 2 standard is not ideal because it's in a different region (East US 2) than DB1 (East US),","comment_id":"1361187","poster":"ITFranz","upvote_count":"2","timestamp":"1740432300.0","comments":[{"poster":"ITFranz","comment_id":"1539221","upvote_count":"2","timestamp":"1743863340.0","content":"| **Storage1** (East US, Standard, General-Purpose v2) | ✅ **Yes** | General-purpose v2 accounts are supported for auditing and are in the same region as DB1. |\n| **Storage2** (East US, Premium, Block Blobs) | ✅ **Yes** | Premium block blob accounts are explicitly supported for auditing and are in the same region. |\n\n| **Storage3** (East US, Standard, File Shares) | ❌ No | Premium file shares accounts do not support blob storage, which is required for audit logs. |\n| **Storage1** (East US 2, Standard, General-Purpose v2) | ❌ No | The storage account must be in the **same region** as the SQL database (East US). |"}]},{"upvote_count":"4","poster":"zellck","comment_id":"887479","content":"https://learn.microsoft.com/en-us/azure/azure-sql/database/auditing-setup?view=azuresql#audit-to-storage-destination\nIf you are deploying from the Azure portal, make sure that the storage account is in the same region as your database and server. If you are deploying through other methods, the storage account can be in any region.","timestamp":"1683036900.0"}],"comment_id":"763630","timestamp":"1672653420.0"},{"content":"Yet another wrong answer from Exam Topics","comment_id":"737359","comments":[{"comment_id":"1006028","upvote_count":"4","timestamp":"1694549040.0","content":"ALOT OF PPL THAT DONT KNOW WHAT THEY R DOING PUTTING UP ANSWERS","poster":"heatfan900"}],"timestamp":"1670377920.0","poster":"macka2005","upvote_count":"11"},{"upvote_count":"1","content":"Selected Answer: B\nAns should be Sto 1 and Sto 2. however there is no option available: https://learn.microsoft.com/en-us/azure/azure-sql/database/auditing-overview?view=azuresql#storage-destination:~:text=Premium%20storage%20with%20BlockBlobStorage%20is%20supported.%20Standard%20storage%20is%20supported","poster":"randy0077","comment_id":"1409847","timestamp":"1742862780.0"},{"content":"Selected Answer: A\nEast US 2 is a pair region so it should be allowed.\nStorage1 and Storage4","poster":"Hot_156","comments":[{"comment_id":"1387585","upvote_count":"1","timestamp":"1741718340.0","poster":"Hot_156","content":"I LAB this, and paired regions are not accepted, so the answer is correct. I was wrong."}],"timestamp":"1739910120.0","comment_id":"1358446","upvote_count":"1"},{"poster":"golitech","upvote_count":"2","comment_id":"1350965","timestamp":"1738596360.0","content":"Selected Answer: B\nExplanation:\nWhen enabling Azure SQL Database Auditing, the audit logs must be stored in an Azure Storage account that meets specific requirements.\n\nStorage Account Requirements for SQL Auditing:\nMust be in the same region as the SQL database\n\n✅ STORAGE1 (East US) → Allowed\n❌ STORAGE4 (East US2) → Not Allowed (Different region)\n\nMust be a Standard Storage Account (Not Premium Blob or Premium File Share)\n✅ STORAGE1 (Standard, East US) → Allowed\n❌ STORAGE2 (Premium Block Blob, East US) → Not Allowed\n❌ STORAGE3 (Premium File Share, East US) → Not Allowed"},{"upvote_count":"1","comments":[{"timestamp":"1734135300.0","comment_id":"1326280","content":"But if you take a look at the way the question was presented, it did NOT look like PowerShell script, ARM template or even CLI which; all these programmatic ways can bypass that region restriction,","upvote_count":"1","poster":"JBAnalyst"}],"timestamp":"1734135240.0","poster":"JBAnalyst","content":"Selected Answer: B\nB only: \nYes, if deployed from anywhere but the Azure portal, the region restriction does not apply. That's because the Azure portal UI strictly restricts access to the same region only. \nBut if you take a look at the way the question was presented, it did look like PowerShell script, ARM template or even CLI which; all these programmatic ways can bypass that region restriction, \nStorage 1 and 2 only But since we only have storage 1, then that is the best choice.\n\n\"If you are deploying from the Azure portal, make sure that the storage account is in the same region as your database and server. If you are deploying through other methods, the storage account can be in any region.\"\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/auditing-setup?view=azuresql#audit-to-storage-destination","comment_id":"1326279"},{"content":"Could please somebody explain me why tons of people choose storage 3 if it is premium file shares and at the same time documentation says that only premium blobs supported?","poster":"JackGelder","comment_id":"1310818","upvote_count":"1","timestamp":"1731436200.0"},{"upvote_count":"1","poster":"ITFranz","comment_id":"1287355","content":"The question is not stating from where the deployment is made.\nIn the documentation states:\nNote\nIf you are deploying from the Azure portal, make sure that the storage account is in the same region as your database and server. If you are deploying through other methods, the storage account can be in any region.\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/auditing-setup?view=azuresql\nAnswer = D. storage1, storage2, and storage3 only ( Assuming is from the portal )","timestamp":"1726930200.0"},{"poster":"[Removed]","timestamp":"1702324740.0","comment_id":"1093805","content":"Premium storage with BlockBlobStorage is supported. Standard storage is supported. However, for audit to write to a storage account behind a VNet or firewall, you must have a general-purpose v2 storage account. If you have a general-purpose v1 or Blob Storage account, upgrade to a general-purpose v2 storage account. For specific instructions see, Write audit to a storage account behind VNet and firewall. For more information, see Types of storage accounts.","upvote_count":"1"},{"comments":[{"timestamp":"1699115940.0","upvote_count":"3","poster":"TheProfessor","content":"D. storage1, storage2, and storage3 only\n\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/auditing-setup?view=azuresql\nIf you are deploying from the Azure portal, make sure that the storage account is in the same region as your database and server. If you are deploying through other methods, the storage account can be in any region.","comment_id":"1062249"}],"content":"In my opinion, answer should be Storage1 and Storage2. I couldn't find anywhere it can be stored to Fileshare (Storage2). And Storage4 is in different location.","upvote_count":"1","poster":"TheProfessor","timestamp":"1696778820.0","comment_id":"1028103"},{"content":"Selected Answer: D\nD. storage1, storage2, and storage3 only","poster":"ESAJRR","comment_id":"1002700","timestamp":"1694202840.0","upvote_count":"2"},{"timestamp":"1683037080.0","comment_id":"887484","content":"Should be storage1, storage2 and storage4.\n\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/auditing-overview?view=azuresql#remarks\nPremium storage with BlockBlobStorage is supported. Standard storage is supported. However, for audit to write to a storage account behind a VNet or firewall, you must have a general-purpose v2 storage account. If you have a general-purpose v1 or Blob Storage account, upgrade to a general-purpose v2 storage account.\n\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/auditing-setup?view=azuresql#audit-to-storage-destination\nIf you are deploying from the Azure portal, make sure that the storage account is in the same region as your database and server. If you are deploying through other methods, the storage account can be in any region.","poster":"zellck","upvote_count":"3"},{"content":"Selected Answer: D\nSQL Azure auditing can use standard accounts\n\"Premium storage with BlockBlobStorage is supported. Standard storage is supported.\"\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/auditing-overview?view=azuresql#remarks\nAlso: \n\"If you are deploying from the Azure portal, be sure that the storage account is in the same region as your database and server. If you are deploying through other methods, the storage account can be in any region.\"\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/auditing-overview?view=azuresql#audit-storage-destination\n\nthat means everything in the list except for Azure File shares.","comment_id":"831193","upvote_count":"4","timestamp":"1678131360.0","poster":"tutonata"},{"upvote_count":"2","timestamp":"1677952740.0","poster":"majstor86","content":"Selected Answer: D\nD. storage1, storage2, and storage3 only","comment_id":"829227"},{"timestamp":"1669610580.0","poster":"bugimachi","content":"Note we are on SQL DB (not SQL MI):\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/auditing-overview?view=azuresql\n\n\"If you are deploying from the Azure portal, be sure that the storage account is in the same region as your database and server. If you are deploying through other methods, the storage account can be in any region.\"\n\n\"Premium storage with BlockBlobStorage is supported. Standard storage is supported.\"\n\nSo, I'd say it should be storage1, storage2 and storage4. (Which is not an option, though.)","comments":[{"comment_id":"754507","content":"This is what I found too. With a 'Premium/File Share' storage account, the portal lets you select it for auditing, but the save operation doesn't execute (it loads for a while and then times out). When the SQL Auditing page is then refreshed, no auditing is enabled. With 'Premium/Block Blob' and 'Standard' storage accounts, the save operation executes almost immediately.\n\nSame region is only required when making the change from Azure Portal, \"If you are deploying through other methods, the storage account can be in any region\". As the deployment method isn't specified in this question, storage4 is a valid destination.","upvote_count":"3","timestamp":"1671826800.0","poster":"undecided","comments":[{"comment_id":"1105177","timestamp":"1703500320.0","poster":"[Removed]","upvote_count":"1","content":"I found the same with premium fileshares"},{"upvote_count":"2","timestamp":"1694548980.0","poster":"heatfan900","comment_id":"1006027","content":"agreed STORAGE 1,4 since there is no 1,2 and 4 which makes sense since BLOCK BLOB was not supported for auditing at the time of this quiestion."}]}],"upvote_count":"6","comment_id":"728782"},{"content":"Can it be stored in Premium File shares though?","comment_id":"722182","timestamp":"1668884820.0","upvote_count":"1","poster":"DrizzlyTee"},{"comment_id":"709311","upvote_count":"1","timestamp":"1667322900.0","content":"In Exam 31st Oct. one case study...no labs.","poster":"lahl"},{"poster":"Muaamar_Alsayyad","upvote_count":"1","timestamp":"1666790400.0","comment_id":"704713","content":"Selected Answer: D\nAnswer is D"},{"content":"In Exam 10/18/2022. One case study(6 ques), no lab.","poster":"Diallo18","timestamp":"1666094820.0","comment_id":"698211","upvote_count":"2"},{"timestamp":"1665417840.0","content":"Selected Answer: D\nSame region and no issue with Storage Performance (Standard or Premium), so it's D","poster":"wsrudmen","comment_id":"691335","upvote_count":"2"},{"timestamp":"1664780460.0","content":"Selected Answer: D\nThe storage account is required in the same region, so storage 1, 2 and 3 should be selected.\n\nhttps://learn.microsoft.com/en-us/azure/azure-sql/managed-instance/auditing-configure?view=azuresql","poster":"nqwang","upvote_count":"1","comment_id":"685280","comments":[{"content":"https://learn.microsoft.com/en-us/azure/azure-sql/database/auditing-setup?view=azuresql#audit-to-storage-destination\nIf you are deploying from the Azure portal, make sure that the storage account is in the same region as your database and server. If you are deploying through other methods, the storage account can be in any region.","comment_id":"887481","timestamp":"1683036960.0","poster":"zellck","upvote_count":"1"}]},{"content":"# In Exam 01-Oct-2022","timestamp":"1664577720.0","poster":"Amit3","upvote_count":"2","comment_id":"683869"},{"timestamp":"1664268000.0","comment_id":"680536","content":"Selected Answer: D\nAnswer should D: 1,2,3\nTested in lab","poster":"joanjcanals","upvote_count":"1"},{"comment_id":"680535","upvote_count":"1","timestamp":"1664267940.0","poster":"joanjcanals","content":"Answer should D: 1,2,3\nTested in lab"},{"timestamp":"1662467580.0","upvote_count":"1","content":"Selected Answer: A\nA is a general purpose storage account in the same region","comment_id":"661214","poster":"charlesr1700","comments":[{"comments":[{"timestamp":"1662707040.0","poster":"charlesr1700","upvote_count":"2","content":"Ignore my comments, was a long night. Given answer is correct. E","comment_id":"664326"}],"poster":"charlesr1700","comment_id":"661216","content":"As in storageA, the correct answer is B, IMO. Can't edit you're answer","timestamp":"1662467700.0","upvote_count":"1"}]}],"answer_ET":"D","unix_timestamp":1662467580,"answer":"D","topic":"5","answer_description":"","answers_community":["D (68%)","B (21%)","11%"],"choices":{"C":"storage1, storage2, storage3, and storage4","E":"storage2 and storage3 only","B":"storage1 only","A":"storage1 and storage4 only","D":"storage1, storage2, and storage3 only"},"isMC":true,"timestamp":"2022-09-06 14:33:00","question_id":423,"url":"https://www.examtopics.com/discussions/microsoft/view/80613-exam-az-500-topic-5-question-50-discussion/","answer_images":[],"exam_id":56,"question_text":"You have an Azure subscription that contains an Azure SQL database named DB1 in the East US Azure region.\nYou create the storage accounts shown in the following table.\n//IMG//\n\nYou plan to enable auditing for DB1.\nWhich storage accounts can you use as the auditing destination for DB1?","question_images":["https://www.examtopics.com/assets/media/exam-media/04258/0052800002.jpg"]},{"id":"7uQLF27ctwVxViGcxG8c","answer":"","exam_id":56,"question_text":"DRAG DROP -\nYou have an Azure subscription that contains an Azure SQL database named SQLDB1. SQLDB1 contains the columns shown in the following table.\n//IMG//\n\nFor the Email and Birthday columns, you implement dynamic data masking by using the default masking function.\nWhich value will the users see in each column? To answer, drag the appropriate values to the correct columns. Each value may be used once, more than once, or not at all. You may need to drag the split bar between panes or scroll to view content.\nNOTE: Each correct selection is worth one point.\nSelect and Place:\n//IMG//","discussion":[{"upvote_count":"20","content":"Correct answers should be:\n\nEmail: XXXX ==> Default masking function is used (and not email function)\nBirthday: 1900-01-01 ==> as explained in the documentation for date type using default\n\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/dynamic-data-masking-overview?view=azuresql","comments":[{"content":"XXXX is only used if the size of the field is fewer than 4 characters for string data types.\n\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/dynamic-data-masking-overview?view=azuresql#dynamic-data-masking-policy\nUse XXXX (or fewer) if the size of the field is fewer than 4 characters for string data types (nchar, ntext, nvarchar).","poster":"zellck","comment_id":"887473","timestamp":"1683036540.0","upvote_count":"4"}],"poster":"wsrudmen","timestamp":"1665418500.0","comment_id":"691341"},{"content":"1. aXXXX@XXXX.com\n2. 1900-01-01\n\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/dynamic-data-masking-overview?view=azuresql#dynamic-data-masking-policy\n- Default\nFull masking according to the data types of the designated fields\n• Use 1900-01-01 for date/time data types (date, datetime2, datetime, datetimeoffset, smalldatetime, time).\n\n- Email\nMasking method, which exposes the first letter and replaces the domain with XXX.com using a constant string prefix in the form of an email address.\naXX@XXXX.com","comments":[{"comment_id":"1008603","timestamp":"1694796900.0","poster":"DeviantMoto","content":"It's not using email masking for the email, it's only using default. so XXXX and 1900-01-01","upvote_count":"1"}],"comment_id":"887465","upvote_count":"10","poster":"zellck","timestamp":"1683036240.0"},{"upvote_count":"1","comment_id":"1207098","timestamp":"1714951980.0","content":"Email: XXXX\n\n* Use XXXX (or fewer) if the size of the field is fewer than 4 characters for string data types (nchar, ntext, nvarchar).\n\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/dynamic-data-masking-overview?view=azuresql","poster":"Pamban"},{"timestamp":"1697530860.0","poster":"[Removed]","comment_id":"1045702","upvote_count":"2","content":"tested in lab\nCorrect answers should be:\n\nEmail: XXXX ==> Default masking function is used (and not email function)\nBirthday: 1900-01-01 ==> as explained in the documentation for date type using default"},{"timestamp":"1685819940.0","upvote_count":"2","poster":"Yaser111999","content":"I agree with the answers given\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/dynamic-data-masking-overview?view=azuresql","comment_id":"913887"},{"content":"In exam 15/04/2023","timestamp":"1682767860.0","comment_id":"884273","upvote_count":"3","poster":"Psychosikh"},{"poster":"majstor86","upvote_count":"3","content":"Email: XXXX\nBirthday: 1900-01-01\nDefault masking","comment_id":"829230","timestamp":"1677953340.0"},{"upvote_count":"6","comment_id":"702461","comments":[{"poster":"ETV","comment_id":"877935","content":"email exposes the first letter then .com","upvote_count":"1","timestamp":"1682230440.0"},{"poster":"zellck","comments":[{"comments":[{"timestamp":"1705909620.0","upvote_count":"1","poster":"wingcheuk","comment_id":"1128403","content":"thanks! seeing is believing."}],"timestamp":"1697531160.0","upvote_count":"3","content":"I have proof on this link tested in lab\nhttps://drive.google.com/file/d/1Qyn7UbSFG66w4nXLwCsSyqFUn6Wre84O/view?usp=sharing","comment_id":"1045708","poster":"[Removed]"},{"comment_id":"899754","poster":"billo79152718","upvote_count":"3","content":"It states in the question. Using the default masking function so not using the email function. I will also go for: XXXX in the first box.","timestamp":"1684300080.0"}],"content":"XXXX is only used if the size of the field is fewer than 4 characters for string data types.\n\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/dynamic-data-masking-overview?view=azuresql#dynamic-data-masking-policy\nUse XXXX (or fewer) if the size of the field is fewer than 4 characters for string data types (nchar, ntext, nvarchar).","comment_id":"887474","upvote_count":"4","timestamp":"1683036600.0"}],"timestamp":"1666556940.0","poster":"Muaamar_Alsayyad","content":"Correct anser should\nEmail: XXXX ==> Default masking function is used (and not email function)\nBirthday: 1900-01-01"},{"comment_id":"689016","timestamp":"1665202080.0","content":"Here the catch is it's using the default data masking function for both the columns. So it will be XXXX only, if the email function could have been used the second column then the given answer would be correct.\nFor the second question it should be 01.01.1900 00:00:00.0000000 as per the MS docs. But not sure why 1900.01.01 is selected. Someone can help here.","upvote_count":"1","poster":"Pasapugazh","comments":[{"timestamp":"1722508260.0","content":"The data type is \"date\", not \"datetime\".","upvote_count":"1","poster":"pentium75","comment_id":"1259310"},{"content":"I was confused by this too, but it appears the time portion is only valid for SQL Server 2022 (link below)\nhttps://learn.microsoft.com/en-us/sql/relational-databases/security/dynamic-data-masking?view=sql-server-ver16#define-a-dynamic-data-mask\n\nIf you look at the links others have shared for AzureSQL, you'll see different default() masking for dates plus other differences from SQL2022","comment_id":"1076800","upvote_count":"1","poster":"lt9898","timestamp":"1700608140.0"}]},{"comment_id":"684467","upvote_count":"3","poster":"wyindualizer","content":"Default masking will be applied depending on the data type. For the string data type, it will be masked to ‘XXXX’. This is valid for the char, nchar, varchar, nvarchar, text and ntext data types. The value of numeric data types will be masked as 0. This is will be valid for bigint, int, smallint, tinyint, bit, decimal, money, numeric, smallmoney, float, real. All the date time data types such as date, datetime2, datetime, datetimeoffset, smalldatetime, time will be masked at 1900/01/01 00:00:00 etc.","timestamp":"1664656320.0"},{"timestamp":"1664455920.0","poster":"domtopics","upvote_count":"2","comments":[{"poster":"domtopics","comment_id":"682708","upvote_count":"2","timestamp":"1664455920.0","content":"*four character XXXX"}],"comment_id":"682707","content":"First answer should be XXXXX\n\ndefault() masking option on varchar yields a fixed 5-character XXXXX\n\nhttps://www.sqlshack.com/dynamic-data-masking-in-sql-server-2/"},{"timestamp":"1663892580.0","content":"Given answers are correct. \nUse 01-01-1900 for date/time data types (date, datetime2, datetime, datetimeoffset, smalldatetime, time).\n\nMasking method, which exposes the first letter and replaces the domain with XXX.com using a constant string prefix in the form of an email address.","comment_id":"676650","upvote_count":"3","poster":"Amit3"},{"comment_id":"674915","poster":"FishBurger","timestamp":"1663748880.0","upvote_count":"3","content":"I think the second option is incorrect, looking at the default dynamic data masking information on Microsoft shows it should be all 'xxxx'. Not too sure here and have my exam today\n\nhttps://learn.microsoft.com/en-us/sql/relational-databases/security/dynamic-data-masking?view=sql-server-ver16","comments":[{"upvote_count":"1","content":"*First option","poster":"FishBurger","timestamp":"1663748880.0","comment_id":"674916"}]}],"answer_ET":"","isMC":false,"answers_community":[],"url":"https://www.examtopics.com/discussions/microsoft/view/83046-exam-az-500-topic-5-question-51-discussion/","topic":"5","timestamp":"2022-09-21 10:28:00","question_id":424,"answer_images":["https://www.examtopics.com/assets/media/exam-media/04258/0053100001.jpg"],"answer_description":"Box 1: aXXXX @XXXX.com -\nThe Email masking method, exposes the first letter and replaces the domain with XXX.com using a constant string prefix in the form of an email address.\n\nExample: aXX@XXXX.com -\n\nBox 2: 1900-01-01 -\nUse 01-01-1900 (or 1900-01-01) for date/time data types (date, datetime2, datetime, datetimeoffset, smalldatetime, time).\nReference:\nhttps://docs.microsoft.com/en-us/azure/azure-sql/database/dynamic-data-masking-overview","question_images":["https://www.examtopics.com/assets/media/exam-media/04258/0052900001.jpg","https://www.examtopics.com/assets/media/exam-media/04258/0053000001.jpg"],"unix_timestamp":1663748880},{"id":"ws1xwdRpJTHQAIKpJ2fy","isMC":false,"question_images":["https://www.examtopics.com/assets/media/exam-media/04258/0053200001.png","https://www.examtopics.com/assets/media/exam-media/04258/0053300001.jpg","https://www.examtopics.com/assets/media/exam-media/04258/0053400001.jpg"],"exam_id":56,"topic":"5","answers_community":[],"question_text":"HOTSPOT -\nYou have a hybrid Azure Active Directory (Azure AD) tenant named contoso.com that contains a user named User1 and the servers shown in the following table.\n//IMG//\n\nThe tenant is linked to an Azure subscription that contains a storage account named storage1. The storage1 account contains a file share named share1.\nUser1 is assigned the Storage File Data SMB Share Contributor role for storage1.\nThe Security protocol settings for the file shares of storage1 are configured as shown in the following exhibit.\n//IMG//\n\nFor each of the following statements, select Yes if the statement is true. Otherwise, select No.\nNOTE: Each correct selection is worth one point.\nHot Area:\n//IMG//","url":"https://www.examtopics.com/discussions/microsoft/view/85925-exam-az-500-topic-5-question-52-discussion/","discussion":[{"poster":"tutonata","comment_id":"831239","timestamp":"1709756820.0","content":"No Yes No\nDisabling NTLM will prevent ppl from mounting/acessing file share using SA key:\nhttps://learn.microsoft.com/en-us/azure/storage/files/files-smb-protocol?tabs=azure-portal#smb-security-settings\n\nWindows Server 2016 onwards does support SMB 3.1.1:\nhttps://learn.microsoft.com/en-us/windows-server/storage/file-server/file-server-smb-overview#features-added-in-smb-311-with-windows-server-2016-and-windows-10-version-1607","upvote_count":"13"},{"comment_id":"887452","content":"NYN is the answer.\n\nhttps://learn.microsoft.com/en-us/azure/storage/files/files-smb-protocol?tabs=azure-portal#smb-security-settings\nAuthentication methods: Which SMB authentication methods are allowed. Supported authentication methods are NTLMv2 (storage account key only) and Kerberos. By default, all authentication methods are allowed. Removing NTLMv2 disallows using the storage account key to mount the Azure file share. Azure Files doesn't support using NTLM authentication for domain credentials.","poster":"zellck","upvote_count":"5","timestamp":"1714658160.0","comments":[{"poster":"zellck","content":"https://learn.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#storage-file-data-smb-share-contributor\nAllows for read, write, and delete access on files/directories in Azure file shares.","upvote_count":"2","comment_id":"887455","timestamp":"1714658220.0"}]},{"comments":[{"content":"Are these questions still relevant, and do you also have any labs ?","upvote_count":"1","timestamp":"1742577180.0","comment_id":"1401644","poster":"MonikaMaksim123456"}],"timestamp":"1741291860.0","upvote_count":"2","content":"On the exam, Feb 2025","poster":"Nhadipour","comment_id":"1366002"},{"upvote_count":"1","timestamp":"1732462620.0","content":"Initially I thought that it is YES YES YES but It is asking about access key from storage 1. In documentation says that it is the access key from the machine that is domain joined. It is the ADDS. Storage 1 is in Azure AD.\n\nhttps://learn.microsoft.com/en-us/azure/azure-sql/database/dynamic-data-masking-overview?view=azuresql#dynamic-data-masking-policy\n\nSo, it is No YES No","comment_id":"1079407","poster":"xxavimr"},{"comment_id":"1006792","poster":"heatfan900","timestamp":"1726244100.0","upvote_count":"2","content":"If you look at the screenshot above, NTLMv2 is not checked, therefore, the STORAGE KEYS cannot be used to mount the FILE SHARE 1. n,y,n\n\nFROM MICROSOFT:\nAuthentication methods: Which SMB authentication methods are allowed. Supported authentication methods are NTLMv2 (storage account key only) and Kerberos. By default, all authentication methods are allowed. Removing NTLMv2 disallows using the storage account key to mount the Azure file share. Azure Files doesn't support using NTLM authentication for domain credentials."},{"poster":"Self_Study","timestamp":"1723129260.0","upvote_count":"3","content":"On an exam on 7/8/23, agree with the answer provided.","comment_id":"975782"},{"comment_id":"829231","content":"NO\nYES\nNO","upvote_count":"2","timestamp":"1709575740.0","poster":"majstor86"},{"upvote_count":"4","poster":"Nick66","timestamp":"1698385980.0","comment_id":"705268","content":"N - Y - N \nCustom Profile - Authentication mechanism Kerberos","comments":[{"upvote_count":"4","timestamp":"1703362920.0","poster":"undecided","content":"Correct, as per https://learn.microsoft.com/en-us/azure/storage/files/files-smb-protocol?tabs=azure-portal#smb-security-settings.\n\n\"Removing NTLMv2 disallows using the storage account key to mount the Azure file share.\"","comment_id":"754511"}]},{"content":"https://learn.microsoft.com/en-us/azure/storage/files/storage-how-to-use-files-windows","poster":"OlgaLG","timestamp":"1697838120.0","comment_id":"700320","upvote_count":"1"},{"upvote_count":"2","comment_id":"699143","poster":"somenick","timestamp":"1697729100.0","content":"Y,Y,Y\nSMB 3.1.1 is supported on server 2016 and later OS\nWhen mapping the share you can select the authentication method: Active Directory or Storage account key.\nhttps://learn.microsoft.com/en-us/azure/storage/files/storage-files-active-directory-overview#ad-ds"}],"answer_description":"Box 1: No -\nKerberos uses user's credentials, not access keys.\n\nBox 2: Yes -\nKerberos uses user's credentials.\n\nBox 3: No -\nReference:\nhttps://docs.microsoft.com/en-us/azure/active-directory/app-proxy/application-proxy-configure-single-sign-on-with-kcd","timestamp":"2022-10-19 17:25:00","question_id":425,"unix_timestamp":1666193100,"answer_ET":"","answer":"","answer_images":["https://www.examtopics.com/assets/media/exam-media/04258/0053400002.jpg"]}],"exam":{"id":56,"provider":"Microsoft","numberOfQuestions":505,"isMCOnly":false,"isBeta":false,"lastUpdated":"12 Apr 2025","name":"AZ-500","isImplemented":true},"currentPage":85},"__N_SSP":true}