{"pageProps":{"questions":[{"id":"4kpJr6cg2e8A73jT9kgf","unix_timestamp":1632767400,"exam_id":44,"answer_description":"","topic":"1","timestamp":"2021-09-27 20:30:00","answers_community":["B (98%)","2%"],"isMC":true,"answer_images":[],"answer":"B","question_id":11,"discussion":[{"content":"Correct answer is B. 20\n\n'Each virtual machine in your availability set is assigned an update domain and a fault domain by the underlying Azure platform. Each availability set can be configured with up to three fault domains and twenty update domains.'\n\nhttps://docs.microsoft.com/en-us/azure/virtual-machines/availability-set-overview","comment_id":"453854","poster":"tubby04","comments":[{"comment_id":"818702","upvote_count":"2","content":"B is correct","poster":"jackdryan","timestamp":"1677120240.0"}],"upvote_count":"114","timestamp":"1632894420.0"},{"comment_id":"469902","comments":[{"timestamp":"1647141480.0","comment_id":"566502","upvote_count":"18","content":"this is the way the site is suppose to run because if this site give all the correct answers then MS will shut it down. that is why you need to read the discussions and analyze the answer by yourself.","poster":"creepted","comments":[{"content":"Really? Is that how sites like this exist? I had assumed just being out of the country was enough. Wutever. This is my first time back in 18 months and the new comment voting system is DA BOMB! lol","comment_id":"673665","upvote_count":"6","poster":"Mentalfloss","timestamp":"1663625280.0","comments":[{"content":"i started thinking the same, if they had only current questions and 100% correct answers MS might sue them. and if they are out of country MS could petition backbone companies to block/remove the site. that's why you see some websites changing domains almost monthly like .to .is. net. .cc and etc. cloudflare received complains about 35k domains in 2021 and actioned a significant amount of them. so the old times of needing to nuke the website itself are gone.","poster":"ki01","timestamp":"1702977300.0","comment_id":"1100460","upvote_count":"1"}]}]}],"timestamp":"1635528660.0","content":"Admin of this Website ... Please Update the answer to \"B\" . \n\nits giving negative impact on people who think of buying Contributor Access seeing such mistakes .","upvote_count":"76","poster":"Pradh"},{"poster":"himanshu007007","upvote_count":"1","content":"Selected Answer: A\nIn an Azure Availability Set, update domains (UDs) help ensure that virtual machines (VMs) remain accessible during planned maintenance.\n\nThe platformUpdateDomainCount property defines the number of update domains within an availability set.\nUpdate domains help distribute VMs so that Azure does not restart all VMs at once during maintenance.\nThe maximum number of update domains supported in Azure is 20, but the default is 5, and the recommended value is 10 for most cases.","comment_id":"1362823","timestamp":"1740720060.0"},{"timestamp":"1738041960.0","content":"Selected Answer: B\nhttps://learn.microsoft.com/en-us/azure/virtual-machines/availability-set-overview#how-do-availability-sets-work\n\nThe underlying Azure platform assigns an update domain and a fault domain to each virtual machine in your availability set. Each availability set can have up to 3 fault domains and 20 update domains. You can't change these configurations after you create the availability set.","comment_id":"1347734","upvote_count":"1","poster":"sivv"},{"poster":"sholguin","comment_id":"1346217","content":"Selected Answer: B\nhttps://learn.microsoft.com/en-us/azure/virtual-machines/availability-set-overview\nHow do availability sets work?\nThe underlying Azure platform assigns an update domain and a fault domain to each virtual machine in your availability set. Each availability set can have up to 3 fault domains and 20 update domains. You can't change these configurations after you create the availability set.","timestamp":"1737748440.0","upvote_count":"1"},{"upvote_count":"1","comment_id":"1322462","poster":"Jaiiee","content":"Selected Answer: B\nHow do availability sets work?\nThe underlying Azure platform assigns an update domain and a fault domain to each virtual machine in your availability set. Each availability set can have up to 3 fault domains and 20 update domains. You can't change these configurations after you create the availability set.","timestamp":"1733419680.0"},{"poster":"Mark74","timestamp":"1733215140.0","content":"Selected Answer: B\nB , 20","upvote_count":"1","comment_id":"1321301"},{"timestamp":"1732534440.0","comment_id":"1317445","poster":"sreyanchoudhury","upvote_count":"1","content":"Selected Answer: B\nIt should be set to the max possible value, which is 20 for an availability set."},{"upvote_count":"2","comment_id":"1312369","content":"Answer is A. To maximize VM availability during maintenance and minimize downtime in the event of fabric failure, you should configure the platformUpdateDomainCount property to 10 (Option A). This will distribute your VMs across 10 update domains, ensuring that as many VMs as possible remain unaffected during planned maintenance and providing optimal availability.","poster":"Jig77","timestamp":"1731636720.0"},{"timestamp":"1725194640.0","comment_id":"1276064","upvote_count":"1","content":"Selected Answer: B\nB is correct","poster":"[Removed]"},{"poster":"[Removed]","content":"Answer is B, it specifically mentions the domain max count;\n\n\"Each virtual machine in your availability set is assigned an update domain and a fault domain by the underlying Azure platform. Each availability set can be configured with up to 3 fault domains and 20 update domains. These configurations can't be changed once the availability set has been created. source- https://learn.microsoft.com/en-us/azure/virtual-machines/availability-set-overview","timestamp":"1723164120.0","upvote_count":"3","comment_id":"1262711"},{"content":"Selected Answer: B\nEach availability set can be configured with up to three fault domains and twenty update domains","poster":"Deepu_s","timestamp":"1716613440.0","comment_id":"1217996","upvote_count":"2"},{"upvote_count":"1","poster":"MCLC2021","timestamp":"1712220360.0","comment_id":"1189187","content":"CORRECT ANSWER B (20)\n\n Each availability set can be configured with up to 3 fault domains and 20 update domains. \n\nhttps://learn.microsoft.com/en-us/azure/virtual-machines/availability-set-overview"},{"timestamp":"1710945480.0","comment_id":"1178379","poster":"tashakori","content":"B is correct","upvote_count":"1"},{"comment_id":"1146343","content":"Selected Answer: B\nmax number of update domains is 20","upvote_count":"1","timestamp":"1707573540.0","poster":"_gio_"},{"poster":"Saurabh_Bhargav","comment_id":"1142973","content":"B. 20 \nBecause the maximum value that i can have from the update domain is 20.","timestamp":"1707284220.0","upvote_count":"1"},{"timestamp":"1694915640.0","poster":"Push_Harder","content":"Answer: B\n\nEach availability set can be configured with up to 3 fault and 20 update domains. So, the best value you could configure against the update domain will be its maximum of 20.","upvote_count":"4","comment_id":"1009498"},{"poster":"fiahbone","upvote_count":"2","comment_id":"1002875","timestamp":"1694230860.0","content":"Selected Answer: B\n20 is max platformUpdateDomainCount available for am availability set."},{"content":"Selected Answer: B\n\"Each availability set can be configured with up to 3 fault domains and 20 update domains.\"\nRef: https://learn.microsoft.com/en-us/azure/virtual-machines/availability-set-overview#how-do-availability-sets-work","comment_id":"965654","poster":"Mehedi007","timestamp":"1690558560.0","upvote_count":"4"},{"poster":"james2033","content":"Selected Answer: B\nQuote \"Each availability set can be configured with up to 3 fault domains and 20 update domains.\"","upvote_count":"2","comment_id":"950615","timestamp":"1689248280.0"},{"timestamp":"1687962180.0","upvote_count":"1","content":"Selected Answer: B\nhttps://learn.microsoft.com/en-us/azure/virtual-machines/availability-set-overview\nEach availability set can be configured with up to three fault domains and twenty update domains","poster":"[Removed]","comment_id":"936760"},{"content":"5 update domains are assigned by default (Resource Manager deployments can then be increased to provide up to 20 update domains) to indicate groups of virtual machines and underlying physical hardware that can be rebooted at the same time.\nReference:\nhttps://docs.microsoft.com/en-us/azure/virtual-machines/availability-set-overview","timestamp":"1687697580.0","comment_id":"933598","poster":"Olufavour","upvote_count":"1"},{"timestamp":"1687595220.0","upvote_count":"1","content":"B is correct","comment_id":"932354","poster":"dhivyamohanbabu"},{"content":"Selected Answer: B\nhttps://learn.microsoft.com/en-us/azure/virtual-machines/availability-set-overview\nHow do availability sets work?\nEach virtual machine in your availability set is assigned an update domain and a fault domain by the underlying Azure platform. Each availability set can be configured with up to three fault domains and twenty update domains. These configurations can't be changed once the availability set has been created. Update domains indicate groups of virtual machines and underlying physical hardware that can be rebooted at the same time. When more than five virtual machines are configured within a single availability set with five update domains, the sixth virtual machine is placed into the same update domain as the first virtual machine, the seventh in the same update domain as the second virtual machine, and so on. The order of update domains being rebooted may not proceed sequentially during planned maintenance, but only one update domain is rebooted at a time. A rebooted update domain is given 30 minutes to recover before maintenance is initiated on a different update domain.","poster":"Navigati0n","comment_id":"923497","upvote_count":"1","timestamp":"1686768480.0"},{"upvote_count":"1","content":"The platformUpdateDomainCount property in an Azure Resource Manager (ARM) template is used to define the number of update domains for the availability set. Update domains are used to control the order in which virtual machines are updated by Azure during either planned maintenance or unplanned downtime. The value of the platformUpdateDomainCount property specifies the maximum number of virtual machines that can be updated simultaneously.\n\nTo ensure that the ARM template allows for as many VMs as possible to remain accessible in the event of fabric failure or maintenance, you should configure the platformUpdateDomainCount property to its maximum value of 20.\n\nTherefore, the correct answer is B. 20.","timestamp":"1681390980.0","comment_id":"869420","poster":"BowSec"},{"upvote_count":"2","content":"The platformUpdateDomainCount property in an Azure Resource Manager (ARM) template specifies the number of update domains used by the virtual machines in an availability set. Update domains indicate groups of VMs that can be updated and restarted in phases to minimize downtime during maintenance.\n\nThe correct value to configure for platformUpdateDomainCount depends on the number of VMs in the availability set, with a maximum of 20 update domains allowed. The recommended value is at least five times the number of VMs in the availability set, but not more than 20.\n\nTherefore, the correct answer would be either:\n\nB. 20","poster":"Madbo","comment_id":"868438","timestamp":"1681308480.0"},{"upvote_count":"3","content":"When deploying Azure virtual machines in an availability set using ARM templates, the platformUpdateDomainCount property specifies the number of update domains to use. An update domain is a logical group of underlying physical hardware that can undergo maintenance or updates at the same time without affecting the availability of the virtual machines in the same availability set.\n\nThe maximum number of update domains allowed is 20, and the default value is 5. To ensure that the ARM template allows for as many VMs as possible to remain accessible in the event of fabric failure or maintenance, it is recommended to set the platformUpdateDomainCount property to the maximum value of 20.\n\nTherefore, the answer is B: 20.","comment_id":"852404","timestamp":"1679944500.0","poster":"ralphmas"},{"poster":"maqibali","timestamp":"1678807860.0","upvote_count":"2","content":"Selected Answer: B\nThe platformUpdateDomainCount property specifies the number of update domains to be used by the availability set. An update domain is a group of virtual machines and underlying physical hardware that can be rebooted at the same time. By distributing virtual machines across update domains, you can ensure that no single update event can take down all of the virtual machines at once.\n\nIn Azure, the maximum value for platformUpdateDomainCount is 20. This means that an availability set can have up to 20 update domains. The minimum value for platformUpdateDomainCount is 1.\n\nTo make sure that the ARM template allows for as many VMs as possible to remain accessible in the event of fabric failure or maintenance, you should set the platformUpdateDomainCount property to its maximum value of 20.","comment_id":"838981"},{"comment_id":"825786","poster":"Spam101198","timestamp":"1677672360.0","content":"maximum Update domain can be 20, hence 20 is the correct answer","upvote_count":"1"},{"timestamp":"1676477520.0","upvote_count":"1","poster":"Mazinger","content":"When deploying Azure virtual machines within an availability set using ARM templates, the platformUpdateDomainCount property should be set to a value that allows for as many VMs as possible to remain accessible during planned maintenance events.\n\nThe platformUpdateDomainCount property defines the number of update domains used within the availability set. Each update domain represents a group of VMs that are updated together during planned maintenance events. By default, Azure uses five update domains for each availability set.\n\nTo ensure maximum availability, you should set the platformUpdateDomainCount property to the maximum value of 20. This will ensure that each VM is placed in a different update domain, allowing them to remain accessible during up to four concurrent planned maintenance events.\n\nTherefore, the correct option is B. 20.","comment_id":"809717"},{"timestamp":"1674653820.0","upvote_count":"1","comment_id":"787681","poster":"myarali","content":"Answer is B - 20\nThe platformUpdateDomainCount is a property that defines how many update domains there are in the availability set. The upper limit is 20. If the platformUpdateDomainCount becomes higher, that's mean as many VMs as possible to remain accessible."},{"comment_id":"716277","upvote_count":"1","poster":"jairoaquinterov","timestamp":"1668195000.0","content":"Correct answer is B. \"Each availability set can be configured with up to three fault domains and twenty update domains\". https://learn.microsoft.com/en-us/azure/virtual-machines/availability-set-overview"},{"upvote_count":"1","comment_id":"703466","timestamp":"1666659600.0","content":"https://learn.microsoft.com/en-us/azure/virtual-machines/availability-set-overview\n\"Each availability set can be configured with up to three fault domains and twenty update domains\".","poster":"jairoaquinterov"},{"timestamp":"1665840780.0","comment_id":"695422","content":"Selected Answer: B\nCorrect answer is B, Azure have 20 Update Domain","poster":"Cool_Z","upvote_count":"1"},{"timestamp":"1662989040.0","comment_id":"667006","upvote_count":"1","poster":"NaoVaz","content":"Selected Answer: B\nThe max Update Domains inside a Availability Set is 20.\nB) \"20\" Seems to be correct."},{"comment_id":"654742","upvote_count":"3","content":"platformFaultDomainCount : max 2-3\nplatformUpdateDomainCount : max 20","poster":"Mev4953","timestamp":"1661919900.0"},{"poster":"EmnCours","upvote_count":"1","comment_id":"653762","content":"Selected Answer: B\nCorrect Answer: B","timestamp":"1661826900.0"},{"poster":"epomatti","comment_id":"588258","upvote_count":"1","content":"Selected Answer: B\nB is the correct one, Update domains limit is 20","timestamp":"1650381780.0"},{"upvote_count":"1","timestamp":"1650274200.0","content":"Selected Answer: B\nUpdate Domain max as of now is 20","poster":"kennynelcon","comment_id":"587582"},{"upvote_count":"2","timestamp":"1648197420.0","content":"So the answer is clearly 20. Even the reference provided says 20. So who chose 40 as the answer?","comment_id":"574887","poster":"klexams"},{"content":"Selected Answer: B\nUpdate Domain Max Count is 20","comment_id":"568023","timestamp":"1647301800.0","poster":"mksdubey","upvote_count":"1"},{"upvote_count":"1","comment_id":"563115","poster":"Leti","timestamp":"1646731980.0","content":"Selected Answer: B\nCorrect answer is B, the similar question in whizlabs"},{"comment_id":"555230","poster":"Matthijs99","timestamp":"1645703220.0","upvote_count":"2","content":"Selected Answer: B\nEach availability set can be configured with up to three fault domains and twenty update domains.'"},{"poster":"wujx","timestamp":"1645494720.0","content":"Selected Answer: B\nCorrect answer is B. 20","comment_id":"553374","upvote_count":"1"},{"content":"Set to 20","poster":"ruterjunior","comment_id":"536341","upvote_count":"3","timestamp":"1643562660.0"},{"upvote_count":"3","poster":"ddon1999","timestamp":"1643245080.0","comment_id":"533380","content":"40!!! omg. who is answering these??"},{"poster":"Marski","content":"There is right answer 20. The text given says it but not indicated choice. Update?","upvote_count":"1","timestamp":"1643197020.0","comment_id":"532838"},{"upvote_count":"1","timestamp":"1643010540.0","poster":"Foow","content":"Selected Answer: B\nIt also says so in the answer reference","comment_id":"531124"},{"comment_id":"527544","poster":"Salu007","content":"Selected Answer: B\nEach availability set can be configured with up to three fault domains and twenty update domains","timestamp":"1642600440.0","upvote_count":"2"},{"upvote_count":"4","content":"Selected Answer: B\nThe platformUpdateDomainCount is a property that defines how many update domains there are in the availability set. The upper limit is 20.\n\nSuppose the platformUpdateDomainCount is set to 3, and you have 15 virtual machines in the availability set. In that case, it means that 5 VMs can be updated and unavailable, but the remaining 10 VMs are always available.","comment_id":"514475","timestamp":"1641034560.0","poster":"elishlomo"},{"content":"Correct answer is B. 20\n\nAdmin or Moderator please change this answer to 20. Why it is still showing 40 ?","comment_id":"514325","upvote_count":"5","timestamp":"1641003360.0","poster":"MSExpert"},{"upvote_count":"2","poster":"JIGT","comment_id":"511067","content":"20. Each availability set can be configured with up to three fault domains and twenty update domains.","timestamp":"1640693400.0"},{"timestamp":"1640465760.0","content":"Selected Answer: B\n20 is the max value available to choose","upvote_count":"3","poster":"Vkom","comment_id":"509275"},{"poster":"Sara_Mo","timestamp":"1640376540.0","upvote_count":"3","content":"Selected Answer: B\nThe correct answer is B","comment_id":"508843"},{"content":"Selected Answer: B\nAnswer is B","upvote_count":"2","timestamp":"1639554600.0","poster":"Linkjap","comment_id":"501962"},{"comment_id":"499473","timestamp":"1639235700.0","poster":"hosseny","content":"correct answer is B 20","upvote_count":"2"},{"content":"Ans : B\nUpdate domains : 20\nFault domains : 3","poster":"Prano","timestamp":"1639130520.0","upvote_count":"2","comment_id":"498503"},{"content":"Selected Answer: B\nLimit is 20","comment_id":"496712","timestamp":"1638958260.0","upvote_count":"1","poster":"pkerley"},{"poster":"Enzy","content":"Selected Answer: B\nHopefully the admin change the answer to B. It's in the explanation itself.","upvote_count":"2","comment_id":"496421","timestamp":"1638923940.0"},{"poster":"DMouser","upvote_count":"1","timestamp":"1638895680.0","content":"Selected Answer: B\nMax UD is 20, not 40.","comment_id":"496190"},{"content":"Each availability set can be configured with up to three fault domains and twenty update domains. Update","poster":"safwansalama","comment_id":"490008","upvote_count":"1","timestamp":"1638199800.0"},{"content":"Selected Answer: B\nEach availability set can be configured with up to three fault domains and twenty update domains.","upvote_count":"1","poster":"Roger95","comment_id":"489128","timestamp":"1638103260.0"},{"poster":"LordStarkJL","content":"Selected Answer: B\nThe correct answer","comment_id":"485060","upvote_count":"1","timestamp":"1637674140.0"},{"timestamp":"1637658120.0","poster":"verifedtomic","comment_id":"484864","content":"Selected Answer: B\nMaximum update domain is 20. The answer should be B","upvote_count":"1"},{"timestamp":"1637496600.0","poster":"oman","content":"Selected Answer: B\nThe correct answer.","comment_id":"483225","upvote_count":"1"},{"timestamp":"1637362740.0","comment_id":"482145","upvote_count":"1","poster":"hmzansari","content":"Selected Answer: B\nThe correct answer is B"},{"comment_id":"482032","timestamp":"1637350080.0","poster":"sanstey","upvote_count":"1","content":"Selected Answer: B\n\"Resource Manager deployments can then be increased to provide up to 20 update domains\""},{"comment_id":"477327","content":"Given answer is wrong. Each availability set can be configured with up to three fault domains and twenty update domains.","poster":"Bapan","timestamp":"1636786860.0","upvote_count":"3"},{"timestamp":"1635708300.0","upvote_count":"3","content":"Max 20 only","comment_id":"470857","poster":"sachin007"},{"comment_id":"470289","content":"Are you in the thought of learning cloud computing, especially Azure? \nAre you Preparing for the Az-104 exam? \n\nGlad you reading this!\nPractice Microsoft Azure Administrator Exam Az-104 for FREE!!\n\nWHAT IS SPECIAL? 400+ realistic Exam questions for practice with correct answers. \nwHAT IS NEW? The 400+ questions are grouped \"MODULE-wise\". You can be prepared for one module and practice the test for that one module before moving to the next module. \nANYTHING MORE? Each question comes with a correct answer and also the reason why the remaining answers are not correct.\nANY BONUS? Almost every question has a link to Microsoft's official pages for you to know more information. \n\nWhy wait, all the above @FREE of cost, HURRY UP!! Just click the link https://www.udemy.com/course/microsoft-azure-administrator-practice-test/?couponCode=AZ104OFFER \nShare it with your friends, Offer ends soon!!\n\nNote: This is @FREE of cost to get your valuable feedback which is costly. Please drop in your feedback.","upvote_count":"3","timestamp":"1635604860.0","poster":"Swathi_Devi"},{"timestamp":"1635270960.0","poster":"fatalpuls3","upvote_count":"1","comments":[{"comment_id":"468335","content":"The explanation however does say (Resource Manager deployments can then be increased to provide up to 20 update domains)","timestamp":"1635303780.0","upvote_count":"3","poster":"goodboy5569"}],"comment_id":"468212","content":"Hmm interesting that this site is showing the answer to be 40"},{"comment_id":"462860","upvote_count":"2","content":"B - correct answer","timestamp":"1634353140.0","poster":"Eltooth"},{"timestamp":"1632818700.0","upvote_count":"3","content":"Am I missing something? why not 20 ?","poster":"Chi1987","comment_id":"453221"},{"comments":[{"timestamp":"1632907200.0","upvote_count":"2","poster":"Omar_Aladdin","content":"Yeah 20 Update Domain is the maximum value provided by Azure for a single availability-set","comment_id":"453990"}],"content":"Incorrect. \nThe correct answer here is B (20)","comment_id":"452920","poster":"pakman","upvote_count":"3","timestamp":"1632789720.0"},{"timestamp":"1632774240.0","upvote_count":"3","comment_id":"452732","poster":"serenity404","content":"The answer is \"B. 20\", as this is the maximum Update domains.\nhttps://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-orchestration-modes"},{"poster":"zaaaaaak","upvote_count":"3","timestamp":"1632774240.0","comment_id":"452731","content":"Wrong, Answer is B - 20"},{"upvote_count":"2","comment_id":"452702","poster":"Littlenoob","timestamp":"1632770040.0","content":"why not 20?"}],"choices":{"D":"40","C":"30","A":"10","B":"20"},"question_images":[],"url":"https://www.examtopics.com/discussions/microsoft/view/62874-exam-az-104-topic-1-question-19-discussion/","answer_ET":"B","question_text":"Your company has an Azure subscription.\nYou need to deploy a number of Azure virtual machines (VMs) using Azure Resource Manager (ARM) templates. You have been informed that the VMs will be included in a single availability set.\nYou are required to make sure that the ARM template you configure allows for as many VMs as possible to remain accessible in the event of fabric failure or maintenance.\nWhich of the following is the value that you should configure for the platformUpdateDomainCount property?"},{"id":"vocrkZqC3C62tTLXF3Sz","timestamp":"2021-07-04 00:04:00","answer_description":"","isMC":true,"topic":"1","answer_images":[],"answer":"B","question_id":12,"exam_id":44,"answers_community":["B (100%)"],"answer_ET":"B","unix_timestamp":1625349840,"discussion":[{"timestamp":"1625349840.0","upvote_count":"155","poster":"green_arrow","comments":[{"upvote_count":"11","content":"B is correct.\nYou access the Azure portal to alter the grant control of the Azure AD conditional access policy.","poster":"jackdryan","timestamp":"1677112260.0","comment_id":"818578"}],"content":"B is correct, \n1- the best way to enforce MFA is by Conditional Access\n2- the device has to be identified by azure AD as A AD joined Device.\n3- the trusted ip must be configured.","comment_id":"397848"},{"upvote_count":"59","content":"Selected Answer: B\nNo, the solution does not meet the goal. To implement the required conditional access policy, the following steps should be taken:\n\nCreate a new Conditional Access policy in Azure AD portal.\nSet the policy to require Multi-Factor Authentication and Azure AD device registration.\nIn the policy's \"Users and Groups\" section, specify the Global Administrators group as the target.\nIn the policy's \"Conditions\" section, specify the locations that are considered untrusted.\nSave the policy.\nSimply accessing the multi-factor authentication page and altering user settings does not provide a comprehensive solution to meet the stated goal.","timestamp":"1683398760.0","comment_id":"890947","poster":"BeauChateau"},{"content":"Selected Answer: B\nYou can understand the answer here: https://learn.microsoft.com/en-us/entra/identity/authentication/tutorial-enable-azure-mfa?toc=%2Fentra%2Fidentity%2Fconditional-access%2Ftoc.json&bc=%2Fentra%2Fidentity%2Fconditional-access%2Fbreadcrumb%2Ftoc.json","timestamp":"1742906940.0","poster":"juancarlosdlar","upvote_count":"1","comment_id":"1410033"},{"content":"Selected Answer: B\nB should be right one","upvote_count":"1","timestamp":"1738937880.0","poster":"Vinny","comment_id":"1353016"},{"upvote_count":"1","content":"Selected Answer: B\nIn my opinion the correct option is (B) \nTo configure MFA the correct way is through Conditional Access Policies.\nPrepare smartly with Certsleader and ace your exam.","timestamp":"1737111600.0","poster":"CameronReal","comment_id":"1342101"},{"upvote_count":"1","content":"Selected Answer: B\nNo, the solution does not meet the goal.\n\nTo achieve the desired outcome, you need to configure a conditional access policy that specifically targets the Global Administrators group and sets the required conditions, such as Multi-Factor Authentication (MFA) and the use of an Azure AD-joined device when accessing from untrusted locations. Altering the session control alone is not sufficient to enforce these specific requirements.\n\nYou would need to:\n1. Create a new conditional access policy in the Azure portal.\n2. Target the Global Administrators group.\n3. Set the conditions to require MFA and an Azure AD-joined device.\n4. Specify the locations considered untrusted.\n\nWould you like more detailed steps on how to configure this policy?","timestamp":"1735559220.0","comment_id":"1334079","poster":"Raki1049"},{"timestamp":"1733837040.0","comment_id":"1324566","poster":"jack0467166","content":"Selected Answer: B\nB is correct.\nYou access the Azure portal to alter the grant control of the Azure AD conditional access policy.\nhttps://github.com/orgs/community/discussions/146738","upvote_count":"1"},{"poster":"kiwwwyis","timestamp":"1729497480.0","upvote_count":"2","content":"B. No\nis the answer because\nto enable the MFA depending on the condition can only be enabled from the conditional access option.\nNot from MFA option","comment_id":"1300814"},{"content":"La bonne réponse c'est la A","timestamp":"1728902280.0","upvote_count":"1","poster":"IsaacRayan","comment_id":"1297464"},{"timestamp":"1726823820.0","upvote_count":"1","comment_id":"1286736","poster":"examprepboy","content":"Selected Answer: B\nYou set MFA by conditional access and use the grant option"},{"poster":"[Removed]","timestamp":"1725191280.0","comments":[{"content":"You access the Azure portal to alter the grant control of the Azure AD conditional access policy.","upvote_count":"2","comment_id":"1305028","timestamp":"1730298360.0","poster":"[Removed]"}],"upvote_count":"1","content":"Selected Answer: B\nB is correct","comment_id":"1276031"},{"poster":"tsummey","content":"Selected Answer: B\nThis isn't a user setting; you need to create a conditional access policy:\nUnder Assignments select the Global Admin Group\nUnder Conditions set the location to any location and exclude all trusted locations\nUnder Access Controls, grant access and check the options for require MFA and require the device to be marked as compliant.","upvote_count":"3","comment_id":"1231851","timestamp":"1718617740.0"},{"comment_id":"1178375","timestamp":"1710945420.0","upvote_count":"1","content":"No is right","poster":"tashakori"},{"upvote_count":"1","poster":"Saurabh_Bhargav","timestamp":"1707272700.0","comment_id":"1142899","content":"B. No\nis the answer because\nto enable the MFA depending on the condition can only be enabled from the conditional access option.\nNot from MFA option"},{"comment_id":"1139912","poster":"go4adil","content":"Correct Answer: B (No)\n\nIn order to implement MFA and Azure AD-Joined device, you need to create a 'Conditional Access Policy'. To implement conditional access policy;\n\nGo to Microsoft Entra-->Protection-->Security Center-->Conditional Access Page. (Microsoft Entra Premium is required to implement Conditional Access policy)\n\nMFA page can't facilitate implementation of conditional access policy.","timestamp":"1707036000.0","upvote_count":"8"},{"upvote_count":"1","poster":"_gio_","content":"Selected Answer: B\nanswer is B","comment_id":"1121395","timestamp":"1705132440.0"},{"content":"B is correct","comment_id":"1097487","upvote_count":"1","poster":"79652e9","timestamp":"1702658400.0"},{"comment_id":"1043686","timestamp":"1697312220.0","poster":"Minaru","upvote_count":"9","content":"Correct answer is B. \n\nThe solution does not meet the goal. While accessing the multi-factor authentication page allows you to configure multi-factor authentication for users, it does not specifically target the members of the Global Administrators group. To meet the goal of requiring Global Administrators to use Multi-Factor Authentication and an Azure AD-joined device when connecting from untrusted locations, you need to set up an Azure AD conditional access policy."},{"upvote_count":"1","poster":"alexel222","timestamp":"1694453880.0","content":"Selected Answer: B\ncorrecto","comment_id":"1005046"},{"comment_id":"1002539","upvote_count":"2","content":"Selected Answer: B\nThe clue to the answer is in the question. You want to implement an Azure AD conditional access policy.","poster":"fiahbone","timestamp":"1694180880.0"},{"poster":"pb7o61","upvote_count":"9","comment_id":"1000889","content":"Selected Answer: B\nGiven the requirements, you need to set up an Azure AD conditional access policy that enforces both Multi-Factor Authentication (MFA) and the use of Azure AD-joined devices for members of the Global Administrators group when connecting from untrusted locations.\n\nThe provided solution suggests accessing the multi-factor authentication page to alter user settings. This would allow you to enforce MFA, but it does not address the requirement for the use of Azure AD-joined devices when they connect from untrusted locations.\n\nThus, the solution does not fully meet the goal.\n\nThe answer is:\nB. No.","timestamp":"1694025660.0"},{"timestamp":"1689225960.0","content":"Selected Answer: B\nThe keywords:\n- 1 Azure Active Directory subscription.\n- 1 Azure Active Directory Conditional Access Policy.\n- must, require, members, Global Administrators group\n- use MFA + Azure-Active-Directory-Joined device (untrusted locations)\n- MFA page to Alter the user settings (this is the most key information).\n\nCannot use MFA (multi-factor authentication) page --to--> Alter the user settings. Therefore, answer is B. (No).","poster":"james2033","upvote_count":"3","comment_id":"950356"},{"upvote_count":"1","timestamp":"1689225720.0","comment_id":"950355","content":"Selected Answer: B\nB is correct ans","poster":"ShyamNallu_100813"},{"content":"Option B.","comment_id":"932182","timestamp":"1687583220.0","upvote_count":"2","poster":"dhivyamohanbabu"},{"timestamp":"1686744120.0","comment_id":"923156","upvote_count":"2","content":"Selected Answer: B\nB is correct","poster":"Dungeon_Master"},{"content":"Selected Answer: B\nB is correct","comment_id":"872432","timestamp":"1681714920.0","upvote_count":"1","poster":"Chris2603"},{"content":"B. No.\n\nThe solution does not meet the goal as it only addresses the requirement for Global Administrators and does not specify the need for an Azure AD-joined device or untrusted locations. To meet the requirements, a conditional access policy needs to be created with the appropriate settings.","upvote_count":"2","comment_id":"867522","poster":"Madbo","timestamp":"1681233540.0"},{"comment_id":"838667","timestamp":"1678784160.0","upvote_count":"12","content":"I hate questions which requires you to \"remember\" location of things rather than being able to do the things.","poster":"kukushka"},{"timestamp":"1677642180.0","comment_id":"825503","content":"B is the correct answer","upvote_count":"1","poster":"vishalarora1607"},{"upvote_count":"8","poster":"UmbongoDrink","timestamp":"1676198160.0","comment_id":"806212","content":"Selected Answer: B\nConditional Access policies are configured from the Azure AD Blade under Security settings page and not from the MFA settings page."},{"timestamp":"1673530920.0","upvote_count":"1","comment_id":"773495","content":"Selected Answer: B\nB is correct.","poster":"Rufusinski"},{"content":"B=correct answer. \nMFA page can been access to enforce user to use MFA. However, the other part states domain joined so you ne Condition Access blade for that, which also can configure MFA.","comment_id":"768926","poster":"Mindvision","timestamp":"1673125860.0","upvote_count":"1"},{"poster":"aKalyan911","content":"Conditional Access policies support built-in roles. Conditional Access policies are not enforced for other role types including administrative unit-scoped or custom roles.","comment_id":"725757","timestamp":"1669287660.0","upvote_count":"5"},{"upvote_count":"1","timestamp":"1667965980.0","poster":"mniyas","content":"MFA to be defined under conditional access policy.","comment_id":"714263"},{"poster":"Cool_Z","content":"Selected Answer: B\nConditional Access policies are configured from the Azure AD Blade under Security settings page and not from the MFA settings page.","timestamp":"1665763320.0","upvote_count":"11","comment_id":"694896"},{"upvote_count":"7","content":"Selected Answer: B\nConditional Access policies are configured from the Azure AD Security settings page and not from the MFA settings page.","timestamp":"1663314900.0","poster":"gabyrever","comment_id":"670591"},{"timestamp":"1662987300.0","content":"Selected Answer: B\nIn my opinion the correct option is B) \"No\".\n\nTo configure MFA the correct way is through Conditional Access Policies.\n\nBased on the provided documentation the correct approach is through \"Grant\" Access Controls.","upvote_count":"6","poster":"NaoVaz","comment_id":"666965"},{"timestamp":"1662861840.0","comment_id":"665761","upvote_count":"1","poster":"BigBigChannel","content":"B is correct"},{"comment_id":"653740","content":"Correct Answer: B","poster":"EmnCours","timestamp":"1661824260.0","upvote_count":"1"},{"upvote_count":"1","comment_id":"597652","poster":"examtopicssignup1","content":"B is correct","timestamp":"1651829280.0"},{"content":"Selected Answer: B\nAnswer is correct","timestamp":"1649421780.0","comment_id":"582887","upvote_count":"1","poster":"RalphLiang"},{"comment_id":"573782","upvote_count":"4","poster":"shako","content":"MFA trusted IPs can be altered in Azure Active Directory > Security > Conditional Access\nAnswer is B.","timestamp":"1648054560.0"},{"upvote_count":"1","timestamp":"1647527400.0","comment_id":"569788","poster":"Sandeept1992","content":"B is correct"},{"comment_id":"567405","upvote_count":"1","poster":"brand9","timestamp":"1647235740.0","content":"B is correct answer"},{"timestamp":"1646672700.0","comment_id":"562773","upvote_count":"1","poster":"NishanthTech90","content":"B is correct"},{"poster":"AzureLearner76","content":"Selected Answer: B\nYou need conditional access to define the trusted locations to enforce the join","upvote_count":"1","timestamp":"1645365840.0","comment_id":"551834"},{"poster":"Stanh777","comment_id":"550544","upvote_count":"1","timestamp":"1645227540.0","content":"Selected Answer: B\nVote for B"},{"content":"B is the correct choice","timestamp":"1644869580.0","upvote_count":"1","poster":"PeterHu","comment_id":"547337"},{"poster":"nqthien041292","comment_id":"544230","upvote_count":"2","timestamp":"1644456600.0","content":"Selected Answer: B\nVote B"},{"comment_id":"530703","content":"Selected Answer: B\nCorrect answer is B","upvote_count":"1","poster":"PassForSure007","timestamp":"1642957800.0"},{"upvote_count":"1","poster":"Shabbow","timestamp":"1642695240.0","content":"B is the correct choice.","comment_id":"528576"},{"timestamp":"1641978420.0","content":"Correct answer - B. To enforce MFA from an untrusted location, you need to create a conditional access rule that requires MFA.","upvote_count":"2","comment_id":"522013","poster":"elishlomo"},{"comment_id":"516359","poster":"leoiq91","content":"yes, this is correct \nB","upvote_count":"1","timestamp":"1641284820.0"},{"comment_id":"512237","upvote_count":"2","poster":"hanyahmed","timestamp":"1640786760.0","content":"Selected Answer: B\nB is correct"},{"poster":"Prano","timestamp":"1638969780.0","content":"Ans : B","upvote_count":"4","comment_id":"496849"},{"poster":"John117","timestamp":"1638107700.0","content":"B is correct, \nIt should be in the the grant control of the Azure AD conditional access policy.","comment_id":"489169","upvote_count":"3"},{"comment_id":"486490","content":"Selected Answer: B\nIn order to implement Conditional Access, use below path\nHome > Your Directory > Security > Conditional Access","timestamp":"1637826300.0","poster":"Roger95","upvote_count":"6"},{"timestamp":"1637517360.0","content":"how to get free access for all 300 questions","comment_id":"483533","poster":"poojamh4","upvote_count":"2"},{"poster":"nherrerab","timestamp":"1635172140.0","upvote_count":"2","comment_id":"467498","content":"B is correct."},{"timestamp":"1633243680.0","comment_id":"456448","content":"Going to attend exam's today 03/10/2021 half an hour to go","poster":"villanz","upvote_count":"1"},{"content":"Ans: No.\nTo achieve the goal, we need 2 policy:\nA custom condition policy for joined device, existing common policy Conditional Access: Require compliant devices seems not working in this case out of box.","comments":[{"content":"Hmmm, Instead of the MFA page mentioned above, you have to go the route of Conditional Access Policy-->Grant Control mentioned here for this question. Under Grant Control you are given the option of setting MFA and requiring AD joined devices in the exact same window.","comment_id":"450846","upvote_count":"2","poster":"YooOY","timestamp":"1632482100.0"}],"upvote_count":"3","comment_id":"450841","timestamp":"1632481620.0","poster":"YooOY"},{"comment_id":"447748","upvote_count":"2","content":"I couldn't test in my free lab since I have no AZ AD.","timestamp":"1632072060.0","poster":"Ben_CAP"},{"content":"The answer is B here and A on the other version of this question you will see later where it mentions under Grant Control. There is a MFA page in Azure portal but you cant do the conditional MFA/device requirement from there......You must go the route of Conditional Access Policy--->Grant Control\nI did this in lab step by step. The settings for \"MFA\" and \"joined devices\" requirement is EXACTLY on the same subpage pop out when configuring the Conditional Access policy.","timestamp":"1629549300.0","poster":"Micah7","comment_id":"428683","upvote_count":"2"},{"comment_id":"428670","timestamp":"1629548460.0","content":"The answer is A.\nI did this in lab step by step. The settings for \"MFA\" and \"joined devices\" requirement is EXACTLY on the same subpage pop out when configuring the policy. Here is the page with the walkthrough steps:","upvote_count":"1","poster":"Micah7"},{"poster":"Loi2525","upvote_count":"3","comment_id":"406541","timestamp":"1626303300.0","content":"I believe it is B - NO:"}],"question_text":"Note: The question is included in a number of questions that depicts the identical set-up. However, every question has a distinctive result. Establish if the solution satisfies the requirements.\nYour company has an Azure Active Directory (Azure AD) subscription.\nYou want to implement an Azure AD conditional access policy.\nThe policy must be configured to require members of the Global Administrators group to use Multi-Factor Authentication and an Azure AD-joined device when they connect to Azure AD from untrusted locations.\nSolution: You access the multi-factor authentication page to alter the user settings.\nDoes the solution meet the goal?","question_images":[],"url":"https://www.examtopics.com/discussions/microsoft/view/57044-exam-az-104-topic-1-question-2-discussion/","choices":{"B":"No","A":"Yes"}},{"id":"2PqXlo0sKvROcx5ihMhm","answers_community":[],"answer_ET":"","timestamp":"2021-09-27 20:33:00","answer_description":"You can use a template that allows you to deploy a simple Windows VM by retrieving the password that is stored in a Key Vault. Therefore, the password is never put in plain text in the template parameter file.","question_id":13,"topic":"1","answer":"","unix_timestamp":1632767580,"answer_images":["https://www.examtopics.com/assets/media/exam-media/04223/0001900001.png"],"discussion":[{"comments":[{"poster":"jackill","content":"I agree : key vault + access policy\nBut please note that now the access policy is considered a legacy way to provide access to the key vault. Now you can use RBAC.","upvote_count":"40","comment_id":"953530","timestamp":"1689529440.0"},{"poster":"jackdryan","upvote_count":"5","timestamp":"1677120360.0","content":"This is correct.","comment_id":"818703"}],"content":"Key vault + access policy","upvote_count":"84","poster":"pakman","timestamp":"1632790140.0","comment_id":"452926"},{"timestamp":"1726803600.0","poster":"Mazinger","upvote_count":"27","content":"The two components you should create to achieve your goal are:\n1. An Azure Key Vault: you can store the administrative password in an Azure Key Vault, which provides secure storage and management of cryptographic keys, certificates, and secrets. Storing the password in a Key Vault ensures that it is not stored in plain text and provides an additional layer of security to protect the password.\n2. An access policy: You should create an access policy to control access to the Key Vault secrets. An access policy specifies who can perform operations on the secrets stored in the Key Vault. You can grant permissions to users, applications, and services to access the Key Vault and its secrets, and you can specify the level of access that they have. By creating an access policy, you can control who has access to the administrative password and ensure that it is used only by authorized entities.\nTherefore, to achieve your goal, you should create an Azure Key Vault to store the administrative password, and an access policy to control access to the Key Vault secrets.","comment_id":"809888"},{"poster":"[Removed]","timestamp":"1726059540.0","comment_id":"1282114","content":"CORRECT","upvote_count":"1"},{"timestamp":"1721917140.0","content":"Be carefull, Accesspolicy is legacy, now we have RBAC. If they replace it with RBAC, you know this is the correct answer","upvote_count":"5","comment_id":"1255038","poster":"CheMetto"},{"content":"Given answer is right","timestamp":"1710946680.0","comment_id":"1178416","poster":"tashakori","upvote_count":"1"},{"poster":"_gio_","upvote_count":"1","comment_id":"1153131","content":"Key vault + access policy","timestamp":"1708246260.0"},{"content":"I think is B","upvote_count":"1","comment_id":"1125976","timestamp":"1705589340.0","poster":"Aldair66"},{"upvote_count":"3","poster":"D1nk8887","content":"The question says \"You need to make sure that the password cannot be stored in plain text,\" not how do you set it up so it's not stored in plain text.","comment_id":"1098510","timestamp":"1702764240.0"},{"timestamp":"1697058420.0","content":"Key Vault and Access Policy\n\nSecurely Deploy Azure VM With Local Admin Password from Azure Key Vault and not in ARM Template.","upvote_count":"5","comment_id":"1041111","poster":"Yuraq"},{"content":"Azure key vault to store the password and Access policy to make it accessible. \n\nhttps://learn.microsoft.com/en-us/azure/key-vault/general/basic-concepts","upvote_count":"6","timestamp":"1694231280.0","comments":[{"timestamp":"1695016140.0","content":"i love it when i find simplest exact answers","poster":"havoc2k7","upvote_count":"3","comment_id":"1010305"}],"poster":"fiahbone","comment_id":"1002881"},{"upvote_count":"4","content":"The question states \"option\", not \"options\". Based on the text I assume there is only one correct answer. In this case I would go with the Key Vault","comment_id":"953109","poster":"SeregonAzDev","timestamp":"1689490380.0"},{"timestamp":"1689391080.0","content":"This question is explained in below youtube video.","upvote_count":"7","comment_id":"951974","poster":"kamalpur"},{"poster":"xRiot007","content":"If you need to store stuff securely, you should use an Azure Key Vault and store it as key-value, where the key is a string and the value can be anything. To access the keyvault data you need an Access Policy taht defines who has access to the vault.","comment_id":"915236","timestamp":"1685954460.0","upvote_count":"7"},{"timestamp":"1684944240.0","poster":"LCR","upvote_count":"3","content":"This whole answers/grid situation is confusing.","comment_id":"906027"},{"comment_id":"868444","poster":"Madbo","timestamp":"1681308780.0","content":"The two components that should be created to achieve the goal of storing an administrative password securely are:\n\n An Azure Key Vault, which can securely store and manage cryptographic keys, certificates, and passwords. The password can be stored as a secret in the Key Vault and then accessed by the ARM template using a reference to the Key Vault.\n \n An access policy, which is used to define who has permissions to access and manage the Key Vault. This is important to ensure that only authorized users can access the password stored in the Key Vault.","upvote_count":"13"},{"comment_id":"860202","poster":"GohanF2","content":"answer is correct, plus this question appears in the MS free Assessment exam in MS page for this course.","upvote_count":"3","timestamp":"1680543900.0"},{"poster":"Chandra415","content":"Key Vault & Access Policy","timestamp":"1673400720.0","comment_id":"771945","upvote_count":"3"},{"upvote_count":"2","comment_id":"688597","poster":"RanjitSingh1974","content":"Azure Key Vault and Access Pol","timestamp":"1665144840.0"},{"comment_id":"667007","upvote_count":"12","poster":"NaoVaz","timestamp":"1662989220.0","content":"Key Vault + Access Policy.\n\nUsing Key Vault we create a secret containing our Password: \n\nUsing an Access Policy we allow access to the previously created secret."},{"timestamp":"1661827140.0","content":"Key vault + access policy","comment_id":"653764","upvote_count":"4","poster":"EmnCours"},{"comment_id":"587459","timestamp":"1650254400.0","content":"I agree with key vault and an access policy, however the question also says: \"You need to make sure that the password cannot be stored in plain text\". This does not solve the \"cannot\" part?","poster":"Melmix","upvote_count":"3"},{"comment_id":"580153","content":"Doesn't help that the question states \"select option\" - singular","poster":"Tarifa123","upvote_count":"11","timestamp":"1648972680.0"},{"comment_id":"570165","content":"Key vault and the access policy, actually the access policy is set during the vault creation","timestamp":"1647568620.0","upvote_count":"3","poster":"Azure_daemon"},{"timestamp":"1647481440.0","comment_id":"569424","poster":"Broniac","upvote_count":"2","content":"A Key Vault access policy determines whether a given security principal, namely a user, application or user group, can perform different operations on Key Vault secrets, keys, and certificates"},{"timestamp":"1646151360.0","comment_id":"558832","upvote_count":"2","content":"Key vault + access policy","poster":"Venzo"},{"comment_id":"498506","content":"Ans : Access policy and Azure Key vault","upvote_count":"2","poster":"Prano","timestamp":"1639130760.0"},{"comment_id":"473436","timestamp":"1636199040.0","poster":"yooi","content":"Why access policy? Just a key vault is enough?\nYou wouldn't need any of these:\nAccess policies only support these storage resources:\n Blob containers\n File shares\n Queues\n Tables\nhttps://docs.microsoft.com/en-us/rest/api/storageservices/define-stored-access-policy","upvote_count":"2","comments":[{"poster":"zankuko_tenshi","timestamp":"1636407060.0","comment_id":"474508","comments":[{"comment_id":"557843","poster":"Mozbius_","timestamp":"1646020980.0","upvote_count":"2","content":"I understand the logic of that argument (from a security stand point) but technically it is incorrect to say a Key Vault NEEDS to have an access policy created for it. Having an access policy is best practice but doesn’t appear to be actually a requirement (please correct me if I am wrong). The question is asking what are the necessary components to achieve the goal of not having the password stored in plain text.\nAccess policies doesn’t help with preventing password from being stored in plain text and the key vault can be used without it.\n\n[Suggestions for controlling access to your vault are as follows:\nLock down access to your subscription, resource group, and key vaults (role-based access control (RBAC)).\nCreate access policies for every vault...]\n\n https://docs.microsoft.com/en-us/azure/key-vault/general/best-practices"}],"content":"Key Vault will store your KV pairs but you still need to configure the access policy to determine the level of access that a service principal (ARM template will use) can perform against the key vault.\nhttps://docs.microsoft.com/en-us/azure/key-vault/general/assign-access-policy?tabs=azure-portal","upvote_count":"21"},{"content":"The access policy is inside of the keyvault, so yes, you need the key vault but you also need to allow the ARM template to use. I also thought the only the key vault was needed, got it wrong.","poster":"juniorccs","timestamp":"1650959520.0","upvote_count":"2","comment_id":"592199"}]},{"content":"Key vault+ Access Policy","poster":"bcristella","upvote_count":"2","comment_id":"465316","timestamp":"1634752560.0"},{"comment_id":"464682","poster":"kaloszertest","content":"Just key vault:\n\nAccess policy does not support Key Vaults","comments":[{"comment_id":"474510","content":"Kindly check for Key Vault reference of access policy.","timestamp":"1636407180.0","poster":"zankuko_tenshi","upvote_count":"2"},{"comment_id":"592207","content":"You are wrong, there is an option in the keyvault access policy \"Azure Resource Manager for template deployment\" this option must be enabled, therefore, you also need an access policy","timestamp":"1650960120.0","poster":"juniorccs","upvote_count":"1"}],"upvote_count":"2","timestamp":"1634652960.0"},{"upvote_count":"4","comment_id":"452922","poster":"pakman","timestamp":"1632789900.0","content":"You'd use a Key Vault to avoid plain text passwords","comments":[{"comment_id":"474511","upvote_count":"2","poster":"zankuko_tenshi","timestamp":"1636407240.0","content":"And access policy to make sure that the service principal has the right level of access. https://docs.microsoft.com/en-us/azure/key-vault/general/assign-access-policy?tabs=azure-portal"}]},{"timestamp":"1632767580.0","content":"Answer is correct","comment_id":"452672","poster":"ech","upvote_count":"3"}],"exam_id":44,"url":"https://www.examtopics.com/discussions/microsoft/view/62875-exam-az-104-topic-1-question-20-discussion/","question_text":"DRAG DROP -\nYou have downloaded an Azure Resource Manager (ARM) template to deploy numerous virtual machines (VMs). The ARM template is based on a current VM, but must be adapted to reference an administrative password.\nYou need to make sure that the password cannot be stored in plain text.\nYou are preparing to create the necessary components to achieve your goal.\nWhich of the following should you create to achieve your goal? Answer by dragging the correct option from the list to the answer area.\nSelect and Place:\n//IMG//","isMC":false,"question_images":["https://www.examtopics.com/assets/media/exam-media/04223/0001800001.png"]},{"id":"sF4DQ9vEM2NM41uu8kFt","url":"https://www.examtopics.com/discussions/microsoft/view/57060-exam-az-104-topic-1-question-21-discussion/","isMC":true,"answer_description":"","discussion":[{"timestamp":"1726803840.0","content":"Ans: A\n\nAfter Windows is installed but before the logon screen appears, Windows Setup searches for the SetupComplete.cmd file in the %WINDIR%\\Setup\\Scripts\\ directory","upvote_count":"83","comments":[{"poster":"jackdryan","upvote_count":"4","content":"A is correct.","timestamp":"1676778660.0","comment_id":"813719"}],"comment_id":"401480","poster":"j5y"},{"timestamp":"1662989400.0","upvote_count":"22","content":"Selected Answer: A\nGPOs aren't a thing in Azure AD. \nJust putting a Script inside the VHD doesn't make it run on boot.\n\nConfiguring a \"SetupComplete.cmd\" in the \"%windir%\\setup\\scripts\" directory is the correct approach:","poster":"NaoVaz","comments":[{"content":"the newly created VMs are on-prem not on Azure AD , you are wrong , answer is C","upvote_count":"1","comment_id":"1360979","timestamp":"1740392340.0","poster":"BWLZ"}],"comment_id":"667009"},{"poster":"ryof","upvote_count":"1","content":"Selected Answer: A\nThe best solution in this scenario would be A: Configure a SetupComplete.cmd batch file in the %windir%\\setup\\scripts directory.\nThis method ensures that your PowerShell scripts are automatically executed after the Windows setup process is complete, making it ideal for automating the configuration of newly created VMs. The SetupComplete.cmd file runs immediately after the Windows installation is finalized and before the system restarts, allowing you to automate tasks like running your scripts without needing manual intervention.\nOptions B and C (Group Policy Objects for logon or startup scripts) might not be ideal in this case, as they depend on user logons or startup events, which can introduce delays or inconsistencies, especially in environments where VMs are being rapidly deployed.\nOption D (placing scripts in a new VHD) is not specifically designed for automating VM configuration; it would involve additional steps for accessing and executing the scripts.","comment_id":"1410778","timestamp":"1743062460.0"},{"content":"Selected Answer: C\nLos startup scripts se ejecutan antes de que cualquier usuario inicie sesión, asegurando que la configuración se aplique correctamente a todas las nuevas VMs cuando se inicien.\nAdemás, este enfoque se administra centralmente desde Active Directory, lo que facilita la aplicación en múltiples máquinas.","poster":"entidad","comment_id":"1395476","upvote_count":"1","timestamp":"1741910280.0"},{"poster":"alinuxguru70","timestamp":"1741736640.0","content":"Selected Answer: A\nYou have created some PowerShell scripts to automate the configuration of newly created VMs. \nYou need a solution that ensures the scripts are run on the new VMs.\n\nThere is nothing to imply that the script needs to be run on every startup. \n Therefore there is no reason to use a GPO. SetupComplete.cmd would be the appropriate answer.","upvote_count":"1","comment_id":"1387678"},{"upvote_count":"1","poster":"Ivanvazovv","comment_id":"1373398","timestamp":"1741550100.0","content":"Selected Answer: A\nNowhere in the question is written that the new VMs will be domain joined. So GPO may not be an option at all."},{"comment_id":"1365790","poster":"Abhisk127","upvote_count":"1","content":"Selected Answer: C\nThe best solution is C. Configure a Group Policy Object (GPO) to run the scripts as startup scripts. This ensures that the PowerShell scripts are executed when the VMs start up, automating the configuration process effectively","timestamp":"1741245780.0"},{"content":"Selected Answer: A\nI think A because here: https://learn.microsoft.com/en-us/windows-hardware/manufacture/desktop/add-a-custom-script-to-windows-setup?view=windows-11 you could find this: \"If the computer joins a domain during installation, the Group Policy that is defined in the domain is not applied to the computer until Setupcomplete.cmd is finished. This is to make sure that the Group Policy configuration activity does not interfere with the script.\"","timestamp":"1740563520.0","upvote_count":"1","poster":"Ponpon3185","comment_id":"1361850"},{"upvote_count":"2","timestamp":"1739848380.0","comment_id":"1358103","poster":"nnamacha","content":"Selected Answer: A\nMicrosoft Entra ID does not support traditional Group Policy Objects (GPOs) like Active Directory Domain Services (AD DS). GPOs are a legacy feature of on-premises Active Directory environments,"},{"upvote_count":"1","comment_id":"1354689","timestamp":"1739228460.0","content":"Selected Answer: C\nPara asegurarse de que los scripts de PowerShell se ejecuten automáticamente en las nuevas VM y configuren el sistema correctamente, la mejor opción es usar un GPO configurado para ejecutar los scripts como scripts de inicio.\n\n✅ Opción correcta: C. Configure un objeto de política de grupo (GPO) para ejecutar los scripts como scripts de inicio.","poster":"victorio_27"},{"comment_id":"1354489","content":"Selected Answer: C\nThe SetupComplete.cmd mechanism is executed during Windows Setup after installation completes. This is useful for initial image configuration but is less flexible if you plan to use an already prepared image or if the VMs are deployed in various scenarios over time.\n\nSince your environment is domain-joined (as indicated by the hybrid coexistence with on-premises Active Directory) and you’re creating multiple new VMs, using a GPO with startup scripts is a centralized and scalable way to ensure your configuration scripts run automatically on each new VM.","upvote_count":"2","timestamp":"1739196840.0","poster":"chandiochan"},{"poster":"lioroz","timestamp":"1739014140.0","comment_id":"1353372","upvote_count":"1","content":"Selected Answer: C\nThe best solution in this scenario is to configure a Group Policy Object (GPO) to run the scripts as startup scripts. This ensures that the PowerShell scripts are executed when the virtual machines start up, automating the configuration process.\n\nSo the correct answer is C. Configure a Group Policy Object (GPO) to run the scripts as startup scripts."},{"content":"Selected Answer: C\nhe best solution is C. Configure a Group Policy Object (GPO) to run the scripts as startup scripts.\n\nConfiguring a GPO to run the scripts as startup scripts ensures that the scripts are executed when the VMs start up, which is ideal for automating the configuration of newly created VMs. This method is reliable and integrates well with the existing Active Directory environment. \nOption A, configuring a SetupComplete.cmd batch file in the %windir%\\setup\\scripts directory, is a valid method for running scripts during the setup process of Windows. However, it is typically used for tasks that need to be executed once during the final stages of the Windows setup process, rather than for ongoing configuration tasks.","poster":"Cruzito","upvote_count":"1","comment_id":"1352515","timestamp":"1738859100.0"},{"upvote_count":"1","poster":"jeff1988","content":"Selected Answer: C\nC. Configure a Group Policy Object (GPO) to run the scripts as startup scripts.\n\nHere’s why:\n\nStartup scripts run when the computer starts, before any user logs on. This ensures that the scripts are executed as soon as the VM is powered on and before any user interaction.\nLogon scripts (option B) run when a user logs on, which means the scripts would only execute after a user logs in, potentially delaying the configuration.\nSetupComplete.cmd (option A) is used during the Windows setup process, but it is not as flexible or manageable as GPOs for ongoing VM management.\nPlacing scripts in a new VHD (option D) is not a standard method for ensuring scripts run automatically on new VMs.","timestamp":"1738236720.0","comment_id":"1349027"},{"upvote_count":"2","poster":"zhorj1kuee","content":"Selected Answer: A\nRationale:\nThe SetupComplete.cmd file is executed immediately after the operating system setup is complete, ensuring that the scripts are run on the new virtual machines as part of their initial configuration. This solution is both direct and efficient for automating the configuration of freshly created VMs.\nWhy not the others?\nB: Logon scripts via GPO: These run only when a user logs in. For automating initial configurations on new VMs, this is neither timely nor appropriate.\n\nC: Startup scripts via GPO: While they run during the computer's startup, GPOs require the machine to already be part of the Active Directory domain, which is not guaranteed for new VMs during initial setup.\n\nD: Scripts in a new VHD: While theoretically possible, this approach is cumbersome and lacks the streamlined execution of the SetupComplete.cmd method.","timestamp":"1736498700.0","comment_id":"1338763"},{"upvote_count":"1","content":"Selected Answer: C\nGiven the options, the best solution to ensure your PowerShell scripts run on the newly created VMs is:\nC. Configure a Group Policy Object (GPO) to run the scripts as startup scripts.\nHere's why:\nStartup Scripts: Configuring the scripts as startup scripts ensures they run when the VM boots up, before any user logs in. This is ideal for initial configuration tasks that need to be completed before the VM is fully operational.\nGroup Policy: Using GPOs allows you to centrally manage and enforce the execution of these scripts across all new VMs in your domain, ensuring consistency and reducing manual effort.","poster":"Bhushan90","timestamp":"1735992780.0","comment_id":"1336372"},{"content":"Selected Answer: A\nIf any script is running in the startup, it slows down the booting time. Startup script should contain only those tems which cannot stay in static state.","upvote_count":"1","poster":"premanshum","comment_id":"1335363","timestamp":"1735794600.0"},{"timestamp":"1735579140.0","content":"Selected Answer: C\nConfigure a SetupComplete.cmd batch file in the %windir%\\setup\\scripts directory is another valid solution, but it is typically used for very specific scenarios during the initial setup phase of Windows deployment.","poster":"SolimanAlali","upvote_count":"1","comment_id":"1334278"},{"poster":"SolimanAlali","comment_id":"1334277","upvote_count":"1","timestamp":"1735579080.0","content":"Selected Answer: C\nThis is the best approach:\nStart-up scripts are run when the computer starts, before any user logs on. This ensures that the scripts are run on the newly created VM as soon as it boots, making it ideal for VM configuration automation. You can configure a GPO to run these scripts on all the VMs in your environment."},{"comment_id":"1331216","poster":"58b2872","timestamp":"1735068360.0","content":"Selected Answer: C\nThe SetupComplete.cmd batch file in the %windir%\\setup\\scripts directory can be used only for Windows. It does not work for other operating systems like Linux.","upvote_count":"1"},{"comments":[{"upvote_count":"1","comment_id":"1342763","comments":[{"poster":"superrvirgo","comment_id":"1342766","upvote_count":"1","content":"Errata, they of course might be joined to AD, hence please ignore my last sentence","timestamp":"1737235920.0"}],"timestamp":"1737235620.0","content":"The requirement in this exercise is to configure a newly created VMs through a PS script. This suggests that the script is to be run once. Hence, no requirement for reoccurring execution. Also, the SetupComplete.cmd is run first in order and before the scripts deployed by GPOs. And btw, what if the VMs are not to be joined to a domain? The exercise description doesn't say anything about the VMs being joined to a domain.","poster":"superrvirgo"}],"comment_id":"1324141","content":"Selected Answer: C\n**Correct Answer: C. Configure a Group Policy Object (GPO) to run the scripts as startup scripts.** \n\n### **Why This Is Correct:** \n- **Startup scripts** run **before user login**, making them ideal for system-level configurations. \n- Using a **GPO** ensures automatic execution across multiple VMs without manual intervention. \n\n### **Why Others Are Incorrect:** \n- **A. SetupComplete.cmd:** Runs only **once** after Windows installation, not suitable for recurring tasks. \n- **B. Logon Scripts:** Run **after user login**, not suitable for system-level tasks. \n- **D. VHD:** Only stores scripts; does not **automatically execute** them. \n\n**Conclusion:** **Option C** ensures **automatic execution** on every VM startup, making it the best choice.","upvote_count":"3","poster":"SHAHIN_STA","timestamp":"1733762040.0"},{"timestamp":"1732974960.0","upvote_count":"1","content":"Selected Answer: C\nBecause of coexistence with the on-premises Active Directory domain group, policies can be used","comment_id":"1320223","poster":"testumesh1980"},{"upvote_count":"1","comment_id":"1315992","timestamp":"1732219680.0","content":"ans: C\nhttps://learn.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/dn789196(v=ws.11)","poster":"shacky100"},{"poster":"moniker","timestamp":"1731438780.0","content":"Selected Answer: C\nthe best solution is to configure a Group Policy Object (GPO) to run the scripts as startup scripts (Option C). This ensures that the PowerShell scripts are executed when the VMs start up, which is ideal for automating the configuration of newly created VMs in a consistent manner","comment_id":"1310860","upvote_count":"1"},{"comment_id":"1310113","upvote_count":"1","poster":"leonmc00","content":"Selected Answer: C\nAs the question specifies \"The on-premise virtual environment consists of virtual machines (VMs) running on Windows Server 2012 R2 Hyper-V host servers.\" the correct answer is C. IF the VMs were running in Azure then the answer would be A","timestamp":"1731332880.0"},{"timestamp":"1730680080.0","upvote_count":"1","comment_id":"1306718","poster":"shafiqeee","content":"Selected Answer: C\nshould be the C"},{"comments":[{"poster":"etrop","comment_id":"1166608","timestamp":"1709655720.0","content":"Will group policy even work if the systems are not joined to the domain yet?","upvote_count":"2"},{"timestamp":"1693313700.0","comments":[{"upvote_count":"1","content":"The SetupComplete.cmd batch file in the %windir%\\setup\\scripts directory can be used only for Windows. It does not work for other operating systems like Linux.","poster":"58b2872","timestamp":"1735068420.0","comment_id":"1331218"}],"poster":"SivaPannier","content":"The custom system configuration is a one time activity for every VM. If we keep that in the startup script, the configuration will be executed every time the VM is started and it is not expected. Hence the answer should be A. Also the SetupComplete.cmd will be acting as a wrapper and it can be wired to powershell script.","comment_id":"993096","upvote_count":"5"}],"comment_id":"906680","timestamp":"1727855040.0","poster":"Andre369","content":"Selected Answer: C\nC. Configure a Group Policy Object (GPO) to run the scripts as startup scripts.\n\nBy configuring a Group Policy Object (GPO) to run the scripts as startup scripts, you can automate the execution of the PowerShell scripts on the new VMs when they start up. This ensures that the scripts are executed consistently and reliably on each VM during the startup process.\n\nOption A, configuring a SetupComplete.cmd batch file in the %windir%\\setup\\scripts directory, is not the best solution in this scenario as it applies only to the initial installation of Windows and would not cover the configuration of newly created VMs.\n\nOption B, configuring the scripts as logon scripts through Group Policy, may not be ideal in this case as logon scripts are executed when a user logs in, whereas the requirement is to run the scripts on the VMs themselves, regardless of user logins.\n\nOption D, placing the scripts in a new virtual hard disk (VHD), would require additional configuration steps and might not be necessary or the most efficient solution for executing PowerShell scripts on the new VMs.","upvote_count":"9"},{"content":"Selected Answer: C\nThe best solution to ensure that your PowerShell scripts are run on the new VMs is to configure a Group Policy Object (GPO) to run the scripts as startup scripts (Option C).\n\nThis approach ensures that the scripts are executed when the VM starts up, which is ideal for initial configuration tasks.","timestamp":"1727688960.0","comments":[{"comment_id":"1305307","content":"In this way the script will be executed on each restart of the VM... The correct answer shold be A","poster":"sca88","timestamp":"1730358660.0","upvote_count":"1"}],"upvote_count":"1","comment_id":"1291507","poster":"asuarez"},{"comment_id":"1290456","upvote_count":"1","poster":"dirkxi","content":"The correct answer is C.\nThis is not an Azure-specific question but a general Microsoft enterprise-managed question.","timestamp":"1727486940.0"},{"poster":"Pcservices","comment_id":"1288746","content":"Selected Answer: C\nStartup scripts in Group Policy apply before any user logs in, during the system boot process. This makes it a better solution for automating configurations that need to happen at the system level for every new VM. It ensures the scripts are applied when the machine starts.","upvote_count":"1","timestamp":"1727203920.0"},{"upvote_count":"6","timestamp":"1726803900.0","content":"Selected Answer: A\nRun a script after setup is complete (SetupComplete.cmd)\nOrder of operations\n1. After Windows is installed but before the logon screen appears, Windows Setup searches for the SetupComplete.cmd file in the %WINDIR%\\Setup\\Scripts\\ directory.\n\n2. If a SetupComplete.cmd file is found, Windows Setup runs the script. Windows Setup logs the action in the C:\\Windows\\Panther\\UnattendGC\\Setupact.log file.\n\n3. Setup does not verify any exit codes or error levels in the script after it executes SetupComplete.cmd.\n\n4. If the computer joins a domain during installation, the Group Policy that is defined in the domain is not applied to the computer until Setupcomplete.cmd is finished. \nThis is to make sure that the Group Policy configuration activity does not interfere with the script.","poster":"Iron_Man_111","comment_id":"1185774"},{"content":"In this case ... It means that you are going to deploy several VMs ... \n\nOption A is valid but... If you deploy 100VMs is not logical to go 1 by 1 creating that .bat.\nOption C is valir and is the best cuz with a GPO you can implement it at the same time ...\n\nSEVERAL VMs is the critical point here.","upvote_count":"2","poster":"juanmacoellocloudsecarch","comment_id":"1273446","timestamp":"1724764740.0"},{"content":"Selected Answer: C\nA could work, but has nothing to do with azure, so C is the best option","upvote_count":"1","comments":[{"timestamp":"1722885060.0","comment_id":"1261172","content":"Neither have anything to do with Azure, but for the GPO to fire, the server would need to be joined to the domain first. While it doesn't explicitly state either way, A always fires. \"After Windows is installed but before the logon screen appears, Windows Setup searches for the SetupComplete.cmd file in the %WINDIR%\\Setup\\Scripts\\ directory. If a SetupComplete.cmd file is found, Windows Setup runs the script. This script runs with local system permissions .\"","poster":"Highgate","upvote_count":"2"}],"comment_id":"1258834","timestamp":"1722427380.0","poster":"TheFivePips"},{"poster":"Mixxy1010","upvote_count":"4","content":"I would vote C, assuming you are running a domain with Group policy enabled. as the question doesnt specifically state that Group policy is in use, you have to assume local scripts are run to configure the machine. hence A is the answer, even if its a really dumb way to manage your machines.","comment_id":"1254654","timestamp":"1721874960.0"},{"timestamp":"1721176560.0","upvote_count":"1","content":"The second link provided in Answer does not work.","poster":"chucklu","comment_id":"1249336"},{"timestamp":"1716981840.0","upvote_count":"2","poster":"76d5e04","content":"Many windows server administration related questions are poping up, seems unrelevant","comment_id":"1220858"},{"poster":"Didatzi","content":"Selected Answer: C\nAnswer A is valid. \nAnswer C is also valid, if you have the VM's joined to the AD domain. \nIt is better to manage VM's with GPO instead of running scripts manually on each VM. Using GPO will minimize the effort and will save time. \nI personally prefer answer C. \n\nHere, the questions does not provide enough information to choose the correct answer between the two.","timestamp":"1716229140.0","comment_id":"1214544","upvote_count":"4"},{"comment_id":"1209770","upvote_count":"3","poster":"3c5adce","content":"Between A & C - ChatGPT4 says C.\nThe option A, using a SetupComplete.cmd batch file, is primarily intended for tasks that need to be executed once after the operating system is installed or configured. While it can technically run scripts post-setup, it's less flexible and manageable compared to using Group Policy.\n\nOption C, configuring a Group Policy Object (GPO) to run scripts as startup scripts, provides better manageability and scalability. With GPOs, you can easily update, manage, and apply scripts across multiple VMs in the domain automatically every time the machines start up, not just after initial setup. This makes it more suitable for ongoing operations and management in a hybrid environment like yours.","timestamp":"1715431320.0"},{"upvote_count":"2","comment_id":"1178331","poster":"MelKr","content":"Selected Answer: C\nGroup policies can be replicated to Azure AD. The question does not state where the new VMs will be created (On Prem or in Azure). So Group Policies is the only option that works for both.","timestamp":"1710943320.0"},{"poster":"Amir1909","comment_id":"1159586","content":"A is correct","upvote_count":"1","timestamp":"1708942680.0"},{"comment_id":"1159537","upvote_count":"1","poster":"nospampls","timestamp":"1708939680.0","content":"Selected Answer: C\nc"},{"upvote_count":"3","content":"This question is more oriented towards Active Directory Administartion than Azure AZ 104 at all !","poster":"photon99","timestamp":"1697802480.0","comment_id":"1048736"},{"comment_id":"1045647","timestamp":"1697527500.0","upvote_count":"4","poster":"Ravikrsoni","content":"C. Configure a Group Policy Object (GPO) to run the scripts as startup scripts.\n\nHere's why:\n\nLogon scripts: Logon scripts are executed when a user logs on. If the automation tasks should be performed in the context of a user, logon scripts might be appropriate. However, they require a user to log in, which might not be the case for certain automated tasks.\n\nStartup scripts: Startup scripts run during the system startup, before the user logs in. This makes them suitable for tasks that need to run regardless of user logins. For automated configuration tasks on VMs, especially when there might not be an interactive user session, using startup scripts through Group Policy is often the preferred method."},{"content":"Selected Answer: C\nIn the context of Azure and hybrid environments, the best solution for ensuring that your PowerShell scripts are run on newly created VMs is option C: Configure a Group Policy Object (GPO) to run the scripts as startup scripts.\n\nHere's why:\n\nA. SetupComplete.cmd in %windir%\\setup\\scripts: This method is typically used for unattended installations, but it won't work for your scenario as it's mainly used during the initial setup phase of Windows.","timestamp":"1696853760.0","poster":"pal40sg","comment_id":"1028902","upvote_count":"3"},{"timestamp":"1695731100.0","content":"You have created some PowerShell scripts to automate the configuration of newly created VMs. You plan to create several new VMs.\nYou need a solution that ensures the scripts are run on the new VMs.\nWhich of the following is the best solution?\n\noption A applies scripts on the new VM's first boot whereas option C applies on new VMs every boot.\n \nhere the keyword is \"some PowerShell scripts\" so that is more than one script and not one. So it might involve scripts to be applied on every boot. \n\nTherefore the answer is C and not A.","comment_id":"1017748","poster":"insanetechy","upvote_count":"2"},{"timestamp":"1695580440.0","content":"Selected Answer: A\nA is correct","upvote_count":"5","poster":"ntinakos","comment_id":"1016096"},{"comment_id":"1009610","poster":"yashsj","timestamp":"1694930760.0","upvote_count":"1","content":"Selected Answer: C\nThe question has setup a context stating use of hybrid use of Azure AD with OnPrem Active Directory Domain Controller. So option C seems to be correct option as it uses the information/context provided in the question. Option A might be correct option (although that can also be debated) has noting to do with Azure."},{"poster":"shrsrm95","timestamp":"1692784500.0","upvote_count":"3","comment_id":"988162","content":"Selected Answer: A\nA seems like the correct answer, since it's a one-time configuration that needs to run after setup. The group policy options for logon and startup imply a recurrence"},{"timestamp":"1692274620.0","content":"Configuring a SetupComplete.cmd batch file in the %windir%\\setup\\scripts directory is a valid solution for running custom scripts after the Windows Setup process is complete. After Windows is installed but before the logon screen appears, Windows Setup searches for the SetupComplete.cmd file in the %windir%\\setup\\scripts directory. If a SetupComplete.cmd file is found, Windows Setup runs the script1. However, this solution may not be the best one for the scenario here described, as it requires the virtual machines to be offline while the Windows Setup process is running.","upvote_count":"3","poster":"abinnnnnnnnnn","comment_id":"983592"},{"content":"Selected Answer: C\nI will go with C. Question states this: You have created some PowerShell scripts to automate the configuration of NEWLY CREATED VMs. You PLAN TO create several new VMs.\nYou need a solution that ensures the scripts are run on the new VMs.\nWhich of the following is the best solution?\n\nHow do we know how many new vm's will be? And what if, after deployment of those new ones, we need few more again? So every time we need new ones, we will go through answer a? Or we should make it one time, answer C and ensure that our scripts are consistently applied every time that we create a new vm.","timestamp":"1691755440.0","upvote_count":"2","comments":[{"poster":"SivaPannier","comment_id":"993091","content":"The custom system configuration is a one time activity for every time. If we keep that in the startup script, the configuration will be executed every time the VM is started and it is not expected. Hence the answer should be A.","timestamp":"1693313520.0","upvote_count":"3"}],"comment_id":"978605","poster":"[Removed]"},{"content":"when the user sees the desktop, so after user logon. Computer-based GPO's are triggered at computer start-up. I feel like C is correct, as it ensures the script is executed. All the other solutions do not ensure any script execution, as users might not logon at all.","timestamp":"1691754480.0","upvote_count":"1","comment_id":"978590","poster":"Jeppa"},{"poster":"VV11_SS22","content":"correct answer is A","timestamp":"1691716380.0","comment_id":"978176","upvote_count":"1"},{"comment_id":"932658","content":"A is correct","poster":"dhivyamohanbabu","timestamp":"1687617300.0","upvote_count":"1"},{"content":"A","poster":"CHRIS12722222","upvote_count":"1","timestamp":"1687443120.0","comment_id":"930652"},{"upvote_count":"13","content":"Many people have commented on GPO options and it's right however GPO comes in the picture when VM join the on-premise AD. But SetupComplete.cmd executes before VM join the VM.\nSo, the order of execution is typically as follows:\n\nVM is provisioned.\nSetupComplete.cmd batch file runs during the first boot of the VM.\nVM joins the Active Directory domain.\nGPOs are applied to the VM.\nSo I am thinking option 'A' is correct","comment_id":"899861","poster":"rishisoft1","timestamp":"1684311840.0"},{"upvote_count":"2","content":"To ensure that PowerShell scripts are run on newly created virtual machines (VMs) in a Windows Server 2012 R2 Hyper-V environment that is configured for hybrid coexistence with Azure Active Directory (Azure AD), the best solution is to configure the scripts to run as startup scripts using Group Policy.\n\nTherefore, the correct answer is C. Configure a Group Policy Object (GPO) to run the scripts as startup scripts.\n\nBy configuring the PowerShell scripts as startup scripts in a Group Policy Object (GPO), the scripts will run each time a virtual machine starts up, ensuring that they are automatically configured on newly created VMs.","timestamp":"1681391640.0","poster":"BowSec","comment_id":"869430"},{"content":"They say powershell and the cmd is batch file, so I would say b and c","upvote_count":"2","poster":"floradu88","timestamp":"1681301520.0","comment_id":"868331"},{"upvote_count":"1","timestamp":"1680789300.0","content":"Selected Answer: C\nOption A suggested configuring a SetupComplete.cmd batch file in the %windir%\\setup\\scripts directory on the new virtual machines. However, this does not guarantee that the PowerShell scripts will be executed on the new virtual machines. The batch file may be ignored or removed by system administrators or end-users, and this also does not guarantee that the PowerShell scripts will be executed with the appropriate permissions.\n\nOn the other hand, options B and C suggest configuring Group Policy Objects (GPOs) to run the PowerShell scripts as logon or startup scripts, which ensures that the scripts will be executed with the appropriate permissions and their execution will be automatic and consistent across all new virtual machines.\n\nTherefore, options B and C are preferable to option A to ensure that the PowerShell scripts will be executed on the new virtual machines.","poster":"margotfrpp","comment_id":"863017"},{"poster":"margotfrpp","content":"Selected Answer: A\nOption A suggested configuring a SetupComplete.cmd batch file in the %windir%\\setup\\scripts directory on the new virtual machines. However, this does not guarantee that the PowerShell scripts will be executed on the new virtual machines. The batch file may be ignored or removed by system administrators or end-users, and this also does not guarantee that the PowerShell scripts will be executed with the appropriate permissions.\n\nOn the other hand, options B and C suggest configuring Group Policy Objects (GPOs) to run the PowerShell scripts as logon or startup scripts, which ensures that the scripts will be executed with the appropriate permissions and their execution will be automatic and consistent across all new virtual machines.\n\nTherefore, options B and C are preferable to option A to ensure that the PowerShell scripts will be executed on the new virtual machines.","timestamp":"1680789120.0","comment_id":"863013","upvote_count":"2"},{"upvote_count":"1","comment_id":"859131","poster":"lokii9980","content":"If the scripts need to be executed after the virtual machine has finished installing and the operating system has finished setting up, then Option A - configuring a SetupComplete.cmd batch file in the %windir%\\setup\\scripts directory is the best solution. This method is useful if you need to configure the VM after it has been deployed and the operating system has been installed. The SetupComplete.cmd batch file is executed once the setup process is complete, before the user is logged on for the first time.","timestamp":"1680455220.0"},{"poster":"rafael0","timestamp":"1680452580.0","upvote_count":"3","comment_id":"859048","content":"Selected Answer: C\nOption A may work for a single VM or a few VMs, but it is not the best solution for deploying the PowerShell scripts to multiple VMs automatically. Right?"},{"comment_id":"848103","poster":"habbey","timestamp":"1679569920.0","upvote_count":"1","content":"A is the correct answer"},{"timestamp":"1678655580.0","comment_id":"837393","content":"C is also correct. \nCreate a GPO to run the PowerShell script on startup - https://woshub.com/running-powershell-startup-scripts-using-gpo/\nDeprecate the policy as needed.\nYou will avoid adding a custom script for each of your new VMs. Handy when you are deploying 100 or more.","poster":"Krish2222","upvote_count":"2","comments":[{"comment_id":"837395","poster":"Krish2222","upvote_count":"1","timestamp":"1678655640.0","content":"If you want to run the PowerShell script at a computer startup (to disable legacy protocols: NetBIOS and LLMNR, SMBv1, configure computer security settings, etc.) or prior to the computer shutdown, you need to go to the GPO section with the computer settings: Computer Configuration -> Policies -> Windows Settings -> Scripts (Startup / Shutdown)."},{"timestamp":"1678658880.0","content":"Note: Since GPO is not automatically assigned on Azure VMs, it would be best to save the Powershell script as an ARM template and set an Azure Policy under security. The Azure policy will ensure that your template runs on startup. This is the policy that can be deprecated as needed. Apologies for the lack of clarity!","upvote_count":"2","poster":"Krish2222","comment_id":"837441"}]},{"upvote_count":"1","comment_id":"813706","timestamp":"1676778240.0","content":"I'll go with A","poster":"jackdryan"},{"content":"I'll go with A","upvote_count":"1","comment_id":"813699","timestamp":"1676777700.0","poster":"jackdryan"},{"upvote_count":"1","content":"A is correct","poster":"jackdryan","timestamp":"1676777520.0","comment_id":"813695"},{"upvote_count":"2","content":"Selected Answer: A\nCorrect Answer: A","comment_id":"653765","poster":"EmnCours","timestamp":"1661827440.0"},{"upvote_count":"2","comment_id":"544388","poster":"nqthien041292","content":"Selected Answer: A\nVote A","timestamp":"1644479700.0"},{"comment_id":"514480","timestamp":"1641034860.0","poster":"elishlomo","content":"Selected Answer: A\nA.\n\nSetupcomplete.cmd is a custom script that runs during or after the Windows Setup process. They can install apps or run other tasks using cscript/wscript scripts.","upvote_count":"3"},{"timestamp":"1636377780.0","content":"Answer: SetupComplete.cmd\nAfter Windows is installed but before the logon screen appears, Windows Setup searches for the SetupComplete.cmd file in the %WINDIR%\\Setup\\Scripts\\ directory.\n\nIf a SetupComplete.cmd file is found, Windows Setup runs the script. Windows Setup logs the action in the C:\\Windows\\Panther\\UnattendGC\\Setupact.log file.\n\nSetup does not verify any exit codes or error levels in the script after it executes SetupComplete.cmd.\n\nIf the computer joins a domain during installation, the Group Policy that is defined in the domain is not applied to the computer until Setupcomplete.cmd is finished. This is to make sure that the Group Policy configuration activity does not interfere with the script.\n\nNote: \nYou can't reboot the system and resume running SetupComplete.cmd. You should not reboot the system by adding a command such as shutdown -r. This will put the system in a bad state.\n\nhttps://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/add-a-custom-script-to-windows-setup?view=windows-11","upvote_count":"13","poster":"Timock","comment_id":"474300"},{"poster":"Adebowale","timestamp":"1629225000.0","comment_id":"426478","content":"Thank you for the confirmation","upvote_count":"4"},{"upvote_count":"4","timestamp":"1625385660.0","comments":[{"timestamp":"1676778300.0","content":"A is correct","poster":"jackdryan","comment_id":"813709","upvote_count":"1"}],"comment_id":"398125","content":"A is correct","poster":"ppp131176"}],"choices":{"D":"Place the scripts in a new virtual hard disk (VHD).","C":"Configure a Group Policy Object (GPO) to run the scripts as startup scripts.","B":"Configure a Group Policy Object (GPO) to run the scripts as logon scripts.","A":"Configure a SetupComplete.cmd batch file in the %windir%\\setup\\scripts directory."},"question_id":14,"answer":"A","unix_timestamp":1625385660,"timestamp":"2021-07-04 10:01:00","answer_ET":"A","exam_id":44,"question_images":[],"question_text":"Your company has an Azure Active Directory (Azure AD) tenant that is configured for hybrid coexistence with the on-premises Active Directory domain.\nThe on-premise virtual environment consists of virtual machines (VMs) running on Windows Server 2012 R2 Hyper-V host servers.\nYou have created some PowerShell scripts to automate the configuration of newly created VMs. You plan to create several new VMs.\nYou need a solution that ensures the scripts are run on the new VMs.\nWhich of the following is the best solution?","topic":"1","answer_images":[],"answers_community":["A (53%)","C (47%)"]},{"id":"BUjts5HxoutN9jW8YOcp","answer":"B","isMC":true,"answer_description":"","answers_community":["B (89%)","11%"],"answer_ET":"B","question_id":15,"unix_timestamp":1632768240,"question_text":"Your company has an Azure Active Directory (Azure AD) tenant that is configured for hybrid coexistence with the on-premises Active Directory domain.\nYou plan to deploy several new virtual machines (VMs) in Azure. The VMs will have the same operating system and custom software requirements.\nYou configure a reference VM in the on-premise virtual environment. You then generalize the VM to create an image.\nYou need to upload the image to Azure to ensure that it is available for selection when you create the new Azure VMs.\nWhich PowerShell cmdlets should you use?","choices":{"A":"Add-AzVM","C":"Add-AzImage","D":"Add-AzImageDataDisk","B":"Add-AzVhd"},"answer_images":[],"discussion":[{"comment_id":"667013","timestamp":"1726803900.0","content":"Selected Answer: B\n\"New-AzVM\" is for creating new VMs, not uploading images. \n\n\"Add-AzImage\" does not exist. the correct command is \"New-AzImage\".\n\n\"Add-AzImageDataDisk\" Adds a data disk to an image object.\n\n\"Add-AzVhd\" seems to be the correct option, sing the it \"Uploads a virtual hard disk from an on-premises machine to Azure (managed disk or blob).\" (https://docs.microsoft.com/en-us/powershell/module/az.compute/add-azvhd?view=azps-8.3.0)","comments":[{"poster":"margotfrpp","comment_id":"863048","timestamp":"1680792300.0","comments":[{"poster":"Dankho","content":"how does a person from 1 year, 6 months ago reply to someone from 4 weeks, 1 day ago. Riddle me that...","timestamp":"1729376940.0","comment_id":"1300193","comments":[{"poster":"mirajkumar","timestamp":"1735931280.0","comment_id":"1336122","content":"Time Travel exits","upvote_count":"3"}],"upvote_count":"25"},{"poster":"jersonmartinez","timestamp":"1682361480.0","comment_id":"879640","content":"It command does not exists. It only exist `New-AzImage`. That's different.","upvote_count":"13"}],"content":"this command exist \" Add-AzImage\" \nhttps://learn.microsoft.com/en-us/powershell/module/az.compute/new-azimage?view=azps-9.6.0","upvote_count":"2"}],"poster":"NaoVaz","upvote_count":"79"},{"content":"Correct answer.\n\nExample for how you do this:\n\nAdd-AzVhd -ResourceGroupName $resourceGroup -Destination $urlOfUploadedImageVhd `\n -LocalFilePath $localPath","comment_id":"453226","comments":[{"poster":"jackdryan","content":"B is correct.","timestamp":"1676778600.0","upvote_count":"3","comment_id":"813717"}],"upvote_count":"52","timestamp":"1632819120.0","poster":"Chi1987"},{"upvote_count":"1","poster":"lumax007","content":"Selected Answer: C\nAdd-AzImage add/upload image to resource manager\nhttps://learn.microsoft.com/en-us/powershell/module/az.compute/new-azimage?view=azps-13.3.0","timestamp":"1742441100.0","comment_id":"1400897"},{"comment_id":"1361053","poster":"0a92195","content":"Selected Answer: C\nC. Add-AzImage\nExplanation:\nSince you generalized the VM to create an image, you need to upload it to Azure as a managed image.\nAdd-AzImage is the PowerShell cmdlet used to add a VM image to Azure, making it available for creating new VMs.\nWhy Not the Other Options?\nA. Add-AzVM → This is used to create a VM, not to upload an image.\nB. Add-AzVhd → Used for uploading a VHD file, but does not create an image from it.\nD. Add-AzImageDataDisk → Used to add a data disk, not a VM image.","upvote_count":"2","timestamp":"1740408120.0"},{"poster":"ea4b48e","comment_id":"1355084","upvote_count":"1","timestamp":"1739298300.0","content":"Selected Answer: C\nBy using Add-AzImage, you ensure that the image is available for selection when creating new Azure VMs."},{"timestamp":"1738931760.0","content":"Selected Answer: C\nTo upload a generalized VM image and make it available for deployment in Azure, we need to use Add-AzImage.\nThis cmdlet allows to register a VM image in Azure Compute Gallery (formerly Shared Image Gallery) or in the subscription's image repository.\nAfter we generalize the reference VM using Sysprep (Windows), we need to follow these steps:\n\n1- Capture the image:\n * For Azure VMs, use Save-AzVmImage.\n * For on-premises VMs, create a VHD and upload it.\n\n2- Upload the VHD to an Azure Storage account.\n\n3- Create an image using Add-AzImage:\n$imageConfig = New-AzImageConfig -Location \"EastUS\" -SourceUri \"https://yourstorageaccount.blob.core.windows.net/vhds/your-image.vhd\" -OsType Windows\nAdd-AzImage -Image $imageConfig -ResourceGroupName \"YourResourceGroup\"\n\nThis ensures that the image is available for VM creation in Azure.","upvote_count":"1","comment_id":"1352974","poster":"SolimanAlali"},{"poster":"Marie12345678900","upvote_count":"1","timestamp":"1738560180.0","content":"Selected Answer: B\nIt is Add-AzVhd. This is one of the question in the Microsoft Learn mock test","comment_id":"1350753"},{"poster":"SHAHIN_STA","content":"Selected Answer: B\nB is correct","comment_id":"1324143","timestamp":"1733762520.0","upvote_count":"1"},{"upvote_count":"3","poster":"Thomas_M","content":"Selected Answer: B\nTo upload a generalized VM image to Azure and make it available for creating new VMs, you would use a combination of the following PowerShell cmdlets:\n\n Add-AzVhd: This cmdlet uploads the generalized VHD file (your image) to an Azure storage account.\n Add-AzImage: This cmdlet creates a managed image from the uploaded VHD file, making it available for creating new Azure VMs.","timestamp":"1733251320.0","comment_id":"1321500"},{"upvote_count":"1","comment_id":"1321310","poster":"Mark74","timestamp":"1733217780.0","content":"Selected Answer: B\nfor me B is correct"},{"poster":"[Removed]","upvote_count":"2","comment_id":"1276070","content":"Selected Answer: B\nB is corerct","timestamp":"1725195480.0"},{"timestamp":"1722305280.0","content":"Selected Answer: B\nBased on the reference the best option is B:\nBefore you upload a Windows virtual machine (VM) from on-premises to Azure, you must prepare the virtual hard disk (VHD or VHDX).\nreference\nhttps://learn.microsoft.com/en-us/azure/virtual-machines/windows/prepare-for-upload-vhd-image","poster":"nachito","comment_id":"1257780","upvote_count":"1"},{"content":"Selected Answer: B\nUploads a virtual hard disk from an on-premises machine to Azure (managed disk or blob).\n\nhttps://learn.microsoft.com/en-us/powershell/module/az.compute/add-azvhd?view=azps-11.5.0","timestamp":"1712222880.0","poster":"MCLC2021","comment_id":"1189213","upvote_count":"1"},{"poster":"tashakori","upvote_count":"1","comment_id":"1178380","content":"B is correct","timestamp":"1710945540.0"},{"upvote_count":"1","comment_id":"1159589","content":"B is correct","timestamp":"1708942740.0","poster":"Amir1909"},{"upvote_count":"2","timestamp":"1705311000.0","content":"Selected Answer: C\nThe correct PowerShell cmdlet to use for uploading the generalized VM image to Azure is C. Add-AzImage. This cmdlet is used to create a new image in Azure. After generalizing the VM to create an image, you can use the Add-AzImage cmdlet to upload the image to Azure, ensuring that it is available for selection when creating new Azure VMs","poster":"koenigParas2324","comment_id":"1123223"},{"content":"Selected Answer: B\n\"Add-AzImage\" can create a new image from managedisk only( -ManagedDiskId parameter is required). That means your VHD image should be uploaded first. Add-AzVHD is used to upload image","comment_id":"1115801","poster":"RVivek","upvote_count":"1","timestamp":"1704629400.0"},{"comments":[{"poster":"MatAlves","timestamp":"1704181380.0","comment_id":"1111683","upvote_count":"2","content":"There is not such a thing as a \"add-azimage\". Please, just google it."}],"comment_id":"1110308","timestamp":"1704004260.0","upvote_count":"1","poster":"VirenderPannu","content":"Add-AzImage:\nPurpose: This cmdlet is used to create a managed image from an existing virtual machine (VM) or from a generalized VM image.\nUsage: You typically use this cmdlet after capturing a VM image, and it creates a generalized or specialized image that you can use to deploy new VMs.\nExample:\nCopy\nAdd-AzImage -ImageName \"MyImage\" -ResourceGroupName \"MyResourceGroup\" -SourceVirtualMachineId $vm.Id\n\nAdd-AzVhd:\nPurpose: This cmdlet is used to copy a virtual hard disk (VHD) file to an Azure Storage Account, making it available for use in creating or configuring VMs.\nUsage: You might use this cmdlet when you have a VHD file that you want to use to create a new VM, and you need to copy it to Azure storage before attaching it to a VM.\nExample:\nCopy\nAdd-AzVhd -LocalFilePath \"C:\\Path\\To\\Your\\VHD.vhd\" -ResourceGroupName \"MyResourceGroup\" -Destination \"https://mystorageaccount.blob.core.windows.net/vhds/MyVHD.vhd\""},{"content":"Add-AzVhd\nUploads a virtual hard disk from an on-premises machine to Azure (managed disk or blob).\n\nhttps://learn.microsoft.com/en-us/powershell/module/az.compute/add-azvhd?view=azps-10.4.1&viewFallbackFrom=azps-7.3.0","poster":"Yuraq","comment_id":"1041126","upvote_count":"2","timestamp":"1697060400.0"},{"content":"https://learn.microsoft.com/en-us/azure/devtest-labs/devtest-lab-upload-vhd-using-powershell\n\nCheck upload a VHD file process:\nTo upload a VHD file by using PowerShell:\n\nIn a text editor, paste the generated PowerShell script you copied from the Azure portal.\n\nModify the -LocalFilePath parameter of the Add-AZVHD cmdlet to point to the location of the VHD file you want to upload.\n\nAt a PowerShell command prompt, run the Add-AZVHD cmdlet with the modified -LocalFilePath parameter.\n\nThe process of uploading a VHD file might be lengthy depending on the size of the VHD file and your connection speed.\n\nThe correct answer is Add-AzVHD","poster":"Manny123456","timestamp":"1696451400.0","comment_id":"1025142","upvote_count":"2"},{"poster":"amsioso","comment_id":"1023143","timestamp":"1696255500.0","upvote_count":"2","content":"Vote for B\nAdd-AzVhd\nhttps://learn.microsoft.com/en-us/previous-versions/azure/virtual-machines/windows/sa-upload-generalized#start-the-upload"},{"poster":"Damiski","comment_id":"1012780","timestamp":"1695271260.0","upvote_count":"5","content":"To upload a generalized virtual machine image to Azure for use in creating new Azure VMs, you should use the following PowerShell cmdlet:\n\n**C. Add-AzImage**\n\nHere's a brief explanation of each option:\n\nA. `Add-AzVM` is used to create a new Azure virtual machine, not to upload images.\n\nB. `Add-AzVhd` is used to upload a virtual hard disk (VHD) to Azure. It's not used for creating generalized VM images.\n\nC. `Add-AzImage` is specifically designed for uploading generalized VM images to Azure. This is the cmdlet you should use for your scenario.\n\nD. `Add-AzImageDataDisk` is used to add a data disk to an existing Azure virtual machine, not for uploading generalized images.\n\nSo, in your case, you should use `Add-AzImage` to upload your generalized VM image to Azure so that it can be used to create new Azure VMs."},{"timestamp":"1693388760.0","comment_id":"993914","poster":"Techbiz","upvote_count":"1","content":"Option B is correct"},{"poster":"desertsmissdrain","comment_id":"991958","timestamp":"1693214640.0","upvote_count":"1","content":"Image = OS VHD + optionally Data VHD\nhttps://learn.microsoft.com/en-us/powershell/module/az.compute/add-azvhd?view=azps-10.2.0 - \"The Add-AzVhd cmdlet uploads an on-premise virtual hard disk to a managed disk or a blob storage account\""},{"poster":"desertsmissdrain","comment_id":"991942","upvote_count":"1","content":"https://learn.microsoft.com/en-us/powershell/module/az.compute/new-azimage?view=azps-10.2.0\n$imageConfig = New-AzImageConfig -Location 'West US';\n$osDiskVhdUri = \"https://contoso.blob.core.windows.net/test/os.vhd\"\n$dataDiskVhdUri1 = \"https://contoso.blob.core.windows.net/test/data1.vhd\"\n$dataDiskVhdUri2 = \"https://contoso.blob.core.windows.net/test/data2.vhd\"\nSet-AzImageOsDisk -Image $imageConfig -OsType 'Windows' -OsState 'Generalized' -BlobUri $osDiskVhdUri;\nAdd-AzImageDataDisk -Image $imageConfig -Lun 1 -BlobUri $dataDiskVhdUri1;\nAdd-AzImageDataDisk -Image $imageConfig -Lun 2 -BlobUri $dataDiskVhdUri2;\nNew-AzImage -Image $imageConfig -ImageName 'ImageName01' -ResourceGroupName 'ResourceGroup01';","timestamp":"1693213140.0"},{"upvote_count":"1","timestamp":"1689490980.0","poster":"SeregonAzDev","content":"The question says: \"You need to upload the image to Azure to ensure that it is available for selection when you create the new Azure VMs\"\n\nBased on this, I think the answer is C","comment_id":"953118"},{"content":"Selected Answer: B\nB","poster":"[Removed]","timestamp":"1687968780.0","upvote_count":"1","comment_id":"936879"},{"content":"Option B is correct","timestamp":"1687444740.0","upvote_count":"2","comment_id":"930684","poster":"CHRIS12722222"},{"timestamp":"1685021100.0","poster":"Andre369","upvote_count":"2","comments":[{"timestamp":"1686346200.0","comment_id":"919644","content":"Is this a joke account?","upvote_count":"2","poster":"cheezemang"}],"comment_id":"906688","content":"Selected Answer: C\nC. Add-AzImage\n\nThe Add-AzImage cmdlet is used to create a new image in Azure from an existing generalized VM image. This cmdlet allows you to upload the image to Azure and make it available for selection when creating new VMs."},{"upvote_count":"2","poster":"Oniseialexandru","content":"Selected Answer: C\nC, just read carefully the question the intention is not to migrate is to create a custom image that will be available in the store when creating a new vm.","comment_id":"901210","timestamp":"1684413840.0"},{"timestamp":"1681391940.0","content":"Selected Answer: C\nTo upload a generalized virtual machine (VM) image to Azure for use in creating new Azure VMs, the PowerShell cmdlets that should be used are:\n\n1. Sysprep the reference VM in the on-premises virtual environment to generalize the image.\n2. Use the Export-AzVM cmdlet to export the generalized VM to a .zip file.\n3. Use the New-AzStorageAccount cmdlet to create an Azure storage account.\n4. Use the Set-AzStorageBlobContent cmdlet to upload the .zip file to the Azure storage account.\n5. Use the Add-AzImage cmdlet to create a new custom image from the uploaded .zip file.\n\nTherefore, the correct answer is C. Add-AzImage.\n\nNote that Add-AzVM, Add-AzVhd, and Add-AzImageDataDisk are not the appropriate cmdlets for uploading a generalized VM image to Azure. Add-AzVM is used for creating new virtual machines in Azure, while Add-AzVhd and Add-AzImageDataDisk are used for attaching virtual hard disks and data disks to virtual machines.","poster":"BowSec","upvote_count":"3","comment_id":"869437","comments":[{"comment_id":"994097","upvote_count":"2","poster":"SivaPannier","timestamp":"1693399380.0","content":"There is no such cmdlet 'Add-AzImage' as of now Powershell 10.2.0 version. May be this is an outdated question with wrong options, the ideal command should be using 'New-AzImage'. Please see the reference below,\nhttps://learn.microsoft.com/en-us/powershell/module/az.compute/new-azimage?view=azps-10.2.0.\n\nHope they revise the options in the latest exams. Otherwise the next closest option among the four would be option B."}]},{"poster":"Madbo","upvote_count":"1","comment_id":"868454","content":"The correct cmdlet to use in this scenario is B. Add-AzVhd.\n\nTo upload the generalized VM image to Azure and make it available for selection when creating new VMs, you need to upload the VHD file of the generalized VM to Azure storage. The Add-AzVhd cmdlet is used to upload a VHD file to Azure storage.\n\nOnce the VHD file is uploaded to Azure storage, you can use the VHD to create a managed disk, and then use the managed disk to create a new VM.\n\nTherefore, the correct PowerShell cmdlet to use in this scenario is B. Add-AzVhd.","timestamp":"1681309440.0"},{"comment_id":"859136","poster":"lokii9980","content":"The correct PowerShell cmdlet to upload the image to Azure is C. Add-AzImage.\n\nExplanation:\n\nTo upload the generalized VM image to Azure and make it available for selection when creating new VMs, you need to use the Add-AzImage cmdlet. This cmdlet creates a new Azure image from a generalized VM, managed disk, or VHD file.\n\nThe Add-AzVM cmdlet is used to create a new Azure virtual machine.\n\nThe Add-AzVhd cmdlet is used to upload a virtual hard disk (VHD) file to Azure storage.\n\nThe Add-AzImageDataDisk cmdlet is used to add a new data disk to an existing Azure virtual machine.\n\nTherefore, the correct PowerShell cmdlet to use in this scenario is C. Add-AzImage.","timestamp":"1680455400.0","comments":[{"upvote_count":"1","poster":"Just_Nick","content":"Wrong! The Get-AzImage cmdlet gets the properties of an image. Check this link https://learn.microsoft.com/en-us/powershell/module/az.compute/get-azimage?view=azps-9.6.0","comment_id":"866722","timestamp":"1681173300.0"},{"timestamp":"1693399440.0","upvote_count":"1","comment_id":"994099","poster":"SivaPannier","content":"There is no such cmdlet 'Add-AzImage' as of now Powershell 10.2.0 version. May be this is an outdated question with wrong options, the ideal command should be using 'New-AzImage'. Please see the reference below,\nhttps://learn.microsoft.com/en-us/powershell/module/az.compute/new-azimage?view=azps-10.2.0.\n\nHope they revise the options in the latest exams. Otherwise the next closest option among the four would be option B."}],"upvote_count":"3"},{"content":"Selected Answer: B\nTo upload a generalized VHD image to Azure, you need to use the Add-AzVhd cmdlet to upload the VHD file to an Azure storage account. Once the VHD file is uploaded, you can create a managed image in Azure from the VHD file using the Azure portal, PowerShell, or Azure CLI.","comment_id":"839666","poster":"maqibali","timestamp":"1678868160.0","upvote_count":"1"},{"upvote_count":"2","timestamp":"1666538700.0","content":"Answer is B\nhttps://learn.microsoft.com/en-us/powershell/module/az.compute/add-azvhd?view=azps-9.0.1","comment_id":"702282","poster":"smanimar"},{"timestamp":"1661827620.0","upvote_count":"1","poster":"EmnCours","comment_id":"653766","content":"Selected Answer: B\nCorrect Answer: B 🗳️\nThe Add-AzVhd cmdlet uploads on-premises virtual hard disks, in .vhd file format, to a blob storage account as fixed virtual hard disks."},{"upvote_count":"5","poster":"aut0pil0t","comment_id":"591502","content":"Selected Answer: B\nThis focuses on the \"upload\" where we actually upload a VHD. What's referred as \"image\" here is the generalised disk, not the Azure image. So, to upload a disk to create an Azure image later, answer is B. https://docs.microsoft.com/en-us/azure/virtual-machines/windows/disks-upload-vhd-to-managed-disk-powershell","timestamp":"1650878760.0"},{"timestamp":"1648507680.0","content":"Answer B: \n1.Prepare vhd \n2.upload vhd \n3.create image by using vhd\n4.create vm by using image","comment_id":"577139","poster":"lemoniazure","upvote_count":"3"},{"upvote_count":"1","content":"Selected Answer: B\nAns B is correct. Uploads a virtual hard disk from an on-premises machine to Azure (managed disk or blob).","timestamp":"1647893820.0","comment_id":"572489","poster":"L_J_R"},{"comment_id":"564863","content":"Even though , everyone mentioning B, The below URL seems to be relevant to C becoz, question is to upload image which vm is already managed.\nhttps://docs.microsoft.com/en-us/azure/virtual-machines/windows/capture-image-resource","upvote_count":"1","poster":"karmaah","comments":[{"upvote_count":"2","content":"Correction. Assuming Image is already created as per the question, Option B is the only option to upload image files which will be having .vhd ( Image Files ).\neg : Add-AzVhd -Destination \"http://contosoaccount.blob.core.windows.net/vhdstore/win7baseimage.vhd\" -LocalFilePath \"C:\\vhd\\Win7Image.vhd\" -Overwrite","timestamp":"1646926260.0","poster":"karmaah","comment_id":"564868"},{"content":"I also was thinking like this, however there is actually no \"Add-AzImage\" cmdlet existing...","comment_id":"578213","timestamp":"1648640340.0","upvote_count":"2","poster":"magichappens"}],"timestamp":"1646925960.0"},{"comment_id":"540376","timestamp":"1643973540.0","upvote_count":"1","poster":"pappkarcsiii","content":"Selected Answer: B\nCorrect answer.\n\nExample for how you do this:\nAdd-AzVhd -ResourceGroupName $resourceGroup -Destination $urlOfUploadedImageVhd ` -LocalFilePath $localPath"},{"timestamp":"1643365860.0","upvote_count":"1","content":"Selected Answer: B\nB is correct","poster":"fahadiqbal","comment_id":"534612"},{"upvote_count":"2","poster":"elishlomo","comment_id":"514484","timestamp":"1641035460.0","content":"Selected Answer: B\nB. The Add-AzVhd cmdlet uploads an on-premise virtual hard disk to a managed disk or a blob storage account.\n\nhttps://docs.microsoft.com/en-us/powershell/module/az.compute/add-azvhd?view=azps-7.0.0"},{"timestamp":"1640369640.0","content":"Selected Answer: B\nMicrosoft doesn't recommend to use 'add-advhd' anymore, use azcopy:\nhttps://docs.microsoft.com/en-us/azure/virtual-machines/windows/disks-upload-vhd-to-managed-disk-powershell","upvote_count":"3","comments":[{"content":"From your own link \"Generally, you should use Add-AzVHD. However, if you need to upload a VHD that is larger than 50 GiB, consider uploading the VHD manually with AzCopy\"","poster":"Empel","upvote_count":"2","comment_id":"541956","timestamp":"1644173040.0"}],"comment_id":"508716","poster":"Snownoodles"},{"upvote_count":"5","comment_id":"503132","timestamp":"1639681080.0","content":"Selected Answer: B\nVHD stands for 'Virtual Hard Disk' - Add-AzVhd","poster":"ant_man"},{"content":"B. add-azvhd","upvote_count":"1","timestamp":"1639424640.0","poster":"hanahjane13","comment_id":"500856"},{"poster":"arkadius","comment_id":"499452","content":"Selected Answer: B\n$vhdSizeBytes = (Get-Item \"<fullFilePathHere>\").length\n.\n$diskconfig = New-AzDiskConfig -SkuName 'Standard_LRS' -OsType 'Windows' -UploadSizeInBytes $vhdSizeBytes -Location '<yourregion>' -CreateOption 'Upload'\n.\nNew-AzDisk -ResourceGroupName '<yourresourcegroupname>' -DiskName '<yourdiskname>' -Disk $diskconfig\n.\nhttps://docs.microsoft.com/en-us/azure/virtual-machines/windows/disks-upload-vhd-to-managed-disk-powershell","upvote_count":"2","timestamp":"1639233240.0"},{"timestamp":"1637242500.0","poster":"J511","content":"Answer is B.","comment_id":"480739","upvote_count":"1"},{"content":"B is correct answer.\nThis article walks you through using PowerShell to upload a VHD of a generalized VM to Azure, create an image from the VHD, and create a new VM from that image. You can upload a VHD exported from an on-premises virtualization tool or from another cloud. Using Managed Disks for the new VM simplifies the VM management and provides better availability when the VM is placed in an availability set.\nhttps://docs.microsoft.com/en-us/azure/virtual-machines/windows/upload-generalized-managed","timestamp":"1634753520.0","upvote_count":"4","poster":"bcristella","comment_id":"465330"},{"timestamp":"1634564580.0","comment_id":"464154","poster":"PRM","upvote_count":"1","content":"why isn't the letter C?","comments":[{"comment_id":"467413","timestamp":"1635159480.0","upvote_count":"4","poster":"754a","content":"Because add-azimage isn't a command, new-azimage is to create an image and isn't an option, but the question asks about \"upload\" image. Answer is B: https://docs.microsoft.com/en-us/powershell/module/az.compute/add-azvhd?view=azps-6.5.0"}]},{"comment_id":"460912","upvote_count":"2","timestamp":"1634017860.0","content":"Answer: B\nAdd-AzVhd -ResourceGroupName $resourceGroup -Destination $urlOfUploadedImageVhd `\n -LocalFilePath $localPath","poster":"JohnPhan"},{"timestamp":"1633646700.0","content":"example command :\nAdd-AzVhd -Destination \"http://contosoaccount.blob.core.windows.net/vhdstore/win7baseimage.vhd?st=2013-01 \n-09T22%3A15%3A49Z&se=2013-01-09T23%3A10%3A49Z&sr=b&sp=w&sig=13T9Ow%2FRJAMmhfO%2FaP3HhKKJ6AY093SmveO SIV4%2FR7w%3D\" -LocalFilePath \"C:\\vhd\\win7baseimage.vhd\"","poster":"y_dev","upvote_count":"2","comment_id":"458945"},{"timestamp":"1632983880.0","poster":"sk1803","content":"Answer: B\n\nI would like to answer New-AzImage, but that is not an option.\n\nIn order to create the image, I do have to have my VHD uploaded to azure though. I would use Add-AzVhd for that.","comment_id":"454761","upvote_count":"4"},{"comment_id":"453022","content":"B is the correct answer","poster":"Rocky007","upvote_count":"1","timestamp":"1632803700.0"},{"timestamp":"1632779640.0","content":"Answer B is correct.","comment_id":"452783","poster":"serenity404","upvote_count":"6"},{"upvote_count":"1","timestamp":"1632768240.0","comment_id":"452679","poster":"ech","content":"Answer is correct."}],"topic":"1","timestamp":"2021-09-27 20:44:00","url":"https://www.examtopics.com/discussions/microsoft/view/62878-exam-az-104-topic-1-question-22-discussion/","question_images":[],"exam_id":44}],"exam":{"name":"AZ-104","isImplemented":true,"provider":"Microsoft","isMCOnly":false,"numberOfQuestions":606,"lastUpdated":"12 Apr 2025","id":44,"isBeta":false},"currentPage":3},"__N_SSP":true}