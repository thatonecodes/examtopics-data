{"pageProps":{"questions":[{"id":"WvANLdbObH6EpZoyq7Pc","answer_images":[],"answer":"A","question_images":[],"unix_timestamp":1573648140,"isMC":true,"answer_ET":"A","topic":"1","choices":{"B":"Bake the AWS CodeDeploy agent into the base AMI. When the Auto Scaling group scales out, use CodeDeploy to install the Puppet agent, and execute a script to register the newly deployed instances to the Puppet master. When the Auto Scaling group scales in, use the CodeDeploy ApplicationStop lifecycle hook to run a script to de-register the instance from the Puppet master.","A":"At instance launch time, use EC2 user data to deploy the AWS CodeDeploy agent. Use CodeDeploy to install the Puppet agent. When the Auto Scaling group scales out, run a script to register the newly deployed instances to the Puppet master. When the Auto Scaling group scales in, use the EC2 Auto Scaling EC2_INSTANCE_TERMINATING lifecycle hook to trigger de-registration from the Puppet master.","D":"Bake the AWS Systems Manager agent into the base AMI. When the Auto Scaling group scales out, use the AWS Systems Manager to install the Puppet agent, and run a script to register the newly deployed instances to the Puppet master. When the Auto Scaling group scales in, use the Systems Manager instance stop lifecycle hook to run a script to de-register the instance from the Puppet master.","C":"At instance launch time, use EC2 user data to deploy the AWS CodeDeploy agent. When the Auto Scaling group scales out, use CodeDeploy to install the Puppet agent, and run a script to register the newly deployed instances to the Puppet master. When the Auto Scaling group scales in, use the EC2 user data instance stop script to run a script to de-register the instance from the Puppet master."},"timestamp":"2019-11-13 13:29:00","question_id":156,"url":"https://www.examtopics.com/discussions/amazon/view/8075-exam-aws-devops-engineer-professional-topic-1-question-51/","answers_community":["A (53%)","D (47%)"],"exam_id":35,"question_text":"An online company uses Amazon EC2 Auto Scaling extensively to provide an excellent customer experience while minimizing the number of running EC2 instances. The company's self-hosted Puppet environment in the application layer manages the configuration of the instances. The IT manager wants the lowest licensing costs and wants to ensure that whenever the EC2 Auto Scaling group scales down, removed EC2 instances are deregistered from the Puppet master as soon as possible.\nHow can the requirement be met?","answer_description":"","discussion":[{"comment_id":"74875","poster":"pleasespammelater","upvote_count":"53","content":"This is a tough one. The key to understanding it is that CodeDeploy and ASG's can work together! There's a great blog post about this: https://aws.amazon.com/blogs/devops/under-the-hood-aws-codedeploy-and-auto-scaling-integration/\n\nHere is my analysis:\nA: This is the correct approach and matches the blog post writeup\nB: The CodeDeploy ApplicationStop lifecycle hook relates to upgrading an instance in place. The EC2 lifecycle hook is needed here.\nC: There is no such thing as a \"user data instance stop script\"\nD: SSM does not have lifecycle hooks","timestamp":"1634838600.0"},{"timestamp":"1632897780.0","poster":"amzngenius","content":"D：\nhttps://aws.amazon.com/cn/blogs/mt/configure-amazon-ec2-instances-in-an-auto-scaling-group-using-state-manager/","comment_id":"30524","upvote_count":"12"},{"upvote_count":"1","timestamp":"1689923580.0","comment_id":"958152","poster":"m4r0ck","content":"Selected Answer: A\nA is the correct answer. ref. https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_LifecycleHookSpecification.html"},{"comment_id":"892513","upvote_count":"1","poster":"spikeme","timestamp":"1683580440.0","content":"Agree A"},{"poster":"Bulti","timestamp":"1673911920.0","comment_id":"778372","content":"Answer is A. D is incorrect as there is no such lifecycle hooks on System Manager. I am just not sure how we could install Puppet using CodeDeploy. Looks like to me it is similar to installing CloudWatch Agent with CodeDeploy using an S3 deployment.","upvote_count":"1"},{"content":"Yes, A is correct","poster":"saeidp","comment_id":"763357","timestamp":"1672612380.0","upvote_count":"1"},{"timestamp":"1671720480.0","comment_id":"753397","upvote_count":"1","content":"Selected Answer: A\nAgree A","poster":"luk3k0"},{"timestamp":"1668353220.0","content":"Selected Answer: D\nWhy run codedeploy twice?","comment_id":"717398","upvote_count":"2","poster":"flavins"},{"upvote_count":"2","poster":"Goozian","comment_id":"674831","timestamp":"1663739880.0","content":"Selected Answer: A\nit's ASG, and all management is being done through ASG; Other services have no idea about ASG operation ( Scale in/out, ..) by default. The only reasonable response will be A"},{"comment_id":"652968","content":"Selected Answer: A\nA seems to be the right solution. Highest voted D seems suspect - there is no such thing like \"Systems Manager instance stop lifecycle hook\"","upvote_count":"5","timestamp":"1661695380.0","poster":"vagobago"},{"upvote_count":"6","poster":"hubekpeter","comment_id":"647309","timestamp":"1660585440.0","content":"Selected Answer: D\nThe most easy and straight forward solution. https://aws.amazon.com/blogs/infrastructure-and-automation/run-code-before-terminating-an-ec2-auto-scaling-instance/"},{"timestamp":"1636207740.0","comment_id":"325197","upvote_count":"4","content":"I'll go with A","poster":"WhyIronMan"},{"poster":"aws_Tamilan","timestamp":"1636054680.0","comment_id":"322046","upvote_count":"1","content":"Correct Answer: A"},{"upvote_count":"1","comment_id":"240106","content":"A as per below link:\nhttps://docs.aws.amazon.com/autoscaling/ec2/userguide/lifecycle-hooks.html","poster":"firbhat","timestamp":"1635463200.0"},{"timestamp":"1635436620.0","poster":"svjl","content":"D: explained here\nhttps://aws.amazon.com/blogs/infrastructure-and-automation/run-code-before-terminating-an-ec2-auto-scaling-instance/","upvote_count":"3","comment_id":"235240"},{"upvote_count":"3","poster":"jackdryan","timestamp":"1635396360.0","comment_id":"223257","content":"I'll go with A"},{"content":"Thanks everybody with A. Seem there is no SSM Lifecycle Hook so D is incorrect","comment_id":"206863","timestamp":"1635228660.0","upvote_count":"2","poster":"ChauPhan"},{"content":"Agree with option A","upvote_count":"1","comment_id":"119569","timestamp":"1635141120.0","poster":"tolik505"},{"timestamp":"1634764860.0","upvote_count":"3","poster":"kawara","content":"Go with A. D hook is incorrect","comment_id":"71960"},{"comment_id":"62846","timestamp":"1634447700.0","upvote_count":"1","poster":"ppshein","content":"I will go A"},{"comment_id":"62199","poster":"yassu","upvote_count":"1","content":"A is correct","timestamp":"1634385360.0"},{"timestamp":"1634355600.0","poster":"Ebi","upvote_count":"5","content":"D is not correct, there is no \"Systems Manager instance stop lifecycle hook\".\nAnswer is A.","comment_id":"61592"},{"content":"It is D","comment_id":"56511","poster":"xaocho","timestamp":"1634020800.0","upvote_count":"1"},{"timestamp":"1633718760.0","content":"i will go with A. codedeploy agent is a software package that, when installed and configured on an instance, makes it possible for that instance to be used in CodeDeploy deployments.","upvote_count":"1","poster":"michelleY","comment_id":"51736"},{"content":"I will go with D","comment_id":"34144","upvote_count":"2","comments":[{"comment_id":"35555","content":"is there anything called Systems Manager instance stop lifecycle hook ? or the ASG lifeyccle hook be used to de-register ? Hence tending towards option A","timestamp":"1633445460.0","poster":"network_zeal","comments":[{"content":"Agree A is the right answer","poster":"un","upvote_count":"2","timestamp":"1634997840.0","comment_id":"94490"},{"timestamp":"1635225000.0","comment_id":"155746","upvote_count":"2","poster":"Smart","content":"Agreed. Even SSM uses Auto Scaling's Lifecycle hooks. \n\n https://aws.amazon.com/blogs/infrastructure-and-automation/run-code-before-terminating-an-ec2-auto-scaling-instance/"}],"upvote_count":"8"}],"timestamp":"1633132500.0","poster":"un"},{"content":"I go with D, how can codedeploy install a puppet agent?","comments":[{"comment_id":"63433","poster":"ppshein","upvote_count":"2","timestamp":"1634709060.0","content":"a puppet agent can be installed in CodeDeploy lifecycle event especially in beforeInstall."},{"poster":"Smart","content":"Through AppSpec.yml where you can define hooks for different lifecycle events","upvote_count":"2","comment_id":"155743","timestamp":"1635210420.0"}],"upvote_count":"5","comment_id":"28416","timestamp":"1632611820.0","poster":"jiedee"},{"upvote_count":"5","comments":[{"comment_id":"24177","timestamp":"1632481680.0","upvote_count":"3","poster":"BeastX","content":"yes, this is a tricky one, pre-baked AMI and EC2 lifecycle hook is the best answer. But A is a valid solution."}],"timestamp":"1632459180.0","comment_id":"21207","content":"The most appropriate answer is A","poster":"marwan"}]},{"id":"mCs3cgaaDbtXuDF00sht","question_images":[],"exam_id":35,"answers_community":["D (75%)","C (25%)"],"unix_timestamp":1663740840,"discussion":[{"comment_id":"674843","poster":"Goozian","timestamp":"1663740840.0","upvote_count":"8","comments":[{"poster":"ceros399","comments":[{"upvote_count":"3","content":"I wrote nested stack in CDK. It does deploy the child stacks in order.\nD is the answer because the question is about the (SNS) notification of any changes","comment_id":"771803","poster":"devops7","timestamp":"1673384640.0"}],"upvote_count":"1","timestamp":"1671625440.0","content":"Nested Stack doesn't manage the order in which the templates are applied, for hat you use Stack Sets","comment_id":"752272"}],"content":"Selected Answer: D\nD seems a better choice among others \n\"in a specific order.\" => Nested Stack guarantee"},{"timestamp":"1677937920.0","upvote_count":"1","comment_id":"829007","poster":"okm1997_2","content":"Selected Answer: D\nNested stack for order and sns for notification"},{"poster":"DevOpsJagadGuru","upvote_count":"3","content":"Option C is the best choice to accomplish the company's goals.\n\nWith CloudFormation StackSets, the company can deploy the same set of CloudFormation templates to multiple accounts and regions at once. The StackSets can be used to maintain the ordering of the templates while allowing changes to be deployed more efficiently across multiple accounts and regions.\n\nIn addition, StackSets can use drift detection, which can detect differences between the expected and actual stack configuration in each account and region. If a drift is detected, it can trigger an update of the affected stack, which can then notify the data engineering team of any changes made to the templates.\n\nOption A may be used to deploy the templates in order but may not be efficient for deploying changes. Option B may work for triggering CloudFormation updates and SNS notifications but may not maintain the required order of deployment. Option D may work for notifications but may not handle the required ordering of deployment or efficiently deploy changes.","comment_id":"817415","timestamp":"1677035580.0"},{"poster":"Bulti","timestamp":"1673912100.0","comment_id":"778376","content":"D is the right answer","upvote_count":"2"},{"poster":"saeidp","content":"I go with D","upvote_count":"1","timestamp":"1672612800.0","comment_id":"763362"},{"upvote_count":"3","comment_id":"752283","timestamp":"1671626100.0","comments":[{"timestamp":"1672093620.0","poster":"apcloud","upvote_count":"6","content":"They aren’t looking for drift notifs, they want to notify the team about template changes","comment_id":"757891"}],"poster":"ceros399","content":"Selected Answer: C\nStack Sets will take care of the multi-region ordered deployment. and I don't see the need for nested stack"}],"timestamp":"2022-09-21 08:14:00","answer":"D","answer_images":[],"url":"https://www.examtopics.com/discussions/amazon/view/83032-exam-aws-devops-engineer-professional-topic-1-question-52/","isMC":true,"answer_description":"","answer_ET":"D","question_id":157,"choices":{"C":"Implement CloudFormation StackSets and use drift detection to trigger update alerts to the data engineering team.","A":"Create an AWS Lambda function to deploy the CloudFormation templates in the required order. Use stack policies to alert the data engineering team.","B":"Host the CloudFormation templates in Amazon S3. Use Amazon S3 events to directly trigger CloudFormation updates and Amazon SNS notifications.","D":"Leverage CloudFormation nested stacks and stack sets for deployments. Use Amazon SNS to notify the data engineering team."},"question_text":"A company uses a series of individual Amazon CloudFormation templates to deploy its multi-Region applications. These templates must be deployed in a specific order. The company is making more changes to the templates than previously expected and wants to deploy new templates more efficiently. Additionally, the data engineering team must be notified of all changes to the templates.\nWhat should the company do to accomplish these goals?","topic":"1"},{"id":"ZJfOwJy36IFeh14TaYaH","isMC":true,"question_id":158,"topic":"1","choices":{"C":"Create an Amazon CloudWatch alarm that invokes an AWS Lambda function when a failed AttachInstances Auto Scaling API call is made.","A":"Add a health check to the Auto Scaling group to invoke an AWS Lambda function whenever an instance status is impaired.","D":"Create a status check alarm on Amazon EC2 to send a notification to an Amazon SNS topic whenever a status check fail occurs.","B":"Configure the Auto Scaling group to send a notification to an Amazon SNS topic whenever a failed instance launch occurs."},"exam_id":35,"answers_community":["B (100%)"],"answer_description":"Reference:\nhttps://docs.aws.amazon.com/autoscaling/ec2/userguide/ec2-auto-scaling-sns-notifications.html#auto-scaling-sns-notifications","unix_timestamp":1597447500,"timestamp":"2020-08-15 01:25:00","answer":"B","question_text":"A company is running an application on Amazon EC2 instances in an Auto Scaling group. Recently, an issue occurred that prevented EC2 instances from launching successfully, and it took several hours for the Support team to discover the issue. The Support team wants to be notified by email whenever an EC2 instance does not start successfully.\nWhich action will accomplish this?","answer_images":[],"question_images":[],"url":"https://www.examtopics.com/discussions/amazon/view/28613-exam-aws-devops-engineer-professional-topic-1-question-53/","discussion":[{"comment_id":"158365","content":"B is correct\nhttps://docs.aws.amazon.com/autoscaling/ec2/userguide/ASGettingNotifications.html#auto-scaling-sns-notifications","poster":"Smart","upvote_count":"22","comments":[{"upvote_count":"2","poster":"RollingPotato","content":"For me also, B seems to be a suitable option. For D we need to manually create CW events, while we can use inbuilt ASG events feature","timestamp":"1633212420.0","comment_id":"180728"}],"timestamp":"1632108900.0"},{"comment_id":"224513","content":"I'll go with B","timestamp":"1635094860.0","upvote_count":"5","poster":"jackdryan"},{"poster":"d3717d5","content":"Selected Answer: B\nSo ASG can directly send notification to SNS. I thought we would need Event Bridge or something. B","upvote_count":"1","timestamp":"1738858920.0","comment_id":"1352514"},{"content":"Selected Answer: B\ngood way to automate notifications upon instance start","timestamp":"1705392060.0","upvote_count":"1","poster":"failexamonly","comment_id":"1123997"},{"poster":"Bulti","content":"B is the right answer. https://docs.aws.amazon.com/autoscaling/ec2/userguide/ec2-auto-scaling-sns-notifications.html#auto-scaling-sns-notifications","timestamp":"1673912520.0","upvote_count":"1","comment_id":"778381"},{"comment_id":"763367","upvote_count":"1","poster":"saeidp","timestamp":"1672613220.0","content":"I go with B"},{"upvote_count":"2","comment_id":"253208","timestamp":"1635403080.0","content":"B it is","poster":"gmandala"},{"comment_id":"209854","timestamp":"1634296920.0","content":"B is fine","upvote_count":"2","poster":"ChauPhan"},{"content":"B is correct. you can send SNS messages from the ASG console","upvote_count":"1","poster":"FrankSparrow","timestamp":"1633283940.0","comment_id":"184132"},{"timestamp":"1632598680.0","content":"C is the correct answer. EC2 cannot send notifications to SNS topics. We need to use cloudwatch events for this.\n\n{\n \"source\": [\n \"aws.autoscaling\"\n ],\n \"detail-type\": [\n \"EC2 Instance Launch Unsuccessful\"\n ]\n}","comments":[{"content":"Ignore","comment_id":"178880","timestamp":"1632891960.0","upvote_count":"1","poster":"nqobza"},{"timestamp":"1642022220.0","comment_id":"522469","content":"EC2 can't but Auto Scaling can. https://docs.aws.amazon.com/autoscaling/ec2/userguide/ASGettingNotifications.html#auto-scaling-sns-notifications","upvote_count":"1","poster":"RightAnswers"}],"upvote_count":"1","comment_id":"178877","poster":"nqobza"}],"answer_ET":"B"},{"id":"Mnb6uu3tU83FPmncrFDj","answer_ET":"A","timestamp":"2021-03-24 10:23:00","discussion":[{"upvote_count":"13","poster":"yyy","comment_id":"325562","timestamp":"1633513320.0","content":"Ans: A \nhttps://docs.aws.amazon.com/storagegateway/latest/APIReference/API_RefreshCache.html"},{"timestamp":"1635294420.0","content":"I'll go with A","poster":"WhyIronMan","comment_id":"326726","upvote_count":"6"},{"poster":"DaddyDee","comment_id":"973405","upvote_count":"1","content":"A is the answer: https://repost.aws/knowledge-center/storage-gateway-s3-changes-not-showing","timestamp":"1691273760.0"},{"content":"Selected Answer: A\nhttps://docs.aws.amazon.com/storagegateway/latest/APIReference/API_RefreshCache.html\n\" It only updates the cached inventory to reflect changes in the inventory of the objects in the S3 bucket. This operation is only supported in the S3 File Gateway types.\"","upvote_count":"2","comment_id":"810664","timestamp":"1676552400.0","poster":"Piccaso"},{"upvote_count":"1","poster":"Bulti","content":"A is the right answer.","comment_id":"778383","timestamp":"1673912580.0"},{"timestamp":"1632533760.0","poster":"Bmaster","content":"I will go with A","upvote_count":"5","comment_id":"318981"}],"url":"https://www.examtopics.com/discussions/amazon/view/48068-exam-aws-devops-engineer-professional-topic-1-question-54/","answers_community":["A (100%)"],"answer":"A","isMC":true,"topic":"1","exam_id":35,"answer_description":"","question_text":"A company uses AWS Storage Gateway in file gateway mode in front of an Amazon S3 bucket that is used by multiple resources. In the morning when business begins, users do not see the objects processed by a third party the previous evening. When a DevOps engineer looks directly at the S3 bucket, the data is there, but it is missing in Storage Gateway.\nWhich solution ensures that all the updated third-party files are available in the morning?","question_images":[],"answer_images":[],"question_id":159,"choices":{"D":"Use S3 same-Region replication to replicate any changes made directly in the S3 bucket to Storage Gateway.","C":"Modify Storage Gateway to run in volume gateway mode.","B":"Instruct the third party to put data into the S3 bucket using AWS Transfer for SFTP.","A":"Configure a nightly Amazon EventBridge (Amazon CloudWatch Events) event to trigger an AWS Lambda function to run the RefreshCache command for Storage Gateway."},"unix_timestamp":1616577780},{"id":"R8UIXCKpYrCji5onrQNK","question_id":160,"answer_ET":"B","timestamp":"2022-09-01 00:57:00","unix_timestamp":1661986620,"answer":"B","topic":"1","choices":{"B":"Amazon S3 needs proper permissions to publish an event notification to Amazon SNS.","D":"Amazon SNS is not a valid destination for some S3 event notifications, including object PUT.","A":"Only one event notification is allowed from the S3 console.","C":"Lambda has precedence over Amazon SNS in handling the event notification."},"answer_description":"","discussion":[{"poster":"Bulti","upvote_count":"3","timestamp":"1673912640.0","comment_id":"778384","content":"B is correct."},{"upvote_count":"1","poster":"saeidp","timestamp":"1672613460.0","content":"B is correct","comment_id":"763372"},{"poster":"SatenderRathee","upvote_count":"1","content":"Selected Answer: B\nThese are two differnet filters so B","timestamp":"1670676840.0","comment_id":"740979"},{"content":"Selected Answer: B\nI'll go with B","comment_id":"696994","timestamp":"1665988140.0","poster":"ducluanxutrieu","upvote_count":"1"},{"poster":"mgm7","timestamp":"1665946560.0","upvote_count":"1","content":"Selected Answer: B\nhttps://docs.aws.amazon.com/AmazonS3/latest/userguide/notification-how-to-filtering.html shows that you can have two non overlapping filters triggering two distinct actions, which shows A does not apply here. \nIf B is not taken care of, it certainly will not work, so I will go with B","comment_id":"696447"},{"poster":"mvsnogueira2022","timestamp":"1665194700.0","upvote_count":"2","content":"B\nhttps://aws.amazon.com/premiumsupport/knowledge-center/unable-validate-destination-s3/","comment_id":"688979"},{"poster":"quixo","comment_id":"682382","content":"I will go with A\nRefer: https://docs.aws.amazon.com/AmazonS3/latest/userguide/notification-how-to-filtering.html","upvote_count":"1","timestamp":"1664430960.0"},{"upvote_count":"1","timestamp":"1664032260.0","comment_id":"677925","content":"Selected Answer: A\nS3 event notification supports SNS, SQS and Lambda. However, it is not possible to have multiple Events defined for the same 'triggers'. \nhttps://stackoverflow.com/questions/55079923/programmatically-add-multiple-event-notifications-to-s3-bucket","comments":[{"content":"Just tested.. You van trigger lambda using txt and SNS using csv.. So. The answers here is B.. Permission..","poster":"itbrpl","timestamp":"1677603660.0","comment_id":"825053","upvote_count":"2"},{"poster":"Piccaso","upvote_count":"1","timestamp":"1675770480.0","comment_id":"800829","content":"I think .... yeah ....."}],"poster":"RightAnswers"},{"upvote_count":"2","comment_id":"657145","content":"B sounds right","poster":"devops7","timestamp":"1662105060.0"},{"content":"B - https://docs.aws.amazon.com/AmazonS3/latest/userguide/grant-destinations-permissions-to-s3.html","upvote_count":"3","poster":"ohcn","comment_id":"655569","timestamp":"1661986620.0"}],"answer_images":[],"answers_community":["B (75%)","A (25%)"],"question_images":[],"url":"https://www.examtopics.com/discussions/amazon/view/78822-exam-aws-devops-engineer-professional-topic-1-question-55/","question_text":"A DevOps engineer sets up two Amazon S3 event notifications for an S3 bucket from the S3 console. Both event notifications will be invoked when an object PUT action occurs. One event notification will invoke an AWS Lambda function if the file suffix is .csv. Another event notification will invoke an Amazon Simple\nNotification Service (Amazon SNS) topic if the file suffix is .xlsx\nThe DevOps engineer notices that files with the .csv suffix can invoke the Lambda function successfully. However, files with the .xlsx suffix cannot invoke the SNS topic.\nWhich reason explains why the SNS topic is not invoked when .xlsx files are added to the S3 bucket?","exam_id":35,"isMC":true}],"exam":{"provider":"Amazon","isMCOnly":false,"isBeta":false,"id":35,"name":"AWS DevOps Engineer Professional","isImplemented":true,"numberOfQuestions":208,"lastUpdated":"11 Apr 2025"},"currentPage":32},"__N_SSP":true}